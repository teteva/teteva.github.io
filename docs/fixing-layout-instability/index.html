
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=b2f66666fa1e3">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=d36bfe81b7ad7">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Fixing layout instability</title>
<meta name="description" content="A walkthrough of using WebPageTest to identify and fix layout instability issues. " />

<link rel="canonical" href="https://web.dev/fixing-layout-instability/" />

<meta itemprop="name" content="Fixing layout instability" />
<meta itemprop="description" content="A walkthrough of using WebPageTest to identify and fix layout instability issues. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/fixing-layout-instability/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Fixing layout instability" />
<meta property="og:description" content="A walkthrough of using WebPageTest to identify and fix layout instability issues. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="" />
<meta property="tag" content="ux" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Fixing layout instability" />
<meta name="twitter:description" content="A walkthrough of using WebPageTest to identify and fix layout instability issues. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=fcd5c93a90c24', 'module');




  loadScript('/js/content.js?v=3e7eb8238130f', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  






<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#measuring-layout-shifts">Measuring layout shifts</a></li><li class="toc__listitem"><a class="toc__anchor" href="#measuring-layout-shifts-in-webpagetest">Measuring layout shifts in WebPageTest</a></li><li class="toc__listitem"><a class="toc__anchor" href="#identifying-causes-of-layout-instability">Identifying causes of layout instability</a></li><li class="toc__listitem"><a class="toc__anchor" href="#fixing-layout-instability">Fixing layout instability</a></li><li class="toc__listitem"><a class="toc__anchor" href="#verifying-the-optimizations">Verifying the optimizations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#(one-more-thing)-measuring-layout-instability-experienced-by-real-users">(One more thing) Measuring layout instability experienced by real users</a></li></ul></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="fixing-layout-instability">Fixing layout instability</h1>
        
          <p class="color-mid-text flow-space-base">
            A walkthrough of using WebPageTest to identify and fix layout instability issues.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Sep 30, 2019</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/rviscomi/"> <img     alt="Rick Viscomi"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/oWRqaR6XXwIdNXPLpUMn.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/rviscomi/">Rick Viscomi</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/rick_viscomi">Twitter</a>
               <a href="https://github.com/rviscomi">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#measuring-layout-shifts">Measuring layout shifts</a></li><li class="toc__listitem"><a class="toc__anchor" href="#measuring-layout-shifts-in-webpagetest">Measuring layout shifts in WebPageTest</a></li><li class="toc__listitem"><a class="toc__anchor" href="#identifying-causes-of-layout-instability">Identifying causes of layout instability</a></li><li class="toc__listitem"><a class="toc__anchor" href="#fixing-layout-instability">Fixing layout instability</a></li><li class="toc__listitem"><a class="toc__anchor" href="#verifying-the-optimizations">Verifying the optimizations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#(one-more-thing)-measuring-layout-instability-experienced-by-real-users">(One more thing) Measuring layout instability experienced by real users</a></li></ul></li></ul></div>
    </details>
  </div>



      <p>In an earlier post I wrote about <a href="https://dev.to/chromiumdev/measuring-cumulative-layout-shift-cls-in-webpagetest-5cle" rel="noopener">measuring Cumulative Layout Shift</a> (CLS) in WebPageTest. CLS is an aggregation of all layout shifts, so in this post I thought it'd be interesting to dive deeper and inspect each individual layout shift on a page to try to understand what could be causing the instability and actually try to fix the issue(s).</p>
<h2 id="measuring-layout-shifts">Measuring layout shifts <a class="w-headline-link" href="#measuring-layout-shifts">#</a></h2>
<p>Using the Layout Instability API, we can get a list of all layout shift events on a page:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token parameter">list</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token function">resolve</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token operator">=></span> <span class="token operator">!</span>entry<span class="token punctuation">.</span>hadRecentInput<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">"layout-shift"</span><span class="token punctuation">,</span> buffered<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>This produces an array of layout shifts that are not preceded by input events:</p>
<web-copy-code><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br>    <span class="token property">"entryType"</span><span class="token operator">:</span> <span class="token string">"layout-shift"</span><span class="token punctuation">,</span><br>    <span class="token property">"startTime"</span><span class="token operator">:</span> <span class="token number">210.78500000294298</span><span class="token punctuation">,</span><br>    <span class="token property">"duration"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token number">0.0001045969445437389</span><span class="token punctuation">,</span><br>    <span class="token property">"hadRecentInput"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">"lastInputTime"</span><span class="token operator">:</span> <span class="token number">0</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">]</span></code></pre>
</web-copy-code><p>In this example there was a single very tiny shift of 0.01% at 210ms.</p>
<p>Knowing the time and severity of the shift is useful to help narrow down what could have caused the shift. Let's turn back to <a href="https://webpagetest.org" rel="noopener">WebPageTest</a> for a lab environment to do more testing.</p>
<h2 id="measuring-layout-shifts-in-webpagetest">Measuring layout shifts in WebPageTest <a class="w-headline-link" href="#measuring-layout-shifts-in-webpagetest">#</a></h2>
<p>Similar to measuring CLS in WebPageTest, measuring individual layout shifts will require a custom metric. Fortunately, the process is easier now that Chrome 77 is stable. The Layout Instability API is enabled by default, so you should be able to execute that JS snippet on any website within Chrome 77 and get results immediately. In WebPageTest, you can use the default Chrome browser and not have to worry about command line flags or using Canary.</p>
<p>So let's modify that script to produce a custom metric for WebPageTest:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token punctuation">[</span>LayoutShifts<span class="token punctuation">]</span><br><span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token parameter">resolve</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token parameter">list</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>list<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token parameter">entry</span> <span class="token operator">=></span> <span class="token operator">!</span>entry<span class="token punctuation">.</span>hadRecentInput<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">"layout-shift"</span><span class="token punctuation">,</span> buffered<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>The promise in this script resolves to a JSON representation of the array rather than the array itself. This is because custom metrics can only produce primitive data types like strings or numbers.</p>
<p>The website I'll use for the test is <a href="https://ismyhostfastyet.com/" rel="noopener">ismyhostfastyet.com</a>, a site I built to compare real world loading performance of web hosts.</p>
<h2 id="identifying-causes-of-layout-instability">Identifying causes of layout instability <a class="w-headline-link" href="#identifying-causes-of-layout-instability">#</a></h2>
<p>In the <a href="http://webpagetest.org/custom_metrics.php?test=190918_6E_ef3c166b4a34033171d47e389cf82939&amp;run=5&amp;cached=0" rel="noopener">results</a> we can see the LayoutShifts custom metric has this value:</p>
<web-copy-code><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br>    <span class="token property">"entryType"</span><span class="token operator">:</span> <span class="token string">"layout-shift"</span><span class="token punctuation">,</span><br>    <span class="token property">"startTime"</span><span class="token operator">:</span> <span class="token number">3087.2349999990547</span><span class="token punctuation">,</span><br>    <span class="token property">"duration"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token number">0.3422101449275362</span><span class="token punctuation">,</span><br>    <span class="token property">"hadRecentInput"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">"lastInputTime"</span><span class="token operator">:</span> <span class="token number">0</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">]</span></code></pre>
</web-copy-code><p>To summarize, there is a single layout shift of 34.2% happening at 3087ms. To help identify the culprit, let's use WebPageTest's <a href="http://webpagetest.org/video/compare.php?tests=190918_6E_ef3c166b4a34033171d47e389cf82939-r%3A5-c%3A0&amp;thumbSize=200&amp;ival=100&amp;end=visual" rel="noopener">filmstrip view</a>.</p>
<figure class="w-figure">
  <img     alt="Two cells in the filmstrip, showing screenshots before and after the layout shift."     class="w-screenshot"     decoding="async"     height="341"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/h1QidJnqWmFsk25yq1iu.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Two cells in the filmstrip, showing screenshots before and after the layout shift.</figcaption>
</figure>
<p>Scrolling to the ~3 second mark in the filmstrip shows us exactly what the cause of the 34% layout shift is: the colorful table. The website asynchronously fetches a JSON file, then renders it to a table. The table is initially empty, so waiting to fill it up when the results are loaded is causing the shift.</p>
<figure class="w-figure">
  <img     alt="Web font header appearing out of nowhere."     class="w-screenshot"     decoding="async"     height="336"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/hlbsiYTsFfVjpNk18ii4.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Web font header appearing out of nowhere.</figcaption>
</figure>
<p>But that's not all. When the page is visually complete at ~4.3 seconds, we can see that the <code>&lt;h1&gt;</code> of the page &quot;Is my host fast yet?&quot; appears out of nowhere. This happens because the site uses a web font and hasn't taken any steps to optimize rendering. The layout doesn't actually appear to shift when this happens, but it's still a poor user experience to have to wait so long to read the title.</p>
<h2 id="fixing-layout-instability">Fixing layout instability <a class="w-headline-link" href="#fixing-layout-instability">#</a></h2>
<p>Now that we know the asynchronously generated table is causing one-third of the viewport to shift, it's time to fix it. We don't know the contents of the table until the JSON results are actually loaded, but we can still populate the table with some kind of <em>placeholder data</em> so that the layout itself is relatively stable when the DOM is rendered.</p>
<p>Here's the code to generate placeholder data:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">getRandomFiller</span><span class="token punctuation">(</span><span class="token parameter">maxLength</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> filler <span class="token operator">=</span> <span class="token string">'█'</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> len <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">ceil</span><span class="token punctuation">(</span>Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> maxLength<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span>len<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>filler<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">function</span> <span class="token function">getRandomDistribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> fast <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> avg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token number">1</span> <span class="token operator">-</span> fast<span class="token punctuation">)</span> <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">var</span> slow <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> <span class="token punctuation">(</span>fast <span class="token operator">+</span> avg<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token punctuation">[</span>fast<span class="token punctuation">,</span> avg<span class="token punctuation">,</span> slow<span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Temporary placeholder data.</span><br>window<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">36</span><span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">var</span> <span class="token punctuation">[</span>fast<span class="token punctuation">,</span> avg<span class="token punctuation">,</span> slow<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">getRandomDistribution</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  window<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    platform<span class="token operator">:</span> <span class="token function">getRandomFiller</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    client<span class="token operator">:</span> <span class="token function">getRandomFiller</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    n<span class="token operator">:</span> <span class="token function">getRandomFiller</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    fast<span class="token punctuation">,</span><br>    avg<span class="token punctuation">,</span><br>    slow<br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><span class="token function">updateResultsTable</span><span class="token punctuation">(</span><span class="token function">sortResults</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>data<span class="token punctuation">,</span> <span class="token string">'fast'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>The placeholder data is generated randomly before being sorted. It includes the &quot;█&quot; character repeated a random number of times to create visual placeholders for the text and a randomly generated distribution of the three main values. I also added some styles to desaturate all color from the table to make it clear that the data is not fully loaded yet.</p>
<p>The appearance of the placeholders you use don't matter for layout stability. The purpose of the placeholders is to assure users that content <em>is</em> coming and the page isn't broken.</p>
<p>Here's what the placeholders look like while the JSON data is loading:</p>
<figure class="w-figure">
  <img     alt="The data table is rendered with placeholder data."     class="w-screenshot"     decoding="async"     height="486"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/hF2EmHSpJArXA6TQ6Cm7.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">The data table is rendered with placeholder data.</figcaption>
</figure>
<p>Addressing the web font issue is much simpler. Because the site is using Google Fonts, we just need to pass in the <code>display=swap</code> property in the CSS request. That's all. The Fonts API will add the <code>font-display: swap</code> style in the font declaration, enabling the browser to render text in a fallback font immediately. Here's the corresponding markup with the fix included:</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Chivo:900&amp;display=swap<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
</web-copy-code><h2 id="verifying-the-optimizations">Verifying the optimizations <a class="w-headline-link" href="#verifying-the-optimizations">#</a></h2>
<p>After rerunning the page through WebPageTest, we can generate a before and after <a href="http://webpagetest.org/video/compare.php?tests=190918_6E_ef3c166b4a34033171d47e389cf82939%2C190918_WF_60f9c9a1c669b20039860c09ca27df7c&amp;thumbSize=200&amp;ival=100&amp;end=visual" rel="noopener">comparison</a> to visualize the difference and measure the new degree of layout instability:</p>
<figure class="w-figure">
  <img     alt="WebPageTest filmstrip showing both sites loading side-by-side with and without layout optimizations."     class="w-screenshot"     decoding="async"     height="288"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/1BJlP3HxeynRw0gRt52H.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">WebPageTest filmstrip showing both sites loading side-by-side with and without layout optimizations.</figcaption>
</figure>
<web-copy-code><pre class="language-json"><code class="language-json"><span class="token punctuation">[</span><br>  <span class="token punctuation">{</span><br>    <span class="token property">"name"</span><span class="token operator">:</span> <span class="token string">""</span><span class="token punctuation">,</span><br>    <span class="token property">"entryType"</span><span class="token operator">:</span> <span class="token string">"layout-shift"</span><span class="token punctuation">,</span><br>    <span class="token property">"startTime"</span><span class="token operator">:</span> <span class="token number">3070.9349999997357</span><span class="token punctuation">,</span><br>    <span class="token property">"duration"</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span><br>    <span class="token property">"value"</span><span class="token operator">:</span> <span class="token number">0.000050272187989256116</span><span class="token punctuation">,</span><br>    <span class="token property">"hadRecentInput"</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span><br>    <span class="token property">"lastInputTime"</span><span class="token operator">:</span> <span class="token number">0</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">]</span></code></pre>
</web-copy-code><p>According to the <a href="http://webpagetest.org/custom_metrics.php?test=190918_WF_60f9c9a1c669b20039860c09ca27df7c&amp;run=9&amp;cached=0" rel="noopener">custom metric</a>, there is still a layout shift occurring at 3071ms (about the same time as before) but the severity of the shift is <em>much</em> smaller: 0.005%. I can live with this.</p>
<p>It's also clear from the filmstrip that the <code>&lt;h1&gt;</code> font is immediately falling back to a system font, enabling users to read it sooner.</p>
<h2 id="conclusion">Conclusion <a class="w-headline-link" href="#conclusion">#</a></h2>
<p>Complex websites will probably experience many more layout shifts than in this example, but the remediation process is still the same: add layout instability metrics to WebPageTest, cross-reference the results with the visual loading filmstrip to identify the culprits, and implement a fix using placeholders to reserve the screen real estate.</p>
<h3 id="(one-more-thing)-measuring-layout-instability-experienced-by-real-users">(One more thing) Measuring layout instability experienced by real users <a class="w-headline-link" href="#(one-more-thing)-measuring-layout-instability-experienced-by-real-users">#</a></h3>
<p>It's nice to be able to run WebPageTest on a page before and after an optimization and see an improvement to a metric, but what really matters is that the user experience is actually getting better. Isn't that why we're trying to make the site better in the first place?</p>
<p>So what would be great is if we start measuring the layout instability experiences of real users along with our traditional web performance metrics. This is a crucial piece of the optimization feedback loop because having data from the field tells us where the problems are and whether our fixes made a positive difference.</p>
<p>In addition to collecting your own layout instability data, check out the <a href="https://twitter.com/ChromeUXReport/status/1138555303379816448" rel="noopener">Chrome UX Report</a>, which includes Cumulative Layout Shift data from real user experiences on millions of websites. It allows you to find out how you (or your competitors) are performing, or you can use it to explore the state of layout instability across the web.</p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/ux/">UX</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Sep 30, 2019</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/fixing-layout-instability/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@rick_viscomi"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
