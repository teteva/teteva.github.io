
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=47efc9cdf1164">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=83d790dd42689">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Customize media notifications and playback controls with the Media Session API</title>
<meta name="description" content="Web developers can customize media notifications and respond to media related events such as seeking or track changing with the Media Session API. " />

<link rel="canonical" href="https://web.dev/media-session/" />

<meta itemprop="name" content="Customize media notifications and playback controls with the Media Session API" />
<meta itemprop="description" content="Web developers can customize media notifications and respond to media related events such as seeking or track changing with the Media Session API. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/Q6CqQNLucogBCxGMsSU2.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/media-session/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Customize media notifications and playback controls with the Media Session API" />
<meta property="og:description" content="Web developers can customize media notifications and respond to media related events such as seeking or track changing with the Media Session API. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/Q6CqQNLucogBCxGMsSU2.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="" />
<meta property="tag" content="media" />
<meta property="tag" content="audio" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Customize media notifications and playback controls with the Media Session API" />
<meta name="twitter:description" content="Web developers can customize media notifications and respond to media related events such as seeking or track changing with the Media Session API. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/Q6CqQNLucogBCxGMsSU2.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=609a7d49448cc', 'module');




  loadScript('/js/content.js?v=69512b14396e7', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt=""     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/IhujMvzGa5Mf0aNWYRXW.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#about-the-media-session-api">About the Media Session API</a></li><li class="toc__listitem"><a class="toc__anchor" href="#let-users-know-what's-playing">Let users know what's playing</a></li><li class="toc__listitem"><a class="toc__anchor" href="#let-users-control-what's-playing">Let users control what's playing</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#play-pause">Play / pause</a></li><li class="toc__listitem"><a class="toc__anchor" href="#previous-track">Previous track</a></li><li class="toc__listitem"><a class="toc__anchor" href="#next-track">Next track</a></li><li class="toc__listitem"><a class="toc__anchor" href="#stop">Stop</a></li><li class="toc__listitem"><a class="toc__anchor" href="#seek-backward-forward">Seek backward / forward</a></li><li class="toc__listitem"><a class="toc__anchor" href="#seek-to-a-specific-time">Seek to a specific time</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#set-playback-position">Set playback position</a></li><li class="toc__listitem"><a class="toc__anchor" href="#video-conferencing-actions">Video conferencing actions</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#toggle-microphone">Toggle microphone</a></li><li class="toc__listitem"><a class="toc__anchor" href="#toggle-camera">Toggle camera</a></li><li class="toc__listitem"><a class="toc__anchor" href="#hang-up">Hang up</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#samples">Samples</a></li><li class="toc__listitem"><a class="toc__anchor" href="#resources">Resources</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="customize-media-notifications-and-playback-controls-with-the-media-session-api">Customize media notifications and playback controls with the Media Session API</h1>
        
          <p class="color-mid-text flow-space-base">
            How to integrate with hardware media keys, customize media notifications, and more.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Mar 6, 2020</time>
             — Updated <time>Nov 2, 2021</time> 
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/beaufortfrancois/"> <img     alt="François Beaufort"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/beaufortfrancois/">François Beaufort</a>
    </cite>
    <div class="author__links cluster">
               
               <a href="https://github.com/beaufortfrancois">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#about-the-media-session-api">About the Media Session API</a></li><li class="toc__listitem"><a class="toc__anchor" href="#let-users-know-what's-playing">Let users know what's playing</a></li><li class="toc__listitem"><a class="toc__anchor" href="#let-users-control-what's-playing">Let users control what's playing</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#play-pause">Play / pause</a></li><li class="toc__listitem"><a class="toc__anchor" href="#previous-track">Previous track</a></li><li class="toc__listitem"><a class="toc__anchor" href="#next-track">Next track</a></li><li class="toc__listitem"><a class="toc__anchor" href="#stop">Stop</a></li><li class="toc__listitem"><a class="toc__anchor" href="#seek-backward-forward">Seek backward / forward</a></li><li class="toc__listitem"><a class="toc__anchor" href="#seek-to-a-specific-time">Seek to a specific time</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#set-playback-position">Set playback position</a></li><li class="toc__listitem"><a class="toc__anchor" href="#video-conferencing-actions">Video conferencing actions</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#toggle-microphone">Toggle microphone</a></li><li class="toc__listitem"><a class="toc__anchor" href="#toggle-camera">Toggle camera</a></li><li class="toc__listitem"><a class="toc__anchor" href="#hang-up">Hang up</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#samples">Samples</a></li><li class="toc__listitem"><a class="toc__anchor" href="#resources">Resources</a></li></ul></div>
    </details>
  </div>



      <div class="youtube">  <lite-youtube    videoid="Ft6diPReUAU"      >  </lite-youtube></div>
<p>To let users know what's currently playing in their browser and control it
without returning to the page that launched it, the Media Session API has been
introduced. It allows web developers to customize this experience through
metadata in custom media notifications, media events such as playing, pausing,
seeking, track changing, and video conferencing events such as mute/unmute
microphone, turnon/turnoff camera, and hang up. These customizations are
available in several contexts including desktop media hubs, media notifications
on mobile, and even on wearable devices. I'll describe these customizations in
this article.</p>
<figure class="w-figure">
  <img     alt="Screenshots of Media Session contexts."          decoding="async"     height="330"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/qwTz64KKq4rq7WeA3rlT.jpg?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Media hub on desktop, media notification on mobile, and a wearable device.</figcaption>
</figure>
<h2 id="about-the-media-session-api">About the Media Session API <a class="w-headline-link" href="#about-the-media-session-api">#</a></h2>
<p>The Media session API provides several benefits and capabilities:</p>
<ul>
<li>Hardware media keys are supported.</li>
<li>Media notifications are customized on mobile, desktop, and paired wearable device.</li>
<li>The <a href="https://blog.google/products/chrome/manage-audio-and-video-in-chrome/" rel="noopener">media hub</a> is available on desktop.</li>
<li>Lock screen media controls are available on <a href="https://www.blog.google/products/chromebooks/whats-new-december2019/" rel="noopener">Chrome OS</a> and mobile.</li>
<li>Picture-in-Picture window controls are available for both <a href="https://developers.google.com/web/updates/2018/10/watch-video-using-picture-in-picture#show_canvas_element_in_picture-in-picture_window" rel="noopener">audio playback</a>
and <a href="#video-conferencing-actions">video conferencing</a>.</li>
<li>Assistant integration on mobile is available.</li>
</ul>
<div class="browser-compat">
      <span>Browser support:</span>
      <span class="browser-compat__icon browser-compat--chrome">
          <span class="w-visually-hidden">chrome 73, Supported</span>
      </span>
      <span class="browser-compat__version browser-compat--true">
        73
      </span>
      <span class="browser-compat__icon browser-compat--firefox">
          <span class="w-visually-hidden">firefox 82, Supported</span>
      </span>
      <span class="browser-compat__version browser-compat--true">
        82
      </span>
      <span class="browser-compat__icon browser-compat--edge">
          <span class="w-visually-hidden">edge 79, Supported</span>
      </span>
      <span class="browser-compat__version browser-compat--true">
        79
      </span>
      <span class="browser-compat__icon browser-compat--safari">
          <span class="w-visually-hidden">safari 15, Supported</span>
      </span>
      <span class="browser-compat__version browser-compat--true">
        15
      </span>
<p><span class="browser-compat__link">
<a href="https://developer.mozilla.org/docs/Web/API/MediaSession#browser_compatibility" target="_blank">
Source
</a>
</span>
</div></p>
<p>A few examples will illustrate some of these points.</p>
<p><b>Example 1:</b> If users press the &quot;next track&quot; media key of their keyboard,
web developers can handle this user action whether the browser is in the foreground
or the background.</p>
<p><b>Example 2:</b> If users listen to a podcast on the web while their device
screen is locked, they can still hit the &quot;seek backward&quot; icon from the lock
screen media controls so that web developers move playback time backward by few
seconds.</p>
<p><b>Example 3:</b> If users have tabs playing audio, they can easily stop
playback from the media hub on desktop so that web developers have a chance to
clear their state.</p>
<p><b>Example 4:</b> If users are on a video call, they can press the &quot;toggle
microphone&quot; control in the Picture-in-Picture window to stop the website from
receiving microphone data.</p>
<p>This is all done through two different interfaces: The <code>MediaSession</code> interface
and the <code>MediaMetadata</code> interface. The first lets users control whatever's
playing. The second is how you tell <code>MediaSession</code> what needs to be controlled.</p>
<p>To illustrate, the image below shows how these interfaces relate to specific
media controls, in this case a media notification on mobile.</p>
<figure class="w-figure">
  <img     alt="Media Session interfaces illustration."          decoding="async"     height="353"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/eiavbbCE6TlI8osR1tYT.jpg?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Anatomy of a media notification on mobile.</figcaption>
</figure>
<h2 id="let-users-know-what's-playing">Let users know what's playing <a class="w-headline-link" href="#let-users-know-what's-playing">#</a></h2>
<p>When a website is playing audio or video, users automatically get media
notifications either in the notification tray on mobile, or the media hub on
desktop. The browser does its best to show appropriate information by using the
document's title and the largest icon image it can find. With the Media Session
API, it's possible to customize the media notification with some richer media
metadata such as the title, artist name, album name, and artwork as shown below.</p>
<p>Chrome requests &quot;full&quot; audio focus to show media notifications only when the
media duration is <a href="https://chromium.googlesource.com/chromium/src/+/5d8eab739eb23c4fd27ba6a18b0e1afc15182321/media/base/media_content_type.cc#10" rel="noopener">at least 5 seconds</a>. This ensures that incidental sounds
such as dings don't show notifications.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// After media (video or audio) starts playing</span><br><span class="token keyword">await</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"video"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">"mediaSession"</span> <span class="token keyword">in</span> navigator<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span>metadata <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaMetadata</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    title<span class="token operator">:</span> <span class="token string">'Never Gonna Give You Up'</span><span class="token punctuation">,</span><br>    artist<span class="token operator">:</span> <span class="token string">'Rick Astley'</span><span class="token punctuation">,</span><br>    album<span class="token operator">:</span> <span class="token string">'Whenever You Need Somebody'</span><span class="token punctuation">,</span><br>    artwork<span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">'https://via.placeholder.com/96'</span><span class="token punctuation">,</span>   sizes<span class="token operator">:</span> <span class="token string">'96x96'</span><span class="token punctuation">,</span>   type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">'https://via.placeholder.com/128'</span><span class="token punctuation">,</span> sizes<span class="token operator">:</span> <span class="token string">'128x128'</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">'https://via.placeholder.com/192'</span><span class="token punctuation">,</span> sizes<span class="token operator">:</span> <span class="token string">'192x192'</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">'https://via.placeholder.com/256'</span><span class="token punctuation">,</span> sizes<span class="token operator">:</span> <span class="token string">'256x256'</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">'https://via.placeholder.com/384'</span><span class="token punctuation">,</span> sizes<span class="token operator">:</span> <span class="token string">'384x384'</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span> src<span class="token operator">:</span> <span class="token string">'https://via.placeholder.com/512'</span><span class="token punctuation">,</span> sizes<span class="token operator">:</span> <span class="token string">'512x512'</span><span class="token punctuation">,</span> type<span class="token operator">:</span> <span class="token string">'image/png'</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">// TODO: Update playback state.</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>When playback ends, there is no need to &quot;release&quot; the media session as the
notification will automatically disappear. Keep in mind that
<code>navigator.mediaSession.metadata</code> will be used when the next playback starts
though. This is why it's important to update it when the media playback source
changes to make sure relevant information is shown in the media notification.</p>
<p>There are a few things to note about the media metadata.</p>
<ul>
<li>Notification artwork array supports blob URLs and data URLs.</li>
<li>If no artwork is defined and there is an icon image (specified using <code>&lt;link rel=icon&gt;</code>) at a desirable size, media notifications will use it.</li>
<li>Notification artwork target size in Chrome for Android is <code>512x512</code>. For
low-end devices, it is <code>256x256</code>.</li>
<li>The <code>title</code> attribute of the media HTML element is used in the &quot;Now playing&quot;
macOS widget.</li>
<li>If the media resource is embedded (for example in a iframe), Media Session API
information must be set from the embedded context. See snippet below.</li>
</ul>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token operator">&lt;</span>iframe id<span class="token operator">=</span><span class="token string">"iframe"</span><span class="token operator">></span><br>  <span class="token operator">&lt;</span>video<span class="token operator">></span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span>video<span class="token operator">></span><br><span class="token operator">&lt;</span><span class="token operator">/</span>iframe<span class="token operator">></span><br><span class="token operator">&lt;</span>script<span class="token operator">></span><br>  iframe<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span>metadata <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaMetadata</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    title<span class="token operator">:</span> <span class="token string">'Never Gonna Give You Up'</span><span class="token punctuation">,</span><br>    <span class="token operator">...</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">></span></code></pre>
</web-copy-code><h2 id="let-users-control-what's-playing">Let users control what's playing <a class="w-headline-link" href="#let-users-control-what's-playing">#</a></h2>
<p>A media session action is an action (for example &quot;play&quot; or &quot;pause&quot;) that a website can
handle for users when they interact with the current media playback. Actions are
analogous to and work much the same as events. Like events, actions are
implemented by setting handlers on an appropriate object, an instance of
<code>MediaSession</code>, in this case. Some actions are triggered when users press
buttons from a headset, another remote device, a keyboard, or interact with a
media notification.</p>
<figure class="w-figure">
  <img     alt="Screenshot of a media notification in Windows 10."          decoding="async"     height="450"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/9rN4x5GXdhg4qjC0ZEmk.jpg?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Customized media notification in Windows 10.</figcaption>
</figure>
<p>Because some media session actions may not be supported, it is recommended to
use a <code>try…catch</code> block when setting them.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> actionHandlers <span class="token operator">=</span> <span class="token punctuation">[</span><br>  <span class="token punctuation">[</span><span class="token string">'play'</span><span class="token punctuation">,</span>          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'pause'</span><span class="token punctuation">,</span>         <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'previoustrack'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'nexttrack'</span><span class="token punctuation">,</span>     <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'stop'</span><span class="token punctuation">,</span>          <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'seekbackward'</span><span class="token punctuation">,</span>  <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'seekforward'</span><span class="token punctuation">,</span>   <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'seekto'</span><span class="token punctuation">,</span>        <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token comment">/* Video conferencing actions */</span><br>  <span class="token punctuation">[</span><span class="token string">'togglemicrophone'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'togglecamera'</span><span class="token punctuation">,</span>     <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br>  <span class="token punctuation">[</span><span class="token string">'hangup'</span><span class="token punctuation">,</span>           <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span> <span class="token comment">/* ... */</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><br><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token punctuation">[</span>action<span class="token punctuation">,</span> handler<span class="token punctuation">]</span> <span class="token keyword">of</span> actionHandlers<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">try</span> <span class="token punctuation">{</span><br>    navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span>action<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The media session action "</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>action<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">" is not supported yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>Unsetting a media session action handler is as easy as setting it to <code>null</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">try</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Unset the "nexttrack" action handler at the end of a playlist.</span><br>  navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'nexttrack'</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">The media session action "nexttrack" is not supported yet.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>Once set, media session action handlers will persist through media playbacks.
This is similar to the event listener pattern except that handling an event
means that the browser stops doing any default behavior and uses this as a
signal that the website supports the media action. Hence, media action controls
won't be shown unless the proper action handler is set.</p>
<figure class="w-figure">
  <img     alt="Screenshot of the Now Playing widget in macOS Big Sur."          decoding="async"     height="450"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/WBZAf1ymhtXInsWumHtw.jpg?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Now Playing widget in macOS Big Sur.</figcaption>
</figure>
<h3 id="play-pause">Play / pause <a class="w-headline-link" href="#play-pause">#</a></h3>
<p>The <code>&quot;play&quot;</code> action indicates that the user wants to resume the media playback
while <code>&quot;pause&quot;</code> indicates a desire to temporarily halt it.</p>
<p>The &quot;play/pause&quot; icon is always shown in a media notification and the related
media events are handled automatically by the browser. To override their default
behavior, handle &quot;play&quot; and &quot;pause&quot; media actions as shown below.</p>
<p>The browser may consider a website to not be playing media when seeking or
loading for instance. In this case, override this behavior by setting
<code>navigator.mediaSession.playbackState</code> to <code>&quot;playing&quot;</code> or <code>&quot;paused&quot;</code> to make sure
the website UI stays in sync with media notification controls.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'play'</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Resume playback</span><br>  <span class="token keyword">await</span> video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'pause'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Pause active playback</span><br>  video<span class="token punctuation">.</span><span class="token function">pause</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>video<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'play'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span>playbackState <span class="token operator">=</span> <span class="token string">'playing'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>video<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'pause'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span>playbackState <span class="token operator">=</span> <span class="token string">'paused'</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="previous-track">Previous track <a class="w-headline-link" href="#previous-track">#</a></h3>
<p>The <code>&quot;previoustrack&quot;</code> action indicates that the user either wants to start the
current media playback from the beginning if the media playback has a notion of
beginning, or move to the previous item in the playlist if the media playback
has a notion of a playlist.</p>
<web-copy-code><pre class="language-js"><code class="language-js">navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'previoustrack'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Play previous track.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="next-track">Next track <a class="w-headline-link" href="#next-track">#</a></h3>
<p>The <code>&quot;nexttrack&quot;</code> action indicates that the user wants to move media playback to
the next item in the playlist if the media playback has a notion of a playlist.</p>
<web-copy-code><pre class="language-js"><code class="language-js">navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'nexttrack'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Play next track.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="stop">Stop <a class="w-headline-link" href="#stop">#</a></h3>
<p>The <code>&quot;stop&quot;</code> action indicates that the user wants to stop the media playback and
clear the state if appropriate.</p>
<web-copy-code><pre class="language-js"><code class="language-js">navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'stop'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Stop playback and clear state if appropriate.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="seek-backward-forward">Seek backward / forward <a class="w-headline-link" href="#seek-backward-forward">#</a></h3>
<p>The <code>&quot;seekbackward&quot;</code> action indicates that the user wants to move the media
playback time backward by a short period while <code>&quot;seekforward&quot;</code> indicates a desire
to move the media playback time forward by a short period. In both cases, a
short period means a few seconds.</p>
<p>The <code>seekOffset</code> value provided in the action handler is the time in seconds to
move the media playback time by. If it is not provided (for example <code>undefined</code>), then
you should use a sensible time (for example 10-30 seconds).</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> defaultSkipTime <span class="token operator">=</span> <span class="token number">10</span><span class="token punctuation">;</span> <span class="token comment">/* Time to skip in seconds by default */</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'seekbackward'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> skipTime <span class="token operator">=</span> details<span class="token punctuation">.</span>seekOffset <span class="token operator">||</span> defaultSkipTime<span class="token punctuation">;</span><br>  video<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>currentTime <span class="token operator">-</span> skipTime<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// TODO: Update playback state.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'seekforward'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> skipTime <span class="token operator">=</span> details<span class="token punctuation">.</span>seekOffset <span class="token operator">||</span> defaultSkipTime<span class="token punctuation">;</span><br>  video<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>video<span class="token punctuation">.</span>currentTime <span class="token operator">+</span> skipTime<span class="token punctuation">,</span> video<span class="token punctuation">.</span>duration<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// TODO: Update playback state.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="seek-to-a-specific-time">Seek to a specific time <a class="w-headline-link" href="#seek-to-a-specific-time">#</a></h3>
<p>The <code>&quot;seekto&quot;</code> action indicates that the user wants to move the media playback
time to a specific time.</p>
<p>The <code>seekTime</code> value provided in the action handler is the time in seconds to
move the media playback time to.</p>
<p>The <code>fastSeek</code> boolean provided in the action handler is true if the action is
being called multiple times as part of a sequence and this is not the last call
in that sequence.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'seekto'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>details<span class="token punctuation">.</span>fastSeek <span class="token operator">&amp;&amp;</span> <span class="token string">'fastSeek'</span> <span class="token keyword">in</span> video<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Only use fast seek if supported.</span><br>    video<span class="token punctuation">.</span><span class="token function">fastSeek</span><span class="token punctuation">(</span>details<span class="token punctuation">.</span>seekTime<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  video<span class="token punctuation">.</span>currentTime <span class="token operator">=</span> details<span class="token punctuation">.</span>seekTime<span class="token punctuation">;</span><br>  <span class="token comment">// TODO: Update playback state.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="set-playback-position">Set playback position <a class="w-headline-link" href="#set-playback-position">#</a></h2>
<p>Accurately displaying the media playback position in a notification is as simple
as setting the position state at an appropriate time as shown below. The
position state is a combination of the media playback rate, duration, and
current time.</p>
<figure class="w-figure">
  <img     alt="Screenshot of lock screen media controls in Chrome OS."          decoding="async"     height="450"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/Rlw13wMoaJrDziraXgUc.jpg?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Lock screen media controls in Chrome OS.</figcaption>
</figure>
<p>The duration must be provided and positive. The position must be positive and
less than the duration. The playback rate must be greater than 0.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> video <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'video'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">function</span> <span class="token function">updatePositionState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'setPositionState'</span> <span class="token keyword">in</span> navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setPositionState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>      duration<span class="token operator">:</span> video<span class="token punctuation">.</span>duration<span class="token punctuation">,</span><br>      playbackRate<span class="token operator">:</span> video<span class="token punctuation">.</span>playbackRate<span class="token punctuation">,</span><br>      position<span class="token operator">:</span> video<span class="token punctuation">.</span>currentTime<span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// When video starts playing, update duration.</span><br><span class="token keyword">await</span> video<span class="token punctuation">.</span><span class="token function">play</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token function">updatePositionState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// When user wants to seek backward, update position.</span><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'seekbackward'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">/* ... */</span><br>  <span class="token function">updatePositionState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// When user wants to seek forward, update position.</span><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'seekforward'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">/* ... */</span><br>  <span class="token function">updatePositionState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// When user wants to seek to a specific time, update position.</span><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'seekto'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">details</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">/* ... */</span><br>  <span class="token function">updatePositionState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token comment">// When video playback rate changes, update position state.</span><br>video<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'ratechange'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token function">updatePositionState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>Resetting the position state is as easy as setting it to <code>null</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// Reset position state when media is reset.</span><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setPositionState</span><span class="token punctuation">(</span><span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="video-conferencing-actions">Video conferencing actions <a class="w-headline-link" href="#video-conferencing-actions">#</a></h2>
<p>When the user puts their video call into a Picture-in-Picture window, the
browser may display controls for the microphone and camera, and for hanging up.
When the user clicks those, the website handles them through the video
conferencing actions below.</p>
<figure class="w-figure">
  <img     alt="Screenshot of video conferencing controls in a Picture-in-Picture window."          decoding="async"     height="464"          loading="lazy"     sizes="(min-width: 748px) 748px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vvhSqZboQoZZN9wBvoXq72wzGAf1/fXc7jqc95Oa6sKce7kpZ.jpg?auto=format&w=1496 1496w"          width="748"   />
  <figcaption class="w-figcaption">Video conferencing controls in a Picture-in-Picture window.</figcaption>
</figure>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>At the time of writing, video conferencing actions are available only in
Chrome 92 on desktop.</p>
</div></aside>
<h3 id="toggle-microphone">Toggle microphone <a class="w-headline-link" href="#toggle-microphone">#</a></h3>
<p>The <code>&quot;togglemicrophone&quot;</code> action indicates that the user wants to mute or unmute
the microphone. The <code>setMicrophoneActive(isActive)</code> method tells the browser
whether the website currently considers the microphone to be active.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> isMicrophoneActive <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'togglemicrophone'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>isMicrophoneActive<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Mute the microphone.</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Unmute the microphone.</span><br>  <span class="token punctuation">}</span><br>  isMicrophoneActive <span class="token operator">=</span> <span class="token operator">!</span>isMicrophoneActive<span class="token punctuation">;</span><br>  navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setMicrophoneActive</span><span class="token punctuation">(</span>isMicrophoneActive<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="toggle-camera">Toggle camera <a class="w-headline-link" href="#toggle-camera">#</a></h3>
<p>The <code>&quot;togglecamera&quot;</code> action indicates that the user wants to turn the active
camera on or off. The <code>setCameraActive(isActive)</code> method indicates whether the
browser considers the website to be active.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> isCameraActive <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span><br><br>navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'togglemicrophone'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>isCameraActive<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Disable the camera.</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Enable the camera.</span><br>  <span class="token punctuation">}</span><br>  isCameraActive <span class="token operator">=</span> <span class="token operator">!</span>isCameraActive<span class="token punctuation">;</span><br>  navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setCameraActive</span><span class="token punctuation">(</span>isCameraActive<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="hang-up">Hang up <a class="w-headline-link" href="#hang-up">#</a></h3>
<p>The <code>&quot;hangup&quot;</code> action indicates that the user wants to end a call.</p>
<web-copy-code><pre class="language-js"><code class="language-js">navigator<span class="token punctuation">.</span>mediaSession<span class="token punctuation">.</span><span class="token function">setActionHandler</span><span class="token punctuation">(</span><span class="token string">'hangup'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// End the call.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="samples">Samples <a class="w-headline-link" href="#samples">#</a></h2>
<p>Check out some <a href="https://googlechrome.github.io/samples/media-session/" rel="noopener">Media Session samples</a> featuring <a href="http://www.blender.org/" rel="noopener">Blender Foundation</a> and
<a href="http://www.wavemage.com/category/music/" rel="noopener">Jan Morgenstern's work</a>.</p>
 <figure class="w-figure">
  <video controls autoplay loop muted poster="https://storage.googleapis.com/webfundamentals-assets/videos/media-hub-desktop-720.jpg">
    <source src="https://storage.googleapis.com/webfundamentals-assets/videos/media-hub-desktop-720.webm" type="video/webm; codecs=vp9">
    <source src="https://storage.googleapis.com/webfundamentals-assets/videos/media-hub-desktop-720.mp4" type="video/mp4; codecs=h264">
  </video>
  <figcaption class="w-figcaption">
    A screencast illustrating the Media Session API.
  </figcaption>
</figure>
<h2 id="resources">Resources <a class="w-headline-link" href="#resources">#</a></h2>
<ul>
<li>Media Session Spec:
<a href="https://wicg.github.io/mediasession" rel="noopener">wicg.github.io/mediasession</a></li>
<li>Spec Issues:
<a href="https://github.com/WICG/mediasession/issues" rel="noopener">github.com/WICG/mediasession/issues</a></li>
<li>Chrome Bugs:
<a href="https://crbug.com/?q=component:Internals%3EMedia%3ESession" rel="noopener">crbug.com</a></li>
</ul>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/media/">Media</a>
          
        
          
            
            <a class="pill" href="/tags/audio/">Audio</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Nov 2, 2021</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/media-session/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="François Beaufort"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
