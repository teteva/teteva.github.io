
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
    <link rel="stylesheet" href="/css/main.css?v=8e90bd4bd5236">
  

  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>What should you measure to improve performance?</title>
<meta name="description" content="Learn what impact website performance has on different parts of the e-commerce funnel " />

<link rel="canonical" href="https://web.dev/what-should-you-measure-to-improve-performance/" />

<meta itemprop="name" content="What should you measure to improve performance?" />
<meta itemprop="description" content="Learn what impact website performance has on different parts of the e-commerce funnel " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/what-should-you-measure-to-improve-performance/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="What should you measure to improve performance?" />
<meta property="og:description" content="Learn what impact website performance has on different parts of the e-commerce funnel " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A row of shopping carts." />
<meta property="tag" content="performance" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="What should you measure to improve performance?" />
<meta name="twitter:description" content="Learn what impact website performance has on different parts of the e-commerce funnel " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=2f6ef354edee1', 'module');




  loadScript('/js/content.js?v=c27adcc709845', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    



<web-header class="header-default" role="navigation">
  <button data-open-drawer-button class="w-button--svg w-button--round" aria-label="Open menu">
    








  










  <svg class="icon " role="img" aria-label="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>


    <span class="w-tooltip w-tooltip--left">Open menu</span>
  </button>

  <a
    href="/"
    class="header-default__logo-link gc-analytics-event"
    data-category="Site-Wide Custom Events"
    data-label="Site logo"
  >
    <img class="header-default__logo" width="125" height="23" src="/images/lockup.svg" alt="web.dev" />
  </a>

  <div class="header-default__middle">
    <div class="header-default__links">
      <a
        href="/learn/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
      >
        Learn
      </a>

      <a
        href="/measure/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
      >
        Measure
      </a>

      <a
        href="/blog/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
      >
        Blog
      </a>

      <a
        href="/about/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About"
      >
        About
      </a>
    </div>
    <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
    <web-search-results id="search-main-results"></web-search-results>
  </div>

  <web-profile-switcher-container></web-profile-switcher-container>
</web-header>



<web-navigation-drawer class="drawer-default" type="modal">
  <nav data-drawer-container>
    <div class="drawer-default__contents">
      <div class="drawer-default__header">
        <button
          data-drawer-close-button
          class="drawer-default__hide w-button--svg w-button--round"
          aria-label="Close"
        >
          








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


          <span class="w-tooltip">Close</span>
        </button>
        <a
          href="/"
          class="gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Site logo"
        >
          <img
            width="125"
            height="30"
            class="drawer-default__logo"
            src="/images/lockup.svg"
            alt="web.dev"
          />
        </a>
      </div>
      <a
        href="/learn/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Learn"
      >
        Learn
      </a>
      <a
        href="/measure/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Measure"
      >
        Measure
      </a>
      <a
        href="/blog/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Blog"
      >
        Blog
      </a>
      <a
        href="/about/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: About"
      >
        About
      </a>
    </div>
  </nav>
</web-navigation-drawer>

<main>
  <div id="content">
    
      
    
    


<div class="guide-landing-page">
  
    
    
    
  
  

  
    <img     alt="A row of shopping carts."     class="w-hero w-hero--cover"     decoding="auto"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/7DmRrgsxnlS4GNPCyW0Q.jpg?auto=format&w=1600 1600w"          width="1600"   />
  

  <web-table-of-contents>
    <h2 class="w-toc__header">
      <a href="#what-should-you-measure-to-improve-performance" class="w-toc__header--link">
        What should you measure to improve performance?
      </a>
    </h2>
    <div class="w-toc__list">
        <ul><li><a href="#discovery">Discovery</a></li><li><a href="#engagement-and-conversion">Engagement And Conversion</a><ol><li><a href="#webpagetest">WebPageTest</a></li><li><a href="#puppeteer">Puppeteer</a></li></ol></li><li><a href="#re-engagement">Re-Engagement</a></li><li><a href="#recap">Recap</a></li></ul></div>
  </web-table-of-contents>
  <web-table-of-contents-button></web-table-of-contents-button>

  
  <div class="w-actions">
    <share-action authors="@martinschierle"
      class="gc-analytics-event w-actions__fab w-actions__fab--share"
      data-category="web.dev"
      data-label="share"
      data-action="click"
      data-icon="share"
      tabindex="0"
      role="button"
    >
      <span>Share</span>
    </share-action>
    
    
  </div>

  <div class="w-layout-container--narrow w-post-content">
    <header class="w-article-header">
      
        
        <div class="w-post-breadcrumbs">
          <ul class="w-breadcrumbs">
  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link w-breadcrumbs__link--left-justify gc-analytics-event"
      data-category="web.dev"
      data-label="post, home breadcrumb"
      data-action="click"
      href="/"
    >
      Home
    </a>
  </li>

  <svg
    class="w-breadcrumbs__icon"
    xmlns="http://www.w3.org/2000/svg"
    height="24"
    viewBox="0 0 24 24"
    width="24"
    aria-hidden="true"
  >
    <path d="M0 0h24v24H0V0z" fill="none" />
    <path d="M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" />
  </svg>

  <li class="w-breadcrumbs__crumb">
    <a
      class="w-breadcrumbs__link gc-analytics-event"
      data-category="web.dev"
      data-label="post, path breadcrumb"
      data-action="click"
      href=/blog
    >
      All articles
    </a>
  </li>
</ul>
        </div>
      

      <h1 id="what-should-you-measure-to-improve-performance" class="w-article-header__headline">What should you measure to improve performance?</h1>
      
        <p class="w-article-header__subhead w-mb--non">
          Strategies to measure performance at each stage in the purchase funnel.
        </p>
      

      
        <div class="w-author__published">
          <time>May 31, 2019</time>
          
        </div>
      

      
      

      <div class="w-layout-container--narrow w-post-signpost">
  <span class="w-post-signpost__title">
    Appears in:
  </span>
  <a
          class="w-post-signpost__link"
          href="/fast"
          >Fast load times</a
        >
</div>

      
        <div class="w-authors w-mt--xl w-pt--sm">
          
            <div class="w-author">
  <a href="/authors/martinschierle/"><img     alt="Martin Schierle"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/DheRfImH6FxRNajMslIk.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/DheRfImH6FxRNajMslIk.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/DheRfImH6FxRNajMslIk.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/DheRfImH6FxRNajMslIk.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/DheRfImH6FxRNajMslIk.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/DheRfImH6FxRNajMslIk.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /></a>
  <div
    class="w-author__info"
    style="display: flex; flex-direction: column; justify-content: center;"
  >
    <cite class="w-author__name">
      <a class="w-author__name-link" href="/authors/martinschierle/">Martin Schierle</a>
    </cite>
    <ul class="w-author__link-list">
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://twitter.com/martinschierle"
          >Twitter</a
        >
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://github.com/martinschierle">GitHub</a>
      </li>
      
      
    </ul>
  </div>
</div>
          
        </div>
      
    </header>

    

    <p>The different steps of a purchase funnel are prone to performance issues in
different ways, and therefore need different measurement and optimizations:</p>
<figure class="w-figure">
  <img     alt="A conversion funnel going from discover to engage to convert to re-engage."          decoding="async"     height="399"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/87cAGdJAnPggf8Yt58ID.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">
    A conversion funnel.
  </figcaption>
</figure>
<p>In this guide we'll address how the different steps can be measured. For this we
recommend you to look at lab as well as field data.</p>
<p><strong>Lab data</strong> is gathered by running tests locally, for example by using
<a href="/fast/discover-performance-opportunities-with-lighthouse">Lighthouse</a>
and other tools.  This can make it possible  to compare website performance over
time and with competitors through a controlled, stable environment, but it might
not be representative of the performance users experience in real life.</p>
<p><strong>Field data</strong> is gathered via analytics from real users, and is therefore
representative of their experience. However, it can't easily be compared over
time or with competitors. Network connections and smartphone hardware evolve
over time, and different target audiences might have different devices, thereby
making comparisons with field data tough. See also <em><a href="/fast#measure-performance-in-the-field">Measure Performance In The Field</a></em>.</p>
<p>To get a complete picture, both data sources are needed. The following sections
show how to gather lab and field data for the different relevant performance
marks across the funnel.</p>
<h2 id="discovery">Discovery <a class="w-headline-link" href="#discovery">#</a></h2>
<p>Optimizing for discovery means optimizing for the first load, which is what new
users  will get, but also search and social
<a href="https://developers.google.com/search/docs/guides/rendering" rel="noopener">crawlers</a>.
Lab data for a first load can be easily acquired through
<a href="/fast/discover-performance-opportunities-with-lighthouse">Lighthouse</a>,
while field data (at least for Chrome) is readily available through <a href="/fast/chrome-ux-report">Chrome UX
reports</a>. A convenient combination of
both can be found in
<a href="https://developers.google.com/speed/pagespeed/insights/" rel="noopener">PageSpeed Insights</a>.
You should also track relevant metrics from the field yourself:
<a href="https://developers.google.com/web/fundamentals/performance/user-centric-performance-metrics#measuring_these_metrics_on_real_users_devices" rel="noopener">Measuring these metrics on real users' devices</a>
provides a good overview.</p>
<p>From a user perspective the most important metrics are:</p>
<ul>
<li><strong><a href="/first-contentful-paint">First Contentful Paint (FCP)</a>:</strong>
The time the user stares at a blank screen. This is
when most users bounce, as they don't see progress.</li>
<li><strong><a href="/first-meaningful-paint">First Meaningful Paint (FMP)</a>:</strong>
When the user begins to see the main content they came for. This
is often the hero image, but for a landing page it may even be a call to
action such as a <strong>Buy</strong> button, since the user may have arrived with a clear
intent (for example, through a targeted ad campaign).</li>
<li><strong><a href="https://developers.google.com/web/updates/2018/05/first-input-delay" rel="noopener">First Input Delay (FID)</a>:</strong>
The time the website needs to react to the user's first input.
Excessive JavaScript and other asset loading problems can block this,
leading to failed taps or clicks, erroneous inputs and page abandonment.</li>
</ul>
<p>There are more metrics you can look at, but these are a good baseline. Additionally also make sure to capture bounce rates, conversions and user engagement so that you can set these in relation.</p>
<h2 id="engagement-and-conversion">Engagement And Conversion <a class="w-headline-link" href="#engagement-and-conversion">#</a></h2>
<p>After the first load of a landing page, a user will proceed through your site,
hopefully towards a successful conversion.</p>
<p>In this phase it is important to have fast and responsive navigations and
interactions. Unfortunately it is not trivial to measure the complete flow of
navigation and interaction events in the field, as every user takes different
paths through the page. We therefore recommend measuring the time needed towards
conversion or conversion subgoals (&quot;<em>Time-to-Action</em>&quot;) by scripting and
measuring the flow in a lab test, to compare performance over time or with
competitors.</p>
<p>There are two convenient ways of doing this:</p>
<h3 id="webpagetest">WebPageTest <a class="w-headline-link" href="#webpagetest">#</a></h3>
<p><a href="https://www.webpagetest.org/" rel="noopener">WebPageTest</a> offers a very flexible <a href="https://github.com/WPO-Foundation/webpagetest-docs/blob/main/src/scripting.md" rel="noopener">scripting
solution</a>.
The basic idea is to:</p>
<ul>
<li>Tell WebPageTest to navigate through the pages of the flow with the
<a href="https://github.com/WPO-Foundation/webpagetest-docs/blob/main/src/scripting.md#navigate" rel="noopener"><code>navigate</code></a>
command.</li>
<li>If needed script the clicking of buttons via
<a href="https://github.com/WPO-Foundation/webpagetest-docs/blob/main/src/scripting.md#clickandwait" rel="noopener"><code>clickAndWait</code></a>
commands and fill text fields via
<a href="https://github.com/WPO-Foundation/webpagetest-docs/blob/main/src/scripting.md#selectvalue" rel="noopener"><code>setValue</code></a>.
For testing of Single Page Applications use <code>clickAndWait</code> rather than
<code>navigate</code> commands for all steps after the first, as <code>navigate</code> will do a
full load instead of the lightweight virtual page load.</li>
<li>Make sure to combine the different steps of the flow in the analysis via
<a href="https://github.com/WPO-Foundation/webpagetest-docs/blob/main/src/scripting.md#combinesteps" rel="noopener"><code>combineSteps</code></a>
to produce a single overall result report for the complete flow.</li>
</ul>
<p>Such a script could look like this:</p>
<web-copy-code><pre class="language-text"><code class="language-text">combineSteps<br>navigate	https://www.store.google.com/landingpage<br>navigate	https://www.store.google.com/productpage<br>clickAndWait	innerText=Buy Now<br>navigate	https://www.store.google.com/basket<br>navigate	https://www.store.google.com/checkout</code></pre>
</web-copy-code><p>With a script like this in place you can easily measure and compare performance
over time. This can even be automated through the
<a href="https://github.com/WPO-Foundation/webpagetest-docs/blob/5337749ae99d0529fc0ae690d402fd4f88766be9/dev/api.md" rel="noopener">WebPageTest API</a>.</p>
<h3 id="puppeteer">Puppeteer <a class="w-headline-link" href="#puppeteer">#</a></h3>
<p>Another great option to script testing is via headless Chrome, which can be
controlled through the Node API
<a href="https://github.com/GoogleChrome/puppeteer" rel="noopener">Puppeteer</a>. The general idea is to
start the browser through Puppeteer, navigate to the landing page through the
<a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pagegotourl-options" rel="noopener">goto</a>
function,
<a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pageevaluatepagefunction-args" rel="noopener">inject JavaScript</a>
to fill fields or
<a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pageclickselector-options" rel="noopener">click</a>
buttons and proceed through the funnel through further
<a href="https://github.com/GoogleChrome/puppeteer/blob/master/docs/api.md#pagegotourl-options" rel="noopener">goto</a>
calls as needed.</p>
<p>As a metric the duration of the flow can be measured directly,
but you could also sum up the FCP, FMP or TTI values of the individual loads of
the flow.
<a href="https://michaljanaszek.com/blog/test-website-performance-with-puppeteer" rel="noopener">Test website performance with Puppeteer</a>
provides an overview of how to get performance metrics via Puppeteer. A very
simplified example Node script could look like this:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> puppeteer <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'puppeteer'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">(</span><span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> browser <span class="token operator">=</span> <span class="token keyword">await</span> puppeteer<span class="token punctuation">.</span><span class="token function">launch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> page <span class="token operator">=</span> <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">newPage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> start <span class="token operator">=</span> performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://www.store.google.com/landingpage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://www.store.google.com/productpage'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// click the buy button, which triggers overlay basket</span><br>  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token string">'#buy_btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// wait until basket overlay is shown</span><br>  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">waitFor</span><span class="token punctuation">(</span><span class="token string">'#close_btn'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://www.store.google.com/basket'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> page<span class="token punctuation">.</span><span class="token function">goto</span><span class="token punctuation">(</span><span class="token string">'https://www.store.google.com/checkout'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'Flow took '</span> <span class="token operator">+</span> <span class="token function">parseInt</span><span class="token punctuation">(</span><span class="token punctuation">(</span>performance<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-</span> start<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">1000</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">' seconds'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">await</span> browser<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>This script can easily be automated, and even be made part of the build process
or perf budgets, and be monitored regularly.</p>
<h2 id="re-engagement">Re-Engagement <a class="w-headline-link" href="#re-engagement">#</a></h2>
<p>Users will return to your site in different time intervals. Depending on time
passed, the browser may have less of the website's resources cached, needing
more network requests. This makes it difficult to estimate performance
differences across repeat visits in lab tests. It is still recommended to keep
an eye on this though, and a great lab test tool for repeat visits is
<a href="https://www.webpagetest.org/" rel="noopener">WebPageTest</a>, which has a dedicated option for a
direct repeat visit:</p>
<figure class="w-figure">
  <img     alt="The WebPageTest homepage form for auditing a site. The repeat view option is highlighted."     class="w-screenshot"     decoding="async"     height="650"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/6eHzqWl6gaKjL39n8Dwh.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption w-figcaption--center">
    Webpagetest offers options to test first load and repeat load as well
  </figcaption>
</figure>
<p>To get a better feeling for repeat visit performance in the field use your
analytics package of choice to segment your performance metrics by user type.
Here is an example of such a report in Google Analytics:</p>
<figure class="w-figure">
  <img     alt="A Google Analytics dashboard shows a number of fields being added to a custom report."     class="w-screenshot"     decoding="async"     height="444"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/pSxM9xuJKho7RjOn4aDK.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption w-figcaption--center">
    A Google Analytics custom report can be used to report speed metrics for new and returning users.
  </figcaption>
</figure>
<p>A report like this will give you page load times for new and returning users as well.</p>
<h2 id="recap">Recap <a class="w-headline-link" href="#recap">#</a></h2>
<p>This guide showed you how to measure first load, flow and repeat load via field and lab tests. Make sure to optimize the different steps of the funnel accordingly to maximize discovery (first load), engagement (navigations and flow) and re-engagement (repeat load).</p>


    

    
  <div class="w-chips ">
    
      
    
      
    
      
        
        <a class="w-chip" href="/tags/performance/">Performance</a>
      
    
  </div>


    <div class="w-post-github-link w-mt--l w-mb--l">
      <span class="w-mr--sm">
        
        Last updated: <time>May 31, 2019</time>
        
      </span>
      <a
        href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/fast/what-should-you-measure-to-improve-performance/index.md"
      >
        Improve article
      </a>
       
    </div>

    
  </div>

  
    
    <nav class="w-article-navigation">
  <a
    class="w-article-navigation__link w-article-navigation__link--back
      w-article-navigation__link--single gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go back"
    data-action="click"
    href="/blog"
  >
    Return to all articles
  </a>
</nav>
  
</div>


  </div>
</main>
<footer class="w-footer">
  <nav class="w-footer__linkboxes">
    <ul class="w-footer__linkboxes-list">
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Contribute</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
              class="w-footer__linkbox-link" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              File a bug
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/googlechrome/web.dev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              View source
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Related content</h3>
        <ul class="w-footer__linkbox-list">
         <li class="w-footer__linkbox-item">
            <a href="https://developer.chrome.com/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              developer.chrome.com
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://blog.chromium.org/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Chrome updates
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/fundamentals" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              Web Fundamentals
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/showcase/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
              Case studies
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/podcasts/" class="w-footer__linkbox-link"
              data-category="Podcasts" data-label="Footer Link (index 5)">
              Podcasts
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/shows/" class="w-footer__linkbox-link"
              data-category="Shows" data-label="Footer Link (index 6)">
              Shows
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Connect</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://www.twitter.com/ChromiumDev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Twitter
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://www.youtube.com/user/ChromeDevelopers" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              YouTube
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="w-footer__utility">
    <nav class="w-footer__utility-nav">
      <a href="https://developers.google.com/" class="w-footer__utility-logo-link"
        data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
        <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
          alt="Google Developers" />
      </a>
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
            Chrome
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Firebase Link">
            Firebase
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Google Cloud Platform Link">
            Google Cloud Platform
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developers.google.com/products"
            data-category="Site-Wide Custom Events" data-label="Footer All products Link">
            All products
          </a>
        </li>
      </ul>
      <web-language-select current="en"></web-language-select>
    </nav>
    <nav class="w-footer__utility-nav">
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://policies.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Terms and Privacy link">
            Terms &amp; Privacy
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="/community-guidelines/" data-category="Site-Wide Custom Events"
            data-label="Footer Community Guidelines link">
            Community Guidelines
          </a>
        </li>
      </ul>
      <div class="w-footer__license">
        <p>
          Except as otherwise noted, the content of this page is licensed
          under the
          <a href="https://creativecommons.org/licenses/by/4.0/">
          Creative Commons Attribution 4.0 License</a>,
          and code samples are licensed under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">
          Apache 2.0 License</a>. For details, see the
          <a href="https://developers.google.com/terms/site-policies">
          Google Developers Site Policies</a>.
        </p>
      </div>
    </nav>
  </div>
</footer>

  </body>
</html>
