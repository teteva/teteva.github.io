
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=3f17ddcbbb554">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=f0a9824c2a8d9">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>How to install the Thumbor image CDN</title>
<meta name="description" content="Instructions on how to install Thumbor. Thumbor is an open-source image CDN and can be used for free to resize, compress, and transform images. " />

<link rel="canonical" href="https://web.dev/install-thumbor/" />

<meta itemprop="name" content="How to install the Thumbor image CDN" />
<meta itemprop="description" content="Instructions on how to install Thumbor. Thumbor is an open-source image CDN and can be used for free to resize, compress, and transform images. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/install-thumbor/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="How to install the Thumbor image CDN" />
<meta property="og:description" content="Instructions on how to install Thumbor. Thumbor is an open-source image CDN and can be used for free to resize, compress, and transform images. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A pile of photos." />
<meta property="tag" content="performance" />
<meta property="tag" content="images" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="How to install the Thumbor image CDN" />
<meta name="twitter:description" content="Instructions on how to install Thumbor. Thumbor is an open-source image CDN and can be used for free to resize, compress, and transform images. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=7a00fd6b7d8a1', 'module');




  loadScript('/js/content.js?v=221cfd516b8e7', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="A pile of photos."     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/prjXX7rGf0hOFVZVoxUe.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#intro">Intro</a></li><li class="toc__listitem"><a class="toc__anchor" href="#prerequisites">Prerequisites</a></li><li class="toc__listitem"><a class="toc__anchor" href="#install-thumbor-dependencies">Install Thumbor Dependencies</a></li><li class="toc__listitem"><a class="toc__anchor" href="#install-thumbor">Install Thumbor</a></li><li class="toc__listitem"><a class="toc__anchor" href="#run-thumbor">Run Thumbor</a></li><li class="toc__listitem"><a class="toc__anchor" href="#open-firewall-port">Open Firewall Port</a></li><li class="toc__listitem"><a class="toc__anchor" href="#try-it-out">Try It Out</a></li><li class="toc__listitem"><a class="toc__anchor" href="#appendix:-configuring-systemd">Appendix: Configuring Systemd</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="how-to-install-the-thumbor-image-cdn">How to install the Thumbor image CDN</h1>
        
          <p class="color-mid-text flow-space-base">
            Thumbor can be used for free to resize, compress, and transform images on-demand.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Aug 14, 2019</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/katiehempenius/"> <img     alt="Katie Hempenius"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/fZo7BJGec2MNRt6cWpeh.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/fZo7BJGec2MNRt6cWpeh.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/fZo7BJGec2MNRt6cWpeh.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/fZo7BJGec2MNRt6cWpeh.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/fZo7BJGec2MNRt6cWpeh.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/fZo7BJGec2MNRt6cWpeh.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/katiehempenius/">Katie Hempenius</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/katiehempenius">Twitter</a>
               <a href="https://github.com/khempenius">GitHub</a>
               <a href="https://glitch.com/@khempenius">Glitch</a>
               <a href="https://katiehempenius.com/">Homepage</a>
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#intro">Intro</a></li><li class="toc__listitem"><a class="toc__anchor" href="#prerequisites">Prerequisites</a></li><li class="toc__listitem"><a class="toc__anchor" href="#install-thumbor-dependencies">Install Thumbor Dependencies</a></li><li class="toc__listitem"><a class="toc__anchor" href="#install-thumbor">Install Thumbor</a></li><li class="toc__listitem"><a class="toc__anchor" href="#run-thumbor">Run Thumbor</a></li><li class="toc__listitem"><a class="toc__anchor" href="#open-firewall-port">Open Firewall Port</a></li><li class="toc__listitem"><a class="toc__anchor" href="#try-it-out">Try It Out</a></li><li class="toc__listitem"><a class="toc__anchor" href="#appendix:-configuring-systemd">Appendix: Configuring Systemd</a></li></ul></div>
    </details>
  </div>



      <p>Image CDNs make it easy to dynamically optimize the aesthetics and performance of your images. Unlike most image CDNs, <a href="http://thumbor.org/" rel="noopener">Thumbor</a> is open-source and can be used for free to resize, compress, and transform images. It's suitable for production use; <a href="https://wikitech.wikimedia.org/wiki/Thumbor" rel="noopener">Wikipedia</a> and <a href="https://medium.com/square-corner-blog/dynamic-images-with-thumbor-a430a1cfcd87" rel="noopener">Square</a> both use Thumbor.</p>
<p>This guide explains how to install Thumbor on your own server. Once installed, you'll be able to use Thumbor as an API for transforming your images.</p>
<h2 id="intro">Intro <a class="w-headline-link" href="#intro">#</a></h2>
<p>You'll be installing Thumbor on a VM running Ubuntu 16.04. Ubuntu 16.04 is a very common image and these instructions are intended to work on any cloud provider. Creating a VM might sound like more work than installing Thumbor on your local machine, but the minutes that you take to create a VM will probably save you hours or days of frustration trying to get Thumbor to properly install on your local machine. Although easy to use, Thumbor is notoriously difficult to install but these instructions simplify the process. If dependencies download quickly, the installation can be completed in 5 to 10 minutes.</p>
<h2 id="prerequisites">Prerequisites <a class="w-headline-link" href="#prerequisites">#</a></h2>
<p>This post assumes that you know how to create a Ubuntu 16.04 LTS VM on a cloud platform like <a href="https://cloud.google.com/compute/docs/instances/create-start-instance" rel="noopener">Google Cloud</a>, <a href="https://aws.amazon.com/getting-started/tutorials/launch-a-virtual-machine/" rel="noopener">AWS,</a> or <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/linux/quick-create-portal?toc=%2Fazure%2Fvirtual-machines%2Flinux%2Ftoc.json" rel="noopener">Azure</a> and how to use command line tools to set up the VM.</p>
<h2 id="install-thumbor-dependencies">Install Thumbor Dependencies <a class="w-headline-link" href="#install-thumbor-dependencies">#</a></h2>
<p>Update and upgrade Ubuntu's already-installed packages:</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> update -y <span class="token operator">&amp;&amp;</span> <span class="token function">sudo</span> <span class="token function">apt-get</span> upgrade -y</code></pre>
</web-copy-code><p>Install <code>pip</code>, the package manager for Python. Later you'll install Thumbor with <code>pip</code>.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y python-pip</code></pre>
</web-copy-code><p>Install Thumbor's dependencies. Thumbor's documentation does not explicitly mention these dependencies, but Thumbor will not install successfully without them.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token comment"># ssl packages</span><br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libcurl4-openssl-dev libssl-dev</code></pre>
</web-copy-code><web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token comment"># computer vision packages</span><br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y python-opencv libopencv-dev</code></pre>
</web-copy-code><web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token comment"># image format packages</span><br><span class="token function">sudo</span> <span class="token function">apt-get</span> <span class="token function">install</span> -y libjpeg-dev libpng-dev libwebp-dev webp</code></pre>
</web-copy-code><h2 id="install-thumbor">Install Thumbor <a class="w-headline-link" href="#install-thumbor">#</a></h2>
<p>Install Thumbor using pip.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> pip <span class="token function">install</span> thumbor</code></pre>
</web-copy-code><p>Note: Many Python developers use <a href="https://pypi.org/project/virtualenv/" rel="noopener">virtualenv</a> to manage their packages. For the sake of simplicity, these instructions do not use <code>virtualenv</code>. If you are installing Thumbor in a standalone environment, <code>virtualenv</code> is not necessary. If you choose to use <code>virtualenv</code>, note that Thumbor requires Python 2.7 and will not work with newer versions of <code>pip</code> (e.g., these instructions use <code>pip</code> 8.1.1).</p>
<p>If you've successfully installed Thumbor, this should work:</p>
<web-copy-code><pre class="language-bash"><code class="language-bash">thumbor --help</code></pre>
</web-copy-code><h2 id="run-thumbor">Run Thumbor <a class="w-headline-link" href="#run-thumbor">#</a></h2>
<p>Run Thumbor. Debug logging is optional but can be helpful when you're getting started.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash">thumbor --log-level debug</code></pre>
</web-copy-code><p>Thumbor is now running.</p>
<h2 id="open-firewall-port">Open Firewall Port <a class="w-headline-link" href="#open-firewall-port">#</a></h2>
<p>By default, Thumbor runs on port 8888. If your VM's IP address is <code>12.123.12.122</code>, then you would access Thumbor from the web browser at <code>http://12.123.12.123:8888/.../$IMAGE</code>.</p>
<p>However, this probably won't work for you (yet) because cloud providers usually require that you explicitly open firewall ports before they will accept incoming traffic.</p>
<p>Update the firewall to expose port 8888. Here's more information on how to do this for: <a href="https://cloud.google.com/vpc/docs/using-firewalls" rel="noopener">Google Cloud</a>, <a href="https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/authorizing-access-to-an-instance.html" rel="noopener">AWS</a>, and <a href="https://docs.microsoft.com/en-us/azure/virtual-machines/windows/nsg-quickstart-portal" rel="noopener">Azure</a>. Note that for Google Cloud you need to first <a href="https://cloud.google.com/compute/docs/ip-addresses/reserve-static-external-ip-address" rel="noopener">assign a static IP address to your VM</a> and then <a href="https://cloud.google.com/vpc/docs/special-configurations#externalhttpconnection" rel="noopener">allow an external HTTP connection</a>.</p>
<h2 id="try-it-out">Try It Out <a class="w-headline-link" href="#try-it-out">#</a></h2>
<p>Thumbor is now accessible and ready for use. Try it out by visiting the following URL:</p>
<web-copy-code><pre class="language-text"><code class="language-text">http://YOUR_VIRTUAL_MACHINE:8888/unsafe/100x100/https://web.dev/install-thumbor/hero.jpg</code></pre>
</web-copy-code><p>Note that this URL uses HTTP. Thumbor uses HTTP by default but can be <a href="https://thumbor.readthedocs.io/en/latest/image_loader.html" rel="noopener">configured</a> to use HTTPS.</p>
<p>You should see an image that is 100 pixels wide by 100 pixels tall. Thumbor has taken the image <code>hero.jpg</code> and size specified in the URL string and served the result. You can replace the image in the URL string (i.e., <code>https://web.dev/install-thumbor/hero.jpg</code>) with any other image (e.g., <code>https://your-site.com/cat.jpg</code>) and Thumbor will resize that image too.</p>
<p>The <a href="/use-thumbor/#thumbor-url-format">Optimize images with Thumbor</a> article has more information on using the Thumbor API. In particular, you may be interested in <a href="/use-thumbor/#appendix:-thumbor.conf">setting up a Thumbor configuration file</a>.</p>
<h2 id="appendix:-configuring-systemd">Appendix: Configuring Systemd <a class="w-headline-link" href="#appendix:-configuring-systemd">#</a></h2>
<p>This step explains how to make sure that the Thumbor process keeps running, even after the VM has been restarted. This step is important for production sites, but optional if you're just playing around with Thumbor.</p>
<p><a href="https://www.freedesktop.org/software/systemd/man/systemd.html" rel="noopener">Systemd</a> is the &quot;system and service manager&quot; for Linux operating systems. <code>systemd</code> makes it easy to configure when services (processes) run.</p>
<p>You will be configuring <code>systemd</code> to automatically start Thumbor on VM boot. If the VM is restarted, the Thumbor process will automatically restart as well. This is much more reliable than relying on user intervention to start Thumbor.</p>
<p>Navigate to the <code>/lib/systemd/system</code> directory. This directory contains the service files for <code>systemd</code>.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">cd</span> /lib/systemd/system</code></pre>
</web-copy-code><p>As superuser, create a <code>thumbor.service</code> file.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> <span class="token function">touch</span> thumbor.service</code></pre>
</web-copy-code><p>Using your favorite text editor (vim and nano come pre-installed on Ubuntu or you can install another editor), add the following configuration to <code>thumbor.service</code>. This configuration will run <code>/usr/local/bin/thumbor</code> (i.e. the Thumbor binary) once networking is available and will restart Thumbor on <a href="https://www.freedesktop.org/software/systemd/man/systemd.service.html#Restart=" rel="noopener">failure</a>.</p>
<web-copy-code><pre class="language-text"><code class="language-text">[Unit]<br><br>Description=Service for Thumbor image CDN<br><br>Documentation=https://thumbor.readthedocs.io/en/latest/<br><br>After=network.target<br><br>[Service]<br><br>ExecStart=/usr/local/bin/thumbor<br><br>Restart=on-failure<br><br>[Install]<br><br>WantedBy=multi-user.target</code></pre>
</web-copy-code><p><code>systemctl</code> is the utility used to manage <code>systemd</code>. Use the <code>start</code> command to start Thumbor.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> systemctl start thumbor.service</code></pre>
</web-copy-code><p>Note: If Thumbor is currently running, you should stop it before attempting to start Thumbor using <code>systemctl</code>.</p>
<p>Next, &quot;enable&quot; Thumbor. This means that Thumbor will automatically start on boot.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash"><span class="token function">sudo</span> systemctl <span class="token builtin class-name">enable</span> thumbor.service</code></pre>
</web-copy-code><p>Verify that you've successfully configured <code>systemd</code> by running the <code>status</code> command.</p>
<web-copy-code><pre class="language-bash"><code class="language-bash">systemctl status thumbor.service</code></pre>
</web-copy-code><p>If you've successfully set up thumbor.service to use <code>systemd</code>, the <a href="https://www.freedesktop.org/software/systemd/man/systemctl.html#status%20PATTERN%E2%80%A6%7CPID%E2%80%A6%5D" rel="noopener">status</a> should show that it is enabled and active.</p>
<figure class="w-figure">
  <img     alt="Systemctl displaying the status of Thumbor"     class="w-screenshot"     decoding="async"     height="164"          loading="lazy"     sizes="(min-width: 466px) 466px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/e04pxe6uE090ewJ3WWPX.jpg?auto=format&w=932 932w"          width="466"   />
</figure>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/performance/">Performance</a>
          
        
          
            
            <a class="pill" href="/tags/images/">Images</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Aug 14, 2019</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/install-thumbor/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@katiehempenius"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
