
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=1132a1ae389ea">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=c3338770d1e87">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>How QuintoAndar increased conversion rates and pages per session by improving page performance</title>
<meta name="description" content="A project focused on optimizing Core Web Vitals and migrating to Next.js resulted in a 5% increase in conversion rates and a 87% increase in pages per session. " />

<link rel="canonical" href="https://web.dev/quintoandar/" />

<meta itemprop="name" content="How QuintoAndar increased conversion rates and pages per session by improving page performance" />
<meta itemprop="description" content="A project focused on optimizing Core Web Vitals and migrating to Next.js resulted in a 5% increase in conversion rates and a 87% increase in pages per session. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/quintoandar/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="How QuintoAndar increased conversion rates and pages per session by improving page performance" />
<meta property="og:description" content="A project focused on optimizing Core Web Vitals and migrating to Next.js resulted in a 5% increase in conversion rates and a 87% increase in pages per session. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A picture of a city skyline on a clear, sunny day. At center is the QuintoAndar logo in white." />
<meta property="tag" content="case-study" />
<meta property="tag" content="web-vitals" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="How QuintoAndar increased conversion rates and pages per session by improving page performance" />
<meta name="twitter:description" content="A project focused on optimizing Core Web Vitals and migrating to Next.js resulted in a 5% increase in conversion rates and a 87% increase in pages per session. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=37093fca10e04', 'module');




  loadScript('/js/content.js?v=1fa54bd73f12f', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="A picture of a city skyline on a clear, sunny day. At center is the QuintoAndar logo in white."     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VQrzs5OoWZT2qS8yTzGW.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#challenges">Challenges</a></li><li class="toc__listitem"><a class="toc__anchor" href="#approach">Approach</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#migrating-to-next.js">Migrating to Next.js</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizing-javascript-resources">Optimizing JavaScript resources</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizing-image-resources">Optimizing image resources</a></li><li class="toc__listitem"><a class="toc__anchor" href="#reducing-layout-shift">Reducing layout shift</a></li><li class="toc__listitem"><a class="toc__anchor" href="#progressively-rolling-out-changes">Progressively rolling out changes</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#results">Results</a></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="how-quintoandar-increased-conversion-rates-and-pages-per-session-by-improving-page-performance">How QuintoAndar increased conversion rates and pages per session by improving page performance</h1>
        
          <p class="color-mid-text flow-space-base">
            A project focused on optimizing Core Web Vitals and migrating to Next.js resulted in a 5% increase in conversion rates and a 87% increase in pages per session.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Dec 10, 2021</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/danielasy/"> <img     alt="Daniela Sayuri Yassuda"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/GglXoaMdqB9PTnUieTSH.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/GglXoaMdqB9PTnUieTSH.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/GglXoaMdqB9PTnUieTSH.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/GglXoaMdqB9PTnUieTSH.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/GglXoaMdqB9PTnUieTSH.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/GglXoaMdqB9PTnUieTSH.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/danielasy/">Daniela Sayuri Yassuda</a>
    </cite>
    <div class="author__links cluster">
               
               <a href="https://github.com/danielasy">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#challenges">Challenges</a></li><li class="toc__listitem"><a class="toc__anchor" href="#approach">Approach</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#migrating-to-next.js">Migrating to Next.js</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizing-javascript-resources">Optimizing JavaScript resources</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizing-image-resources">Optimizing image resources</a></li><li class="toc__listitem"><a class="toc__anchor" href="#reducing-layout-shift">Reducing layout shift</a></li><li class="toc__listitem"><a class="toc__anchor" href="#progressively-rolling-out-changes">Progressively rolling out changes</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#results">Results</a></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li></ul></div>
    </details>
  </div>



      <p>QuintoAndar is a Brazilian proptech company whose products offer digital end-to-end solutions for real estate. This year, we carried out a project focused on improving the performance of a content hub in our app, and had encouraging results in increasing user traffic and conversion metrics.</p>
<div class="stats">
 <div class="stats__item">
   <p class="stats__figure">46<sub>%</sub></p>
   <p>reduction in bounce rate</p>
 </div>
 <div class="stats__item">
   <p class="stats__figure">87<sub>%</sub></p>
   <p>increase in pages per session</p>
 </div>
 <div class="stats__item">
   <p class="stats__figure">5<sub>%</sub></p>
   <p>improvement in conversion during validation phase</p>
 </div>
</div>
<h2 id="challenges">Challenges <a class="w-headline-link" href="#challenges">#</a></h2>
<p>Our app has a condominium content hub with over 40,000 pages, where users can get information about their properties, check photos of the common areas, read about the neighborhood, and find available listings for rent or sale. These pages are very important for QuintoAndar:</p>
<ul>
<li>They are an important source of <a href="https://en.wikipedia.org/wiki/Organic_search_results" rel="noopener">organic traffic</a>, with a steadily increasing number of users coming from search engine results.</li>
<li>They have high conversion rates in the medium to long-term compared to other pages.</li>
</ul>
<p>However, there were challenges when it came to the performance and user experience in these pages:</p>
<ul>
<li>Their performance as measured by <a href="/vitals/">Core Web Vitals</a> was not optimized, and there were known issues regarding slow page loads, slow responsiveness to user input, and layout instability.</li>
<li>Their <a href="https://en.wikipedia.org/wiki/Bounce_rate" rel="noopener">bounce rates</a> were high, even if we expected them to be higher than in other parts of the app.</li>
<li>The <a href="https://developers.google.com/search/blog/2020/11/timing-for-page-experience" rel="noopener">page experience update in Google Search</a>—which, at that time, was not yet released—would include Core Web Vitals into the ranking algorithm, which meant page performance could affect how search results were going to be displayed.</li>
</ul>
<p>At the same time, we identified some developer experience opportunities that could unlock gains in other projects across the company:</p>
<ul>
<li>Our server-side rendering logic—which renders all high-traffic pages, including condominium pages—was created in-house, and became too complex to maintain and onboard new hires.</li>
<li>Essential features to achieve good app performance, such as <a href="https://developer.mozilla.org/docs/Glossary/Code_splitting" rel="noopener">code splitting</a>, also required a custom setup plus manual work from the developers.</li>
<li>QuintoAndar has over 30 <a href="https://reactjs.org" rel="noopener">React</a> web applications. Delivering updates to these applications and maintaining them in accordance to best practices is an arduous task.</li>
</ul>
<h2 id="approach">Approach <a class="w-headline-link" href="#approach">#</a></h2>
<p>We began a performance optimization project of the condominium content hub to improve its user experience, as these improvements could lead to conversion gains, better SEO, and better usability. This initiative was also a fitting opportunity to improve the developer experience as well.</p>
<h3 id="migrating-to-next.js">Migrating to Next.js <a class="w-headline-link" href="#migrating-to-next.js">#</a></h3>
<p>The new version of the condominium page was implemented with <a href="http://nextjs.org/" rel="noopener">Next.js</a>. Being largely independent from other parts of the app, the condominium content hub seemed like a good candidate for trying out a new framework. We would be able to understand the magnitude of migration efforts and evaluate how its features could help without affecting the other React apps in QuintoAndar.</p>
<p>A hard requirement was to ensure pages remained crawlable by search engines. Next.js meets this requirement by supporting server-side rendering out-of-the-box, and removes the need for a custom setup. The documentation makes it much easier to share knowledge on how to do tasks such as <a href="https://nextjs.org/docs/basic-features/data-fetching" rel="noopener">data fetching</a> on the server and onboard new developers. Server-side rendering is also known to <a href="https://developers.google.com/web/updates/2019/02/rendering-on-the-web#server-rendering" rel="noopener">improve performance</a> metrics such as <a href="/fcp/">First Contentful Paint</a> (FCP).</p>
<p>The framework provides other performance-friendly features such as automatic <a href="/reduce-javascript-payloads-with-code-splitting/">code splitting</a> and <a href="/link-prefetch/">prefetching</a>. Even though the existing structure already provided such features, the additional work required from developers stalled their adoption. For example, code splitting at page or component-level had to be done manually.</p>
<h3 id="optimizing-javascript-resources">Optimizing JavaScript resources <a class="w-headline-link" href="#optimizing-javascript-resources">#</a></h3>
<p>The first step was to <a href="/remove-unused-code/">remove unused code</a>. We looked at the <a href="https://github.com/webpack-contrib/webpack-bundle-analyzer" rel="noopener">Webpack Bundle Analyzer</a> reports, which shows the contents of each JS bundle, and carefully reviewed all third-party scripts. As a result, we were able to clean up some tracking libraries that were not used in this specific page.</p>
<p>Our team went further and evaluated the performance cost of existing features. For instance, the &quot;like&quot; button required quite a lot of JS to work. However, in the condominium page, less than 0.5% of the users interacted with the button, which is available and used more frequently in other parts of our app. After a discussion involving both Engineering and Product, we decided to remove this feature.</p>
<figure class="w-figure">
  <video      autoplay                  controls                        loop      muted      playsinline                      >      <source src="https://storage.googleapis.com/web-dev-uploads/video/jL3OLOhcWUQDnR4XjewLBx4e3PC3/2uEL2YxbuGGlmJDlvW9F.mp4" type="video/mp4" />    </video>
  <figcaption>
    An animation showing the “like” button feature. There is a card about an apartment available for rent. In the bottom right corner of the card, there is a grey heart-shaped button that turns blue when clicked.
  </figcaption>
</figure>
<p>Other JS optimizations were already in place, such as <a href="/reduce-network-payloads-using-text-compression/#static-compression">static compression with Brotli</a>, which was done at build time using <a href="https://github.com/mynameiswhm/brotli-webpack-plugin" rel="noopener"><code>BrotliWebpackPlugin</code></a>, and was also applied to other types of static resources. At first, we were relying on the compression provided by the CDN, and Brotli reduced JS size by 18% compared to gzip. But then, we switched to Brotli compression at build time, and were able to achieve a 24% reduction.</p>
<h3 id="optimizing-image-resources">Optimizing image resources <a class="w-headline-link" href="#optimizing-image-resources">#</a></h3>
<p>There is a hero image occupying most of the area above the fold in the mobile version. It also happens to be the <a href="/lcp/">Largest Contentful Paint</a> (LCP) of the page.</p>
<figure class="w-figure">
  <img     alt="The condominium page for Edifício Copan (São Paulo, Brazil). A photo taken from the ground level shows the curves of the building structure."          decoding="async"     height="640"          loading="lazy"     sizes="(min-width: 360px) 360px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/W7koRinBm3QXErIzwGP8.png?auto=format&w=720 720w"          width="360"   />
  <figcaption>
    The hero image of a condominium page.
  </figcaption>
</figure>
<p>Previously, all images already had <code>srcset</code> and <code>sizes</code> attributes to <a href="/serve-responsive-images/">serve responsive images</a>. We also used <a href="https://github.com/thumbor/thumbor" rel="noopener">Thumbor</a> to resize images on-demand and configured our CDN to cache them efficiently.</p>
<p>Modern mobile devices have displays with very high pixel density, meaning the browser would render 3x or 4x versions of the image, if available. As resolution increases, it gets harder for the human eye to perceive the differences, but file sizes will increase regardless. <a href="https://blog.twitter.com/engineering/en_us/topics/infrastructure/2019/capping-image-fidelity-on-ultra-high-resolution-devices" rel="noopener">Capping the maximum image resolution</a> improved image size without compromising the user experience. We limited the hero image to serve its 2x version at most, which is approximately 35% smaller than the 3x version and 50% smaller than the 4x one.</p>
<p>To finish, we used a <a href="/preload-critical-assets/">preloading</a> strategy to download and display it as soon as possible, looking forward to improving the LCP metric.</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>preload<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/img/450x450/892847321-143.0038687080606IMG20180420WA0037.jpg<span class="token punctuation">"</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>image<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></code></pre>
</web-copy-code><p>The <a href="https://nextjs.org/docs/basic-features/image-optimization" rel="noopener">Next.js built-in image component</a> includes many of these optimizations such as responsive resizing and prioritized loading. During this project, we did not migrate the existing images to use this component, but we are planning to adopt it in new features.</p>
<h3 id="reducing-layout-shift">Reducing layout shift <a class="w-headline-link" href="#reducing-layout-shift">#</a></h3>
<p>The condominium page had a few issues with <a href="/cls/">Cumulative Layout Shift</a> (CLS). The elements responsible for the layout shifts were rendered only in the client—for instance, hydrating server-side markup with client-rendered components, or images without defined <code>width</code> and <code>height</code> attributes.</p>
<p>To solve these problems, we set exact dimensions for these elements when possible, or estimated values with <code>min-height</code>. There are more options, such as using the <a href="https://developer.mozilla.org/docs/Web/CSS/aspect-ratio" rel="noopener"><code>aspect-ratio</code> CSS property</a>. We also created placeholders to prevent dynamically rendered components from causing layout shifts.</p>
<figure class="w-figure">
  <img     alt="An image showing an urban area in Google Maps with a red marker in the center."          decoding="async"     height="174"          loading="lazy"     sizes="(min-width: 397px) 397px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/VqFwUiJOtNmyNc14xljP.png?auto=format&w=794 794w"          width="397"   />
  <figcaption>
    Defining dimensions for elements such as the map image reduced the CLS.
  </figcaption>
</figure>
<h3 id="progressively-rolling-out-changes">Progressively rolling out changes <a class="w-headline-link" href="#progressively-rolling-out-changes">#</a></h3>
<p>Our team wanted to validate that the optimized version of the condominium hub page to make sure the user experience would be better. To achieve this, we adopted a progressive rollout strategy:</p>
<ol>
<li>In the first phase, the new version was published for a few hand-picked URLs, so only a few hundreds of users per day would see them;</li>
<li>In the second phase, it was published for more pages, accounting to a few thousand users per day;</li>
<li>In the third and final phase, it was published for all pages, and the roll-out was completed for all users.</li>
</ol>
<p>During this period, the engineering team continuously measured page performance in production and kept working on improvements. Additionally, the team compared business metrics between the new and previous versions. The results in this validation period were promising.</p>
<h2 id="results">Results <a class="w-headline-link" href="#results">#</a></h2>
<p>The team used <a href="https://speedcurve.com" rel="noopener">SpeedCurve</a> to continuously run <a href="/user-centric-performance-metrics/#how-metrics-are-measured">lab tests</a> against the condominium page. These are the results for the mobile version:</p>
<div class="table-wrapper">
  <table>
    <thead>
      <tr>
        <th>Lab metric</th>
        <th>Before</th>
        <th>After</th>
        <th>Difference</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td>Largest Contentful Paint (LCP)</td>
        <td>2.41 seconds</td>
        <td>1.48 seconds</td>
        <td>-39%</td>
      </tr>
      <tr>
        <td>Time to Interactive (TTI)</td>
        <td>12.16 seconds</td>
        <td>7.48 seconds</td>
        <td>-39%</td>
      </tr>
      <tr>
        <td>Total Blocking Time (TBT)</td>
        <td>1124 milliseconds</td>
        <td>1056 milliseconds</td>
        <td>-4%</td>
      </tr>
      <tr>
        <td>Cumulative Layout Shift (CLS)</td>
        <td>0.0402</td>
        <td>0.0093</td>
        <td>-77%</td>
      </tr>
    </tbody>
    <caption>
      Lab metrics results collected with SpeedCurve.
    </caption>
  </table>
</div>
<p>We also wanted to check the impact on our real users. Using field data collected with <a href="https://www.instana.com/website-end-user-monitoring/" rel="noopener">Instana Website Monitoring</a>, we looked at the 1-month period before and after the roll-out. Comparing the 75th percentile for mobile users, we found that LCP decreased by 26%, and FID decreased by 72%.</p>
<figure class="w-figure">
  <img     alt="A line graph with LCP values comparing the new and previous versions during the current and past month. The curve for the new version floats between 2 and 4 seconds, staying below the curve for the previous version most of the time."          decoding="async"     height="495"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/IAVpmg7O1Moxk8qA7zcq.png?auto=format&w=1600 1600w"          width="800"   />
</figure>
<figure class="w-figure">
  <img     alt="A line graph with FID values comparing the new and previous versions during the current and past month. The curve for the new version stays below 100ms most of the time, while in the curve for the previous version there are a few spikes crossing 250ms."          decoding="async"     height="494"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/QWkHnGHi4YTdBR6q17sw.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    Field metrics results collected with Instana.
  </figcaption>
</figure>
<p><a href="https://pagespeed.web.dev/" rel="noopener">PageSpeed Insights</a> provides a field data report for the last 28 days. <a href="https://www.quintoandar.com.br/condominio/ed-copan-centro-historico-de-sao-paulo-sao-paulo-ndv7sq7j2d" rel="noopener">The most accessed condominium page</a> alone had enough data to generate a report for mobile users. As of November 2021, all Core Web Vitals are in the &quot;good&quot; bucket.</p>
<figure class="w-figure">
  <img     alt="A screenshot of the PageSpeed Insights report focusing on the Field Data section. All Core Web Vitals metrics (FCP, FID, LCP, CLS) are in the good bucket."          decoding="async"     height="483"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/83nulYFqSAAWNLLPHXut.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    PageSpeed Insights shows that mobile users are having a good experience in the most accessed condominium page.
  </figcaption>
</figure>
<p>During the progressive roll-out, we noticed a drop in bounce rates. By the time we had finished the release for all pages, <a href="https://analytics.google.com/" rel="noopener">Google Analytics</a> showed a 46% decrease in bounce rate, a 87% increase in pages per session, and a 49% increase in average session duration. The bounce rate reduction was even bigger for paid searches, reaching a 59% drop — a positive sign when it comes to the investments in <a href="https://en.wikipedia.org/wiki/Pay-per-click" rel="noopener">pay-per click</a> (PPC) ads.</p>
<figure class="w-figure">
  <img     alt="A screenshot of a graph from Google Analytics. It compares the bounce rates between two distinct periods in March 2021. Starting from March 17th, there is a slight drop in the bounce rate. The drop is accentuated on March 24th."          decoding="async"     height="169"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/f31hvBafirHtDBlKINwI.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    Google Analytics shows the bounce rate decreasing as we rolled-out the new version in more pages.
  </figcaption>
</figure>
<p>As for the impact in business metrics, we analyzed conversion rates for transactions like scheduling a tour and applying to rent or buy an estate. While improvements were still being rolled out, our team compared the conversion between the previous and new versions. In the same week, the group of pages with the new version showed a 5% conversion increase, while the other pages had a slight decrease in the same metric.</p>
<figure class="w-figure">
  <img     alt="Two line graphs side-by-side, each one comparing the conversion between the current and previous week. The left one is for the previous version of the page, showing the conversion curve for the current week is a bit below the one for the previous week. The right one is for the new version, and the conversion curve for the current week is a bit above the one for the previous week."          decoding="async"     height="447"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format"     srcset="https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/jL3OLOhcWUQDnR4XjewLBx4e3PC3/8duPNi2huaphIWCU7DBb.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    In the same week, the conversion for the new version increased, while the previous version had a small decrease.
  </figcaption>
</figure>
<h2 id="conclusion">Conclusion <a class="w-headline-link" href="#conclusion">#</a></h2>
<p>This project is the first part of a long-term migration effort from framework-less React to Next.js. The teams who worked on the condominium page since then gave positive feedback about the improved developer experience. Other teams who had to bootstrap new web apps have already done so with Next.js. We believe Next.js will simplify maintenance efforts and establish a common ground between different apps.</p>
<p>Overall, the condominium content hub has been continuously growing in terms of absolute number of users and transactions. In the long-term analysis, there are many factors contributing to this, like the expansion of QuintoAndar’s operation and SEO initiatives such as improved page indexing. During this project, we have seen that page performance is also one of these factors with great potential for positive conversion impact.</p>
<p><em>Special thanks to <a href="https://www.linkedin.com/in/pasrcarmo/" rel="noopener">Pedro Carmo</a>, Product Manager of the SEO team, for diving into the user data and creating all the conversion analysis seen in this case study.</em></p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/case-study/">Case Study</a>
          
        
          
            
            <a class="pill" href="/tags/web-vitals/">Web Vitals</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Dec 10, 2021</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/quintoandar/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="Daniela Sayuri Yassuda"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
