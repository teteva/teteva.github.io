
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=b0acd0c339249">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=2e388e67e74a3">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Interact with NFC devices on Chrome for Android</title>
<meta name="description" content="Reading and writing to NFC tags is now possible on Chrome for Android. " />

<link rel="canonical" href="https://web.dev/nfc/" />

<meta itemprop="name" content="Interact with NFC devices on Chrome for Android" />
<meta itemprop="description" content="Reading and writing to NFC tags is now possible on Chrome for Android. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/8tWkeYbKLxSd2YgTUSGv.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/nfc/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Interact with NFC devices on Chrome for Android" />
<meta property="og:description" content="Reading and writing to NFC tags is now possible on Chrome for Android. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/8tWkeYbKLxSd2YgTUSGv.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A photo of NFC tags" />
<meta property="tag" content="capabilities" />
<meta property="tag" content="devices" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Interact with NFC devices on Chrome for Android" />
<meta name="twitter:description" content="Reading and writing to NFC tags is now possible on Chrome for Android. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/8tWkeYbKLxSd2YgTUSGv.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=89afce2e77bf9', 'module');




  loadScript('/js/content.js?v=f10038ad2e561', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="A photo of NFC tags"     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/TqG3qb5MiLGNTnAgKtqO.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#what">What is Web NFC?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#use-cases">Suggested use cases</a></li><li class="toc__listitem"><a class="toc__anchor" href="#status">Current status</a></li><li class="toc__listitem"><a class="toc__anchor" href="#use">Using Web NFC</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#feature-detection">Feature detection</a></li><li class="toc__listitem"><a class="toc__anchor" href="#terminology">Terminology</a></li><li class="toc__listitem"><a class="toc__anchor" href="#scan">Scan NFC tags</a></li><li class="toc__listitem"><a class="toc__anchor" href="#write">Write NFC tags</a></li><li class="toc__listitem"><a class="toc__anchor" href="#security-and-permissions">Security and permissions</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#cookbook">Cookbook</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#check-for-permission">Check for permission</a></li><li class="toc__listitem"><a class="toc__anchor" href="#abort-nfc-operations">Abort NFC operations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-text-record">Read and write a text record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-url-record">Read and write a URL record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-mime-type-record">Read and write a MIME type record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-an-absolute-url-record">Read and write an absolute-URL record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-smart-poster-record">Read and write a smart poster record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-an-external-type-record">Read and write an external type record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-an-empty-record">Read and write an empty record</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#browser-support">Browser support</a></li><li class="toc__listitem"><a class="toc__anchor" href="#dev-tips">Dev Tips</a></li><li class="toc__listitem"><a class="toc__anchor" href="#demos">Demos</a></li><li class="toc__listitem"><a class="toc__anchor" href="#feedback">Feedback</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#tell-us-about-the-api-design">Tell us about the API design</a></li><li class="toc__listitem"><a class="toc__anchor" href="#report-a-problem-with-the-implementation">Report a problem with the implementation</a></li><li class="toc__listitem"><a class="toc__anchor" href="#show-support">Show support</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#helpful">Helpful links</a></li><li class="toc__listitem"><a class="toc__anchor" href="#acknowledgements">Acknowledgements</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="interact-with-nfc-devices-on-chrome-for-android">Interact with NFC devices on Chrome for Android</h1>
        
          <p class="color-mid-text flow-space-base">
            Reading and writing to NFC tags is now possible.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Feb 12, 2020</time>
             — Updated <time>Feb 23, 2021</time> 
          </div>
        

        
        

        <div class="w-layout-container--narrow w-post-signpost">
  <span class="w-post-signpost__title">
    Appears in:
  </span>
  <a
          class="w-post-signpost__link"
          href="/devices"
          >Devices</a
        >
</div>

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/beaufortfrancois/"> <img     alt="François Beaufort"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/mXjY3z3JmrispGtu9yn6.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/beaufortfrancois/">François Beaufort</a>
    </cite>
    <div class="author__links cluster">
               
               <a href="https://github.com/beaufortfrancois">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#what">What is Web NFC?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#use-cases">Suggested use cases</a></li><li class="toc__listitem"><a class="toc__anchor" href="#status">Current status</a></li><li class="toc__listitem"><a class="toc__anchor" href="#use">Using Web NFC</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#feature-detection">Feature detection</a></li><li class="toc__listitem"><a class="toc__anchor" href="#terminology">Terminology</a></li><li class="toc__listitem"><a class="toc__anchor" href="#scan">Scan NFC tags</a></li><li class="toc__listitem"><a class="toc__anchor" href="#write">Write NFC tags</a></li><li class="toc__listitem"><a class="toc__anchor" href="#security-and-permissions">Security and permissions</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#cookbook">Cookbook</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#check-for-permission">Check for permission</a></li><li class="toc__listitem"><a class="toc__anchor" href="#abort-nfc-operations">Abort NFC operations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-text-record">Read and write a text record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-url-record">Read and write a URL record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-mime-type-record">Read and write a MIME type record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-an-absolute-url-record">Read and write an absolute-URL record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-a-smart-poster-record">Read and write a smart poster record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-an-external-type-record">Read and write an external type record</a></li><li class="toc__listitem"><a class="toc__anchor" href="#read-and-write-an-empty-record">Read and write an empty record</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#browser-support">Browser support</a></li><li class="toc__listitem"><a class="toc__anchor" href="#dev-tips">Dev Tips</a></li><li class="toc__listitem"><a class="toc__anchor" href="#demos">Demos</a></li><li class="toc__listitem"><a class="toc__anchor" href="#feedback">Feedback</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#tell-us-about-the-api-design">Tell us about the API design</a></li><li class="toc__listitem"><a class="toc__anchor" href="#report-a-problem-with-the-implementation">Report a problem with the implementation</a></li><li class="toc__listitem"><a class="toc__anchor" href="#show-support">Show support</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#helpful">Helpful links</a></li><li class="toc__listitem"><a class="toc__anchor" href="#acknowledgements">Acknowledgements</a></li></ul></div>
    </details>
  </div>



      <aside class="aside flow bg-state-good-bg color-state-good-text">
<p class="cluster ">
<span class="aside__icon box-block "><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24" fill="currentColor" role="img" aria-label="Check">
  <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
</svg></span>
<strong>Success</strong></p>
<div class=" flow">
<p>Web NFC, part of the <a href="/fugu-status/">capabilities project</a>, launched in
Chrome 89 for Android.</p>
</div></aside>
<h2 id="what">What is Web NFC? <a class="w-headline-link" href="#what">#</a></h2>
<p>NFC stands for Near Field Communications, a short-range wireless technology
operating at 13.56 MHz that enables communication between devices at a distance
less than 10 cm and a transmission rate of up to 424 kbit/s.</p>
<p>Web NFC provides sites the ability to read and write to NFC tags when they are
in close proximity to the user's device (usually 5-10 cm, 2-4 inches).
The current scope is limited to NFC Data Exchange Format (NDEF), a lightweight
binary message format that works across different tag formats.</p>
<figure class="w-figure">
  <img     alt="Phone powering up an NFC tag to exchange data"          decoding="async"     height="489"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/jWmCabXZCB6zNwQIR90I.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Diagram of an NFC operation</figcaption>
</figure>
<h2 id="use-cases">Suggested use cases <a class="w-headline-link" href="#use-cases">#</a></h2>
<p>Web NFC is limited to NDEF because the security properties of reading and
writing NDEF data are more easily quantifiable. Low-level I/O operations (e.g.
ISO-DEP, NFC-A/B, NFC-F), Peer-to-Peer communication mode and Host-based Card
Emulation (HCE) are not supported.</p>
<p>Examples of sites that may use Web NFC include:</p>
<ul>
<li>Museums and art galleries can display additional information about a display
when the user touches their device to an NFC card near the exhibit.</li>
<li>Inventory management sites can read or write data to the NFC tag on a
container to update information on its contents.</li>
<li>Conference sites can use it to scan NFC badges during the event.</li>
<li>Sites can use it for sharing initial secrets needed for device or service
provisioning scenarios and also to deploy configuration data in operational
mode.</li>
</ul>
<figure class="w-figure">
  <img     alt="Phone scanning several NFC tags"          decoding="async"     height="383"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/zTEXhIx9nDWtbKrIPN0x.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">NFC inventory management illustrated</figcaption>
</figure>
<h2 id="status">Current status <a class="w-headline-link" href="#status">#</a></h2>
<div>
<div class="w-table-wrapper">
<table>
<thead>
<tr>
<th>Step</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. Create explainer</td>
<td><a href="https://github.com/w3c/web-nfc/blob/gh-pages/EXPLAINER.md#web-nfc-explained" rel="noopener">Complete</a></td>
</tr>
<tr>
<td>2. Create initial draft of specification</td>
<td><a href="https://w3c.github.io/web-nfc/" rel="noopener">Complete</a></td>
</tr>
<tr>
<td>3. Gather feedback &amp; iterate on design</td>
<td><a href="#feedback">Complete</a></td>
</tr>
<tr>
<td>4. Origin trial</td>
<td><a href="https://developers.chrome.com/origintrials/#/view_trial/236438980436951041" rel="noopener">Complete</a></td>
</tr>
<tr>
<td><strong>5. Launch</strong></td>
<td><strong>Complete</strong></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id="use">Using Web NFC <a class="w-headline-link" href="#use">#</a></h2>
<h3 id="feature-detection">Feature detection <a class="w-headline-link" href="#feature-detection">#</a></h3>
<p>Feature detection for hardware is different from what you're probably used to.
The presence of <code>NDEFReader</code> tells you that the browser supports Web NFC, but
not whether the required hardware is present. In particular, if the hardware is
missing, the promise returned by certain calls will reject. I'll provide
details when I describe <code>NDEFReader</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'NDEFReader'</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">/* Scan and write NFC tags */</span> <span class="token punctuation">}</span></code></pre>
</web-copy-code><h3 id="terminology">Terminology <a class="w-headline-link" href="#terminology">#</a></h3>
<p>An NFC tag is a passive NFC device, meaning that is powered by magnetic
induction when an active NFC device (.e.g a phone) is in proximity. NFC tags
come in many forms and fashions, as stickers, credit cards, arm wrists, etc.</p>
<figure class="w-figure">
  <img     alt="Photo of a transparent NFC tag"          decoding="async"     height="450"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/uUBxSkSc3MJBG8Lw52fV.jpg?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">A transparent NFC tag</figcaption>
</figure>
<p>The <code>NDEFReader</code> object is the entry point in Web NFC that exposes functionality
for preparing reading and/or writing actions that are fulfilled when an NDEF tag
comes in proximity. The <code>NDEF</code> in <code>NDEFReader</code> stands for NFC Data Exchange
Format, a lightweight binary message format standardized by the <a href="https://nfc-forum.org/" rel="noopener">NFC Forum</a>.</p>
<p>The <code>NDEFReader</code> object is for acting on incoming NDEF messages from NFC tags
and for writing NDEF messages to NFC tags within range.</p>
<p>An NFC tag that supports NDEF is like a post-it note. Anyone can read it, and
unless it is read-only, anyone can write to it. It contains a single NDEF
message which encapsulates one or more NDEF records. Each NDEF record is a
binary structure that contains a data payload, and associated type information.
Web NFC supports the following NFC Forum standardized record types: empty, text,
URL, smart poster, MIME type, absolute URL, external type, unknown, and local
type.</p>
<figure class="w-figure">
  <img     alt="Diagram of an NDEF message"          decoding="async"     height="243"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/50clBWSJbKkyumsxrioB.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Diagram of an NDEF message</figcaption>
</figure>
<h3 id="scan">Scan NFC tags <a class="w-headline-link" href="#scan">#</a></h3>
<p>To scan NFC tags, first instantiate a new <code>NDEFReader</code> object. Calling <code>scan()</code>
returns a promise. The <a href="#security-and-permissions">user may be prompted</a> if access was not previously
granted. The promise will resolve if the following conditions are all met:</p>
<ul>
<li>User has allowed the website to interact with NFC devices when they tap their
phone.</li>
<li>The user's phone supports NFC.</li>
<li>The user has enabled NFC on their phone.</li>
</ul>
<p>Once the promise is resolved, incoming NDEF messages are available by
subscribing to <code>reading</code> events via an event listener. You should also subscribe
to <code>readingerror</code> events to be notified when incompatible NFC tags are in
proximity.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>ndef<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Scan started successfully."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  ndef<span class="token punctuation">.</span><span class="token function-variable function">onreadingerror</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Cannot read data from the NFC tag. Try another one?"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  ndef<span class="token punctuation">.</span><span class="token function-variable function">onreading</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"NDEF message read."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error! Scan failed to start: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>When an NFC tag is in proximity, a <code>NDEFReadingEvent</code> event is fired. It
contains two properties unique to it:</p>
<ul>
<li><code>serialNumber</code> represents the serial number of the device (.e.g
00-11-22-33-44-55-66), or an empty string if none is available.</li>
<li><code>message</code> represents the NDEF message stored in the NFC tag.</li>
</ul>
<p>To read the content of the NDEF message, loop through <code>message.records</code> and
process their <code>data</code> members <a href="https://w3c.github.io/web-nfc/#data-mapping" rel="noopener">appropriately</a> based on their <code>recordType</code>.
The <code>data</code> member is exposed as a <code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/DataView" rel="noopener">DataView</a></code> as it allows handling
cases where data is encoded in UTF-16.</p>
<web-copy-code><pre class="language-js"><code class="language-js">ndef<span class="token punctuation">.</span><span class="token function-variable function">onreading</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> message <span class="token operator">=</span> event<span class="token punctuation">.</span>message<span class="token punctuation">;</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> record <span class="token keyword">of</span> message<span class="token punctuation">.</span>records<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Record type:  "</span> <span class="token operator">+</span> record<span class="token punctuation">.</span>recordType<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"MIME type:    "</span> <span class="token operator">+</span> record<span class="token punctuation">.</span>mediaType<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Record id:    "</span> <span class="token operator">+</span> record<span class="token punctuation">.</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">switch</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">case</span> <span class="token string">"text"</span><span class="token operator">:</span><br>        <span class="token comment">// TODO: Read text record with record data, lang, and encoding.</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>      <span class="token keyword">case</span> <span class="token string">"url"</span><span class="token operator">:</span><br>        <span class="token comment">// TODO: Read URL record with record data.</span><br>        <span class="token keyword">break</span><span class="token punctuation">;</span><br>      <span class="token keyword">default</span><span class="token operator">:</span><br>        <span class="token comment">// TODO: Handle other records with record data.</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>The <a href="#cookbook">cookbook</a> contains many examples of how to read NDEF records based on
their types.</p>
</div></aside>
<h3 id="write">Write NFC tags <a class="w-headline-link" href="#write">#</a></h3>
<p>To write NFC tags, first instantiate a new <code>NDEFReader</code> object. Calling
<code>write()</code> returns a promise. The <a href="#security-and-permissions">user may be prompted</a> if access was not
previously granted. At this point, an NDEF message is &quot;prepared&quot; and promise
will resolve if the following conditions are all met:</p>
<ul>
<li>User has allowed the website to interact with NFC devices when they tap their
phone.</li>
<li>The user's phone supports NFC.</li>
<li>The user has enabled NFC on their phone.</li>
<li>User has tapped an NFC tag and an NDEF message has been successfully written.</li>
</ul>
<p>To write text to an NFC tag, pass a string to the <code>write()</code> method.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><br>  <span class="token string">"Hello World"</span><br><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Message written."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Write failed :-( try again: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>To write a URL record to an NFC tag, pass a dictionary that represents an NDEF
message to <code>write()</code>. In the example below, the NDEF message is a dictionary
with a <code>records</code> key. Its value is an array of records - in this case, a URL
record defined as an object with a <code>recordType</code> key set to <code>&quot;url&quot;</code> and a <code>data</code>
key set to the URL string.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  records<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> recordType<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token string">"https://w3c.github.io/web-nfc/"</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Message written."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Write failed :-( try again: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>It is also possible to write multiple records to an NFC tag.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span><br>    <span class="token punctuation">{</span> recordType<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token string">"https://w3c.github.io/web-nfc/"</span> <span class="token punctuation">}</span><span class="token punctuation">,</span><br>    <span class="token punctuation">{</span> recordType<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span> data<span class="token operator">:</span> <span class="token string">"https://web.dev/nfc/"</span> <span class="token punctuation">}</span><br><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Message written."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">error</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Write failed :-( try again: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>The <a href="#cookbook">cookbook</a> contains many examples of how to write other types of
NDEF records.</p>
</div></aside>
<p>If the NFC tag contains an NDEF message that is not meant to be overwritten, set
the <code>overwrite</code> property to <code>false</code> in the options passed to the <code>write()</code>
method. In that case, the returned promise will reject if an NDEF message is
already stored in the NFC tag.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Writing data on an empty NFC tag is fun!"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> overwrite<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">"Message written."</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">catch</span><span class="token punctuation">(</span><span class="token parameter">_</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Write failed :-( try again: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>error<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">.</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="security-and-permissions">Security and permissions <a class="w-headline-link" href="#security-and-permissions">#</a></h3>
<p>The Chrome team has designed and implemented Web NFC using the core principles
defined in <a href="https://chromium.googlesource.com/chromium/src/+/master/docs/security/permissions-for-powerful-web-platform-features.md" rel="noopener">Controlling Access to Powerful Web Platform
Features</a>, including user control, transparency, and ergonomics.</p>
<p>Because NFC expands the domain of information potentially available to malicious
websites, the availability of NFC is restricted to maximize users' awareness and
control over NFC use.</p>
<figure class="w-figure">
  <img     alt="Screenshot of a Web NFC prompt on a website"          decoding="async"     height="407"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/PjUcOk4zbtOFJLXfSeSD.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption">Web NFC user prompt</figcaption>
</figure>
<p>Web NFC is only available to top-level frames and secure browsing contexts (HTTPS
only). Origins must first request the <code>&quot;nfc&quot;</code> <a href="https://w3c.github.io/permissions/" rel="noopener">permission</a> while handling a
user gesture (e.g a button click). The NDEFReader <code>scan()</code> and <code>write()</code> methods
trigger a user prompt, if access was not previously granted.</p>
<web-copy-code><pre class="language-js"><code class="language-js">  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#scanButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// Prompt user to allow website to interact with NFC devices.</span><br>    <span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    ndef<span class="token punctuation">.</span><span class="token function-variable function">onreading</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token comment">// TODO: Handle incoming NDEF messages.</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>The combination of a user-initiated permission prompt and real-world, physical
movement of bringing the device over a target NFC tag mirrors the chooser
pattern found in the other file and device-access APIs.</p>
<p>To perform a scan or write, the web page must be visible when the user touches
an NFC tag with their device. The browser uses haptic feedback to indicate a
tap. Access to the NFC radio is blocked if the display is off or the device is
locked. For non visible web pages, receiving and pushing NFC content are
suspended, and resumed when a web page becomes visible again.</p>
<p>Thanks to the <a href="https://developer.mozilla.org/docs/Web/API/Page_Visibility_API" rel="noopener">Page Visibility API</a>, it is possible to track when document
visibility changes.</p>
<web-copy-code><pre class="language-js"><code class="language-js">document<span class="token punctuation">.</span><span class="token function-variable function">onvisibilitychange</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span>hidden<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// All NFC operations are automatically suspended when document is hidden.</span><br>  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token comment">// All NFC operations are resumed, if needed.</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="cookbook">Cookbook <a class="w-headline-link" href="#cookbook">#</a></h2>
<p>Here's some code samples to get you started.</p>
<h3 id="check-for-permission">Check for permission <a class="w-headline-link" href="#check-for-permission">#</a></h3>
<p>The <a href="https://www.w3.org/TR/permissions/" rel="noopener">Permissions API</a> allows checking whether the <code>&quot;nfc&quot;</code> permission was
granted. This example shows how to scan NFC tags without user interaction if
access was previously granted, or show a button otherwise. Note that the same
mechanism works for writing NFC tags as it uses the same permission under the
hood.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">startScanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  ndef<span class="token punctuation">.</span><span class="token function-variable function">onreading</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">/* handle NDEF messages */</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> nfcPermissionStatus <span class="token operator">=</span> <span class="token keyword">await</span> navigator<span class="token punctuation">.</span>permissions<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token punctuation">{</span> name<span class="token operator">:</span> <span class="token string">"nfc"</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">if</span> <span class="token punctuation">(</span>nfcPermissionStatus<span class="token punctuation">.</span>state <span class="token operator">===</span> <span class="token string">"granted"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// NFC access was previously granted, so we can start NFC scanning now.</span><br>  <span class="token function">startScanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Show a "scan" button.</span><br>  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#scanButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">"block"</span><span class="token punctuation">;</span><br>  document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#scanButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// Prompt user to allow UA to send and receive info when they tap NFC devices.</span><br>    <span class="token function">startScanning</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h3 id="abort-nfc-operations">Abort NFC operations <a class="w-headline-link" href="#abort-nfc-operations">#</a></h3>
<p>Using the <code><a href="https://developer.mozilla.org/docs/Web/API/AbortController" rel="noopener">AbortController</a></code> primitive makes it easy to abort NFC
operations. The example below shows you how to pass the <code>signal</code> of an
<code>AbortController</code> through the options of NDEFReader <code>scan()</code> and <code>write()</code>
methods and abort both NFC operations at the same time.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> abortController <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">AbortController</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>abortController<span class="token punctuation">.</span>signal<span class="token punctuation">.</span><span class="token function-variable function">onabort</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// All NFC operations have been aborted.</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">{</span> signal<span class="token operator">:</span> abortController<span class="token punctuation">.</span>signal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Hello world"</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> signal<span class="token operator">:</span> abortController<span class="token punctuation">.</span>signal <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">"#abortButton"</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token parameter">event</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  abortController<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-a-text-record">Read and write a text record <a class="w-headline-link" href="#read-and-write-a-text-record">#</a></h3>
<p>The text record <code>data</code> can be decoded with a <code>TextDecoder</code> instantiated with the
record <code>encoding</code> property. Note that the language of the text record is
available through its <code>lang</code> property.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readTextRecord</span><span class="token punctuation">(</span><span class="token parameter">record</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">===</span> <span class="token string">"text"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> textDecoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Text: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>textDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>record<span class="token punctuation">.</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>To write a simple text record, pass a string to the NDEFReader <code>write()</code> method.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token string">"Hello World"</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>Text records are UTF-8 by default and assume the current document's language but
both properties (<code>encoding</code> and <code>lang</code>) can be specified using the full syntax
for creating a custom NDEF record.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">a2utf16</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">let</span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Uint16Array</span><span class="token punctuation">(</span>string<span class="token punctuation">.</span>length<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> string<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    result<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> string<span class="token punctuation">.</span><span class="token function">codePointAt</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token keyword">return</span> result<span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> textRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span><br>  lang<span class="token operator">:</span> <span class="token string">"fr"</span><span class="token punctuation">,</span><br>  encoding<span class="token operator">:</span> <span class="token string">"utf-16"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span> <span class="token function">a2utf16</span><span class="token punctuation">(</span><span class="token string">"Bonjour, François !"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>textRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-a-url-record">Read and write a URL record <a class="w-headline-link" href="#read-and-write-a-url-record">#</a></h3>
<p>Use <code>TextDecoder</code> to decode the record's <code>data</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readUrlRecord</span><span class="token punctuation">(</span><span class="token parameter">record</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">===</span> <span class="token string">"url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> textDecoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">URL: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>textDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>To write a URL record, pass an NDEF message dictionary to the NDEFReader
<code>write()</code> method. The URL record contained in the NDEF message is defined as an
object with a <code>recordType</code> key set to <code>&quot;url&quot;</code> and a <code>data</code> key set to the URL
string.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> urlRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span><span class="token string">"https://w3c.github.io/web-nfc/"</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>urlRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-a-mime-type-record">Read and write a MIME type record <a class="w-headline-link" href="#read-and-write-a-mime-type-record">#</a></h3>
<p>The <code>mediaType</code> property of a MIME type record represents the MIME type of the
NDEF record payload so that <code>data</code> can be properly decoded. For instance, use
<code>JSON.parse</code> to decode JSON text and an Image element to decode image data.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readMimeRecord</span><span class="token punctuation">(</span><span class="token parameter">record</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">===</span> <span class="token string">"mime"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>mediaType <span class="token operator">===</span> <span class="token string">"application/json"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> textDecoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">JSON: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span>decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>mediaType<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'image/'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> blob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Blob</span><span class="token punctuation">(</span><span class="token punctuation">[</span>record<span class="token punctuation">.</span>data<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> type<span class="token operator">:</span> record<span class="token punctuation">.</span>mediaType <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> img <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Image</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    img<span class="token punctuation">.</span>src <span class="token operator">=</span> <span class="token constant">URL</span><span class="token punctuation">.</span><span class="token function">createObjectURL</span><span class="token punctuation">(</span>blob<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>img<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br>  <span class="token keyword">else</span> <span class="token punctuation">{</span><br>    <span class="token comment">// TODO: Handle other MIME types.</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>To write a MIME type record, pass an NDEF message dictionary to the NDEFReader
<code>write()</code> method. The MIME type record contained in the NDEF message is defined
as an object with a <code>recordType</code> key set to <code>&quot;mime&quot;</code>, a <code>mediaType</code> key set to
the actual MIME type of the content, and a <code>data</code> key set to an object that can
be either an <code>ArrayBuffer</code> or provides a view on to an <code>ArrayBuffer</code> (e.g.
<code>Uint8Array</code>, <code>DataView</code>).</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> encoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> data <span class="token operator">=</span> <span class="token punctuation">{</span><br>  firstname<span class="token operator">:</span> <span class="token string">"François"</span><span class="token punctuation">,</span><br>  lastname<span class="token operator">:</span> <span class="token string">"Beaufort"</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> jsonRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"mime"</span><span class="token punctuation">,</span><br>  mediaType<span class="token operator">:</span> <span class="token string">"application/json"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span> encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">stringify</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> imageRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"mime"</span><span class="token punctuation">,</span><br>  mediaType<span class="token operator">:</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"icon1.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>jsonRecord<span class="token punctuation">,</span> imageRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-an-absolute-url-record">Read and write an absolute-URL record <a class="w-headline-link" href="#read-and-write-an-absolute-url-record">#</a></h3>
<p>The absolute-URL record <code>data</code> can be decoded with a simple <code>TextDecoder</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readAbsoluteUrlRecord</span><span class="token punctuation">(</span><span class="token parameter">record</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">===</span> <span class="token string">"absolute-url"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">const</span> textDecoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Absolute URL: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>textDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>To write an absolute URL record, pass an NDEF message dictionary to the
NDEFReader <code>write()</code> method. The absolute-URL record contained in the NDEF
message is defined as an object with a <code>recordType</code> key set to <code>&quot;absolute-url&quot;</code>
and a <code>data</code> key set to the URL string.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> absoluteUrlRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"absolute-url"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span><span class="token string">"https://w3c.github.io/web-nfc/"</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>absoluteUrlRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-a-smart-poster-record">Read and write a smart poster record <a class="w-headline-link" href="#read-and-write-a-smart-poster-record">#</a></h3>
<p>A smart poster record (used in magazine advertisements, fliers, billboards,
etc.), describes some web content as an NDEF record that contains an NDEF
message as its payload. Call <code>record.toRecords()</code> to transform <code>data</code> to a list
of records contained in the smart poster record. It should have a URL record, a
text record for the title, a MIME type record for the image, and some <a href="https://w3c.github.io/web-nfc/#smart-poster-record" rel="noopener">custom
local type records</a> such as <code>&quot;:t&quot;</code>, <code>&quot;:act&quot;</code>, and <code>&quot;:s&quot;</code> respectively for the
type, action, and size of the smart poster record.</p>
<p>Local type records are unique only within the local context of the containing
NDEF record. Use them when the meaning of the types doesn't matter outside
of the local context of the containing record and when storage usage is a hard
constraint. Local type record names always start with <code>:</code> in Web NFC (e.g.
<code>&quot;:t&quot;</code>, <code>&quot;:s&quot;</code>, <code>&quot;:act&quot;</code>). This is to differentiate a text record from a local
type text record for instance.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readSmartPosterRecord</span><span class="token punctuation">(</span><span class="token parameter">smartPosterRecord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">assert</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">===</span> <span class="token string">"smart-poster"</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token keyword">let</span> action<span class="token punctuation">,</span> text<span class="token punctuation">,</span> url<span class="token punctuation">;</span><br><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> record <span class="token keyword">of</span> smartPosterRecord<span class="token punctuation">.</span><span class="token function">toRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">==</span> <span class="token string">"text"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      text <span class="token operator">=</span> decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">==</span> <span class="token string">"url"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      url <span class="token operator">=</span> decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">==</span> <span class="token string">":act"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      action <span class="token operator">=</span> record<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">getUint8</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token comment">// TODO: Handle other type of records such as `:t`, `:s`.</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token keyword">switch</span> <span class="token punctuation">(</span>action<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">case</span> <span class="token number">0</span><span class="token operator">:</span><br>      <span class="token comment">// Do the action</span><br>      <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token keyword">case</span> <span class="token number">1</span><span class="token operator">:</span><br>      <span class="token comment">// Save for later</span><br>      <span class="token keyword">break</span><span class="token punctuation">;</span><br>    <span class="token keyword">case</span> <span class="token number">2</span><span class="token operator">:</span><br>      <span class="token comment">// Open for editing</span><br>      <span class="token keyword">break</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>To write a smart poster record, pass an NDEF message to the NDEFReader <code>write()</code>
method. The smart poster record contained in the NDEF message is defined as an
object with a <code>recordType</code> key set to <code>&quot;smart-poster&quot;</code> and a <code>data</code> key set to
an object that represents (once again) an NDEF message contained in the
smart poster record.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> encoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> smartPosterRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"smart-poster"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span> <span class="token punctuation">{</span><br>    records<span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span> <span class="token comment">// URL record for smart poster content</span><br>        data<span class="token operator">:</span> <span class="token string">"https://my.org/content/19911"</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span> <span class="token comment">// title record for smart poster content</span><br>        data<span class="token operator">:</span> <span class="token string">"Funny dance"</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">":t"</span><span class="token punctuation">,</span> <span class="token comment">// type record, a local type to smart poster</span><br>        data<span class="token operator">:</span> encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"image/gif"</span><span class="token punctuation">)</span> <span class="token comment">// MIME type of smart poster content</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">":s"</span><span class="token punctuation">,</span> <span class="token comment">// size record, a local type to smart poster</span><br>        data<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Uint32Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">4096</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token comment">// byte size of smart poster content</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">":act"</span><span class="token punctuation">,</span> <span class="token comment">// action record, a local type to smart poster</span><br>        <span class="token comment">// do the action, in this case open in the browser</span><br>        data<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">Uint8Array</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"mime"</span><span class="token punctuation">,</span> <span class="token comment">// icon record, a MIME type record</span><br>        mediaType<span class="token operator">:</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span><br>        data<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"icon1.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"mime"</span><span class="token punctuation">,</span> <span class="token comment">// another icon record</span><br>        mediaType<span class="token operator">:</span> <span class="token string">"image/jpg"</span><span class="token punctuation">,</span><br>        data<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"icon2.jpg"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>smartPosterRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-an-external-type-record">Read and write an external type record <a class="w-headline-link" href="#read-and-write-an-external-type-record">#</a></h3>
<p>To create application defined records, use external type records. These may
contain an NDEF message as payload that is accessible with <code>toRecords()</code>. Their
name contains the domain name of the issuing organization, a colon and a type
name that is at least one character long, for instance <code>&quot;example.com:foo&quot;</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">readExternalTypeRecord</span><span class="token punctuation">(</span><span class="token parameter">externalTypeRecord</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> record <span class="token keyword">of</span> externalTypeRecord<span class="token punctuation">.</span><span class="token function">toRecords</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">==</span> <span class="token string">"text"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>encoding<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Text: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>textDecoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string"> (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>record<span class="token punctuation">.</span>lang<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>record<span class="token punctuation">.</span>recordType <span class="token operator">==</span> <span class="token string">"url"</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">const</span> decoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextDecoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">URL: </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>decoder<span class="token punctuation">.</span><span class="token function">decode</span><span class="token punctuation">(</span>record<span class="token punctuation">.</span>data<span class="token punctuation">)</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token comment">// TODO: Handle other type of records.</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>To write an external type record, pass an NDEF message dictionary to the
NDEFReader <code>write()</code> method. The external type record contained in the NDEF
message is defined as an object with a <code>recordType</code> key set to the name of the
external type and a <code>data</code> key set to an object that represents an NDEF message
contained in the external type record. Note that the <code>data</code> key can also be
either an <code>ArrayBuffer</code> or provides a view on to an <code>ArrayBuffer</code> (e.g.
<code>Uint8Array</code>, <code>DataView</code>).</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> externalTypeRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"example.game:a"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span> <span class="token punctuation">{</span><br>    records<span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"url"</span><span class="token punctuation">,</span><br>        data<span class="token operator">:</span> <span class="token string">"https://example.game/42"</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"text"</span><span class="token punctuation">,</span><br>        data<span class="token operator">:</span> <span class="token string">"Game context given here"</span><br>      <span class="token punctuation">}</span><span class="token punctuation">,</span><br>      <span class="token punctuation">{</span><br>        recordType<span class="token operator">:</span> <span class="token string">"mime"</span><span class="token punctuation">,</span><br>        mediaType<span class="token operator">:</span> <span class="token string">"image/png"</span><span class="token punctuation">,</span><br>        data<span class="token operator">:</span> <span class="token keyword">await</span> <span class="token punctuation">(</span><span class="token keyword">await</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token string">"image.png"</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">arrayBuffer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>externalTypeRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="read-and-write-an-empty-record">Read and write an empty record <a class="w-headline-link" href="#read-and-write-an-empty-record">#</a></h3>
<p>An empty record has no payload.</p>
<p>To write an empty record, pass an NDEF message dictionary to the NDEFReader
<code>write()</code> method. The empty record contained in the NDEF message is defined as
an object with a <code>recordType</code> key set to <code>&quot;empty&quot;</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> emptyRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"empty"</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>emptyRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="browser-support">Browser support <a class="w-headline-link" href="#browser-support">#</a></h2>
<p>Web NFC is available on Android in Chrome 89.</p>
<h2 id="dev-tips">Dev Tips <a class="w-headline-link" href="#dev-tips">#</a></h2>
<p>Here's a list of things I wish I had known when I started playing with Web NFC:</p>
<ul>
<li>Android handles NFC tags at the OS-level before Web NFC is operational.</li>
<li>You can find an NFC icon on <a href="https://material.io/resources/icons/?icon=nfc&amp;style=baseline" rel="noopener">material.io</a>.</li>
<li>Use NDEF record <code>id</code> to easily identifying a record when needed.</li>
<li>An unformatted NFC tag that supports NDEF contains a single record of the empty type.</li>
<li>Writing an <a href="https://developer.android.com/guide/topics/connectivity/nfc/nfc#aar" rel="noopener">android application record</a> is easy, as shown below.</li>
</ul>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> encoder <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> aarRecord <span class="token operator">=</span> <span class="token punctuation">{</span><br>  recordType<span class="token operator">:</span> <span class="token string">"android.com:pkg"</span><span class="token punctuation">,</span><br>  data<span class="token operator">:</span> encoder<span class="token punctuation">.</span><span class="token function">encode</span><span class="token punctuation">(</span><span class="token string">"com.example.myapp"</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> ndef <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">NDEFReader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">await</span> ndef<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">{</span> records<span class="token operator">:</span> <span class="token punctuation">[</span>aarRecord<span class="token punctuation">]</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="demos">Demos <a class="w-headline-link" href="#demos">#</a></h2>
<p>Try out the <a href="https://googlechrome.github.io/samples/web-nfc/" rel="noopener">official sample</a> and check out some cool Web NFC demos:</p>
<ul>
<li><a href="https://web-nfc-demo.glitch.me" rel="noopener">Cards demo</a></li>
<li><a href="https://kenchris.github.io/webnfc-groceries" rel="noopener">Grocery Demo</a></li>
<li><a href="https://kenchris.github.io/webnfc-rsp/" rel="noopener">Intel RSP Sensor NFC</a></li>
<li><a href="https://webnfc-media-memo.netlify.com/" rel="noopener">Media MEMO</a></li>
</ul>
<figure class="w-figure">
  <video controls autoplay loop muted class="w-screenshot">
    <source src="https://storage.googleapis.com/webfundamentals-assets/videos/web-nfc-cards-demo.mp4">
  </video>
  <figcaption class="w-figcaption">
    Web NFC cards demo at Chrome Dev Summit 2019
  </figcaption>
</figure>
<h2 id="feedback">Feedback <a class="w-headline-link" href="#feedback">#</a></h2>
<p>The <a href="https://www.w3.org/community/web-nfc/" rel="noopener">Web NFC Community Group</a> and the
Chrome team would love to hear about your thoughts and experiences with Web NFC.</p>
<h3 id="tell-us-about-the-api-design">Tell us about the API design <a class="w-headline-link" href="#tell-us-about-the-api-design">#</a></h3>
<p>Is there something about the API that doesn't work as expected? Or are there
missing methods or properties that you need to implement your idea?</p>
<p>File a spec issue on the <a href="https://github.com/w3c/web-nfc/issues" rel="noopener">Web NFC GitHub repo</a> or add your thoughts to
an existing issue.</p>
<h3 id="report-a-problem-with-the-implementation">Report a problem with the implementation <a class="w-headline-link" href="#report-a-problem-with-the-implementation">#</a></h3>
<p>Did you find a bug with Chrome's implementation? Or is the implementation
different from the spec?</p>
<p>File a bug at <a href="https://bugs.chromium.org/p/chromium/issues/entry?components=Blink%3ENFC" rel="noopener">https://new.crbug.com</a>. Be sure to include as much
detail as you can, provide simple instructions for reproducing the bug, and have
<em>Components</em> set to <code>Blink&gt;NFC</code>. <a href="https://glitch.com" rel="noopener">Glitch</a> works great for
sharing quick and easy repros.</p>
<h3 id="show-support">Show support <a class="w-headline-link" href="#show-support">#</a></h3>
<p>Are you planning to use Web NFC? Your public support helps the Chrome team
prioritize features and shows other browser vendors how critical it is to
support them.</p>
<p>Send a tweet to <a href="https://twitter.com/chromiumdev" rel="noopener">@ChromiumDev</a> using the hashtag
<a href="https://twitter.com/search?q=%23WebNFC&amp;src=typed_query&amp;f=live" rel="noopener"><code>#WebNFC</code></a>
and let us know where and how you're using it.</p>
<h2 id="helpful">Helpful links <a class="w-headline-link" href="#helpful">#</a></h2>
<ul>
<li><a href="https://w3c.github.io/web-nfc/" rel="noopener">Specification</a></li>
<li><a href="https://web-nfc-demo.glitch.me/" rel="noopener">Web NFC Demo</a> | <a href="https://glitch.com/edit/#!/web-nfc-demo?path=script.js:1:0" rel="noopener">Web NFC Demo source</a></li>
<li><a href="https://bugs.chromium.org/p/chromium/issues/detail?id=520391" rel="noopener">Tracking bug</a></li>
<li><a href="https://www.chromestatus.com/feature/6261030015467520" rel="noopener">ChromeStatus.com entry</a></li>
<li>Blink Component: <a href="https://chromestatus.com/features#component%3ABlink%3ENFC" rel="noopener"><code>Blink&gt;NFC</code></a></li>
</ul>
<h2 id="acknowledgements">Acknowledgements <a class="w-headline-link" href="#acknowledgements">#</a></h2>
<p>Big thanks to the <a href="https://github.com/w3c/web-nfc/graphs/contributors" rel="noopener">folks at Intel</a> for implementing Web NFC. Google Chrome
depends on a community of committers working together to move the Chromium
project forward. Not every Chromium committer is a Googler, and these
contributors deserve special recognition!</p>


      
        <div class="w-aside w-aside--note">Have a question about using this feature? You can get help by <a href="https://stackoverflow.com/questions/ask?tags=webnfc">asking a question on Stack Overflow</a>, or <a href="https://stackoverflow.com/search?q=%5Bwebnfc%5D+is%3Aquestion">browsing a list of questions</a> asked by other developers.</div>
      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/capabilities/">Capabilities</a>
          
        
          
            
            <a class="pill" href="/tags/devices/">Devices</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Feb 23, 2021</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/nfc/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="François Beaufort"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
