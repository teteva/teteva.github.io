
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
    <link rel="stylesheet" href="/css/main.css?v=d56650b9b35ad">
  

  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>First Input Delay (FID)</title>
<meta name="description" content="This post introduces the First Input Delay (FID) metric and explains how to measure it " />

<link rel="canonical" href="https://web.dev/fid/" />
<link rel="alternate" hreflang="es" href="https://web.dev/i18n/es/fid/" />
<link rel="alternate" hreflang="ja" href="https://web.dev/i18n/ja/fid/" />
<link rel="alternate" hreflang="ko" href="https://web.dev/i18n/ko/fid/" />
<link rel="alternate" hreflang="pt" href="https://web.dev/i18n/pt/fid/" />
<link rel="alternate" hreflang="ru" href="https://web.dev/i18n/ru/fid/" />
<link rel="alternate" hreflang="zh" href="https://web.dev/i18n/zh/fid/" />
<link rel="alternate" hreflang="en" href="https://web.dev/fid/" />
<meta itemprop="name" content="First Input Delay (FID)" />
<meta itemprop="description" content="This post introduces the First Input Delay (FID) metric and explains how to measure it " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/fid/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="First Input Delay (FID)" />
<meta property="og:description" content="This post introduces the First Input Delay (FID) metric and explains how to measure it " />
<meta property="og:image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="" />
<meta property="tag" content="performance" />
<meta property="tag" content="metrics" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="First Input Delay (FID)" />
<meta name="twitter:description" content="This post introduces the First Input Delay (FID) metric and explains how to measure it " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=6450526cb4bfa', 'module');




  loadScript('/js/content.js?v=070bf76c7b5a7', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    



<web-header class="header-default" role="navigation">
  <button data-open-drawer-button class="w-button--svg w-button--round" aria-label="Open menu">
    








  










  <svg class="icon " role="img" aria-label="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>


    <span class="w-tooltip w-tooltip--left">Open menu</span>
  </button>

  <a
    href="/"
    class="header-default__logo-link gc-analytics-event"
    data-category="Site-Wide Custom Events"
    data-label="Site logo"
  >
    <img class="header-default__logo" width="125" height="23" src="/images/lockup.svg" alt="web.dev" />
  </a>

  <div class="header-default__middle">
    <div class="header-default__links">
      <a
        href="/learn/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
      >
        Learn
      </a>

      <a
        href="/measure/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
      >
        Measure
      </a>

      <a
        href="/blog/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
      >
        Blog
      </a>

      <a
        href="/about/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About"
      >
        About
      </a>
    </div>
    <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
    <web-search-results id="search-main-results"></web-search-results>
  </div>

  <web-profile-switcher-container></web-profile-switcher-container>
</web-header>



<web-navigation-drawer class="drawer-default" type="modal">
  <nav data-drawer-container>
    <div class="drawer-default__contents">
      <div class="drawer-default__header">
        <button
          data-drawer-close-button
          class="drawer-default__hide w-button--svg w-button--round"
          aria-label="Close"
        >
          








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


          <span class="w-tooltip">Close</span>
        </button>
        <a
          href="/"
          class="gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Site logo"
        >
          <img
            width="125"
            height="30"
            class="drawer-default__logo"
            src="/images/lockup.svg"
            alt="web.dev"
          />
        </a>
      </div>
      <a
        href="/learn/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Learn"
      >
        Learn
      </a>
      <a
        href="/measure/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Measure"
      >
        Measure
      </a>
      <a
        href="/blog/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Blog"
      >
        Blog
      </a>
      <a
        href="/about/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: About"
      >
        About
      </a>
    </div>
  </nav>
</web-navigation-drawer>

<main>
  <div id="content">
    
      
    
    


<div class="guide-landing-page">
  
    
    
    
  
  

  

  <web-table-of-contents>
    <h2 class="w-toc__header">
      <a href="#first-input-delay-(fid)" class="w-toc__header--link">
        First Input Delay (FID)
      </a>
    </h2>
    <div class="w-toc__list">
        <ul><li><a href="#what-is-fid">What is FID?</a><ol><li><a href="#what-is-a-good-fid-score">What is a good FID score?</a></li></ol></li><li><a href="#fid-in-detail">FID in detail</a><ol><li><a href="#what-if-an-interaction-doesn't-have-an-event-listener">What if an interaction doesn't have an event listener?</a></li><li><a href="#why-only-consider-the-first-input">Why only consider the first input?</a></li><li><a href="#what-counts-as-a-first-input">What counts as a first input?</a></li><li><a href="#what-if-a-user-never-interacts-with-your-site">What if a user never interacts with your site?</a></li><li><a href="#why-only-consider-the-input-delay">Why only consider the input delay?</a></li></ol></li><li><a href="#how-to-measure-fid">How to measure FID</a><ol><li><a href="#field-tools">Field tools</a></li><li><a href="#measure-fid-in-javascript">Measure FID in JavaScript</a></li><li><a href="#analyzing-and-reporting-on-fid-data">Analyzing and reporting on FID data</a></li></ol></li><li><a href="#how-to-improve-fid">How to improve FID</a></li><li><a href="#changelog">CHANGELOG</a></li></ul></div>
  </web-table-of-contents>
  <web-table-of-contents-button></web-table-of-contents-button>

  
  <div class="w-actions">
    <share-action authors="@philwalton"
      class="gc-analytics-event w-actions__fab w-actions__fab--share"
      data-category="web.dev"
      data-label="share"
      data-action="click"
      data-icon="share"
      tabindex="0"
      role="button"
    >
      <span>Share</span>
    </share-action>
    
    
  </div>

  <div class="w-layout-container--narrow w-post-content">
    <header class="w-article-header">
      

      <h1 id="first-input-delay-(fid)" class="w-article-header__headline">First Input Delay (FID)</h1>
      

      
        <div class="w-author__published">
          <time>Nov 7, 2019</time>
           <span class="w-author__separator">•</span> Updated <time>Jun 19, 2020</time> 
        </div>
      

      
      
      <div class="w-layout-container--narrow w-post-signpost">
        <span class="w-post-signpost__title">Available in:
    <a class="w-post-signpost__link"
        translate="no"
        lang="es"
        href="/i18n/es/fid/">
      Español</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="ja"
        href="/i18n/ja/fid/">
      日本語</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="ko"
        href="/i18n/ko/fid/">
      한국어</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="pt"
        href="/i18n/pt/fid/">
      Português</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="ru"
        href="/i18n/ru/fid/">
      Русский</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="zh"
        href="/i18n/zh/fid/">
      中文</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="en"
        href="/i18n/en/fid/">
      English</a></span>
      </div>
      

      <div class="w-layout-container--narrow w-post-signpost">
  <span class="w-post-signpost__title">
    Appears in:
  </span>
  <a
          class="w-post-signpost__link"
          href="/learn-web-vitals"
          >Web Vitals</a
        ><span class="w-post-signpost__divider">|</span><a
          class="w-post-signpost__link"
          href="/metrics"
          >Metrics</a
        >
</div>

      
        <div class="w-authors w-mt--xl w-pt--sm">
          
            <div class="w-author">
  <a href="/authors/philipwalton/"><img     alt="Philip Walton"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/ovBM8MF9rYDxVVHUVlcG.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /></a>
  <div
    class="w-author__info"
    style="display: flex; flex-direction: column; justify-content: center;"
  >
    <cite class="w-author__name">
      <a class="w-author__name-link" href="/authors/philipwalton/">Philip Walton</a>
    </cite>
    <ul class="w-author__link-list">
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://twitter.com/philwalton"
          >Twitter</a
        >
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://github.com/philipwalton">GitHub</a>
      </li>
      
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://philipwalton.com">Blog</a>
      </li>
    </ul>
  </div>
</div>
          
        </div>
      
    </header>

    

    <div class="w-aside w-aside--note">
<p>First Input Delay (FID) is an important, user-centric metric for measuring
<a href="/user-centric-performance-metrics/#types-of-metrics">load responsiveness</a>
because it quantifies the experience users feel when trying to interact with
unresponsive pages—a low FID helps ensure that the page is
<a href="/user-centric-performance-metrics/#questions">usable</a>.</p>
</div>
<p>We all know how important it is to make a good first impression. It's important
when meeting new people, and it's also important when building experiences on
the web.</p>
<p>On the web, a good first impression can make the difference between someone
becoming a loyal user or them leaving and never coming back. The question is,
what makes for a good impression, and how do you measure what kind of impression
you're likely making on your users?</p>
<p>On the web, first impressions can take a lot of different forms—we have
first impressions of a site's design and visual appeal as well as first
impressions of its speed and responsiveness.</p>
<p>While it is hard to measure how much users like a site's design with web APIs,
measuring its speed and responsiveness is not!</p>
<p>The first impression users have of how fast your site loads can be measured with
<a href="/fcp/">First Contentful Paint (FCP)</a>. But how fast your site can paint pixels
to the screen is just part of the story. Equally important is how responsive
your site is when users try to interact with those pixels!</p>
<p>The First Input Delay (FID) metric helps measure your user's first impression of
your site's interactivity and responsiveness.</p>
<h2 id="what-is-fid">What is FID? <a class="w-headline-link" href="#what-is-fid">#</a></h2>
<p>FID measures the time from when a user first interacts with a page (i.e. when
they click a link, tap on a button, or use a custom, JavaScript-powered control)
to the time when the browser is actually able to begin processing event handlers
in response to that interaction.</p>
<picture>
  <source srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/eXyvkqRHQZ5iG38Axh1Z.svg" media="(min-width: 640px)" width="400", height="100">
  <img     alt="Good fid values are 2.5 seconds, poor values are greater than 4.0 seconds and anything in between needs improvement"     class="w-screenshot w-screenshot--filled width-full"     decoding="async"     height="300"          loading="lazy"          src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Se4TiXIdp8jtLJVScWed.svg"               width="400"   />
</picture>
<h3 id="what-is-a-good-fid-score">What is a good FID score? <a class="w-headline-link" href="#what-is-a-good-fid-score">#</a></h3>
<p>To provide a good user experience, sites should strive to have a First Input
Delay of <strong>100 milliseconds</strong> or less. To ensure you're hitting this target for
most of your users, a good threshold to measure is the <strong>75th percentile</strong> of
page loads, segmented across mobile and desktop devices.</p>
<div class="w-aside w-aside--note">
<p>To learn more about the research and methodology behind this recommendation,
see: <a href="/defining-core-web-vitals-thresholds/">Defining the Core Web Vitals metrics
thresholds</a></p>
</div>
<h2 id="fid-in-detail">FID in detail <a class="w-headline-link" href="#fid-in-detail">#</a></h2>
<p>As developers who write code that responds to events, we often assume our code
is going to be run immediately—as soon as the event happens. But as users,
we've all frequently experienced the opposite—we've loaded a web page on
our phone, tried to interact with it, and then been frustrated when nothing
happened.</p>
<p>In general, input delay (a.k.a. input latency) happens because the browser's
main thread is busy doing something else, so it can't (yet) respond to the user.
One common reason this might happen is the browser is busy parsing and executing
a large JavaScript file loaded by your app. While it's doing that, it can't run
any event listeners because the JavaScript it's loading might tell it to do
something else.</p>
<div class="w-aside w-aside--gotchas"><strong>Gotchas!</strong>
<p>FID only measures the &quot;delay&quot; in event processing. It does
not measure the event processing time itself nor the time it takes the browser
to update the UI after running event handlers. While this time does affect the
user experience, including it as part of FID would incentivize developers to
respond to events asynchronously—which would improve the metric but
likely make the experience worse. See <a href="#why-only-consider-the-input-delay">why only consider the input
delay</a> below for more details. </div></p>
<p>Consider the following timeline of a typical web page load:</p>
<p><a href="https://web-dev.imgix.net/image/admin/9tm3f6pwlHMqNKuFvaP0.svg"><img      alt="Example page load trace"            decoding="async"      height="260"            loading="lazy"            src="https://web-dev.imgix.net/image/admin/9tm3f6pwlHMqNKuFvaP0.svg"                  width="800"    /></a></p>
<p>The above visualization shows a page that's making a couple of network requests
for resources (most likely CSS and JS files), and—after those resources
are finished downloading—they're processed on the main thread.</p>
<p>This results in periods where the main thread is momentarily busy, which is
indicated by the beige-colored
<a href="https://html.spec.whatwg.org/multipage/webappapis.html#concept-task" rel="noopener">task</a>
blocks.</p>
<p>Long first input delays typically occur between <a href="/fcp/">First Contentful Paint
(FCP)</a> and <a href="/tti/">Time to Interactive (TTI)</a> because the page has
rendered some of its content but isn't yet reliably interactive. To illustrate
how this can happen, FCP and TTI have been added to the timeline:</p>
<p><a href="https://web-dev.imgix.net/image/admin/24Y3T5sWNuZD9fKhkuER.svg"><img      alt="Example page load trace with FCP and TTI"            decoding="async"      height="340"            loading="lazy"            src="https://web-dev.imgix.net/image/admin/24Y3T5sWNuZD9fKhkuER.svg"                  width="800"    /></a></p>
<p>You may have noticed that there's a fair amount of time (including three <a href="/custom-metrics/#long-tasks-api">long
tasks</a>) between FCP and TTI, if a user tries to
interact with the page during that time (e.g. click on a link), there will be a
delay between when the click is received and when the main thread is able to
respond.</p>
<p>Consider what would happen if a user tried to interact with the page near the
beginning of the longest task:</p>
<p><a href="https://web-dev.imgix.net/image/admin/krOoeuQ4TWCbt9t6v5Wf.svg"><img      alt="Example page load trace with FCP, TTI, and FID"            decoding="async"      height="380"            loading="lazy"            src="https://web-dev.imgix.net/image/admin/krOoeuQ4TWCbt9t6v5Wf.svg"                  width="800"    /></a></p>
<p>Because the input occurs while the browser is in the middle of running a task,
it has to wait until the task completes before it can respond to the input. The
time it must wait is the FID value for this user on this page.</p>
<div class="w-aside w-aside--note">
<p>In this example the user just happened to interact with the
page at the beginning of the main thread's most busy period. If the user had
interacted with the page just a moment earlier (during the idle period) the
browser could have responded right away. This variance in input delay
underscores the importance of looking at the distribution of FID values when
reporting on the metric. You can read more about this in the section below on
analyzing and reporting on FID data.</p>
</div>
<h3 id="what-if-an-interaction-doesn't-have-an-event-listener">What if an interaction doesn't have an event listener? <a class="w-headline-link" href="#what-if-an-interaction-doesn't-have-an-event-listener">#</a></h3>
<p>FID measures the delta between when an input event is received and when the main
thread is next idle. This means FID is measured <strong>even in cases where an event
listener has not been registered.</strong> The reason is because many user interactions
do not require an event listener but <em>do</em> require the main thread to be idle in
order to run.</p>
<p>For example, all of the following HTML elements need to wait for
in-progress tasks on the main thread to complete prior to responding to user
interactions:</p>
<ul>
<li>Text fields, checkboxes, and radio buttons (<code>&lt;input&gt;</code>, <code>&lt;textarea&gt;</code>)</li>
<li>Select dropdowns (<code>&lt;select&gt;</code>)</li>
<li>links (<code>&lt;a&gt;</code>)</li>
</ul>
<h3 id="why-only-consider-the-first-input">Why only consider the first input? <a class="w-headline-link" href="#why-only-consider-the-first-input">#</a></h3>
<p>While a delay from any input can lead to a bad user experience, we primarily
recommend measuring the first input delay for a few reasons:</p>
<ul>
<li>The first input delay will be the user's first impression of your site's
responsiveness, and first impressions are critical in shaping our overall
impression of a site's quality and reliability.</li>
<li>The biggest interactivity issues we see on the web today occur during page
load. Therefore, we believe initially focusing on improving site's first user
interaction will have the greatest impact on improving the overall
interactivity of the web.</li>
<li>The recommended solutions for how sites should fix high first input delays
(code splitting, loading less JavaScript upfront, etc.) are not necessarily
the same solutions for fixing slow input delays after page load. By separating
out these metrics we'll be able to provide more specific performance
guidelines to web developers.</li>
</ul>
<h3 id="what-counts-as-a-first-input">What counts as a first input? <a class="w-headline-link" href="#what-counts-as-a-first-input">#</a></h3>
<p>FID is a metric that measures a page's responsiveness during load. As such, it
only focuses on input events from discrete actions like clicks, taps, and key
presses.</p>
<p>Other interactions, like scrolling and zooming, are continuous actions and have
completely different performance constraints (also, browsers are often able to
hide their latency by running them on a separate thread).</p>
<p>To put this another way, FID focuses on the R (responsiveness) in the <a href="https://developers.google.com/web/fundamentals/performance/rail" rel="noopener">RAIL
performance
model</a>, whereas
scrolling and zooming are more related to A (animation), and their performance
qualities should be evaluated separately.</p>
<h3 id="what-if-a-user-never-interacts-with-your-site">What if a user never interacts with your site? <a class="w-headline-link" href="#what-if-a-user-never-interacts-with-your-site">#</a></h3>
<p>Not all users will interact with your site every time they visit. And not all
interactions are relevant to FID (as mentioned in the previous section). In
addition, some user's first interactions will be at bad times (when the main
thread is busy for an extended period of time), and some user's first
interactions will be at good times (when the main thread is completely idle).</p>
<p>This means some users will have no FID values, some users will have low FID
values, and some users will probably have high FID values.</p>
<p>How you track, report on, and analyze FID will probably be quite a bit different
from other metrics you may be used to. The next section explains how best to do
this.</p>
<h3 id="why-only-consider-the-input-delay">Why only consider the input delay? <a class="w-headline-link" href="#why-only-consider-the-input-delay">#</a></h3>
<p>As mentioned above, FID only measures the &quot;delay&quot; in event processing. It does
not measure the event processing time itself nor the time it takes the browser
to update the UI after running event handlers.</p>
<p>Even though this time is important to the user and <em>does</em> affect the experience,
it's not included in this metric because doing so could incentivize developers
to add workarounds that actually make the experience worse—that is, they
could wrap their event handler logic in an asynchronous callback (via
<code>setTimeout()</code> or <code>requestAnimationFrame()</code>) in order to separate it from the
task associated with the event. The result would be an improvement in the metric
score but a slower response as perceived by the user.</p>
<p>However, while FID only measure the &quot;delay&quot; portion of event latency, developers
who want to track more of the event lifecycle can do so using the <a href="https://wicg.github.io/event-timing/" rel="noopener">Event Timing
API</a>. See the guide on <a href="/custom-metrics/#event-timing-api">custom
metrics</a> for more details.</p>
<h2 id="how-to-measure-fid">How to measure FID <a class="w-headline-link" href="#how-to-measure-fid">#</a></h2>
<p>FID is a metric that can only be measured <a href="/user-centric-performance-metrics/#in-the-field">in the
field</a>, as it requires a real
user to interact with your page. You can measure FID with the following tools.</p>
<div class="w-aside w-aside--note">
<p>FID requires a real user and thus cannot be measured in the lab. However, the
<a href="/tbt/">Total Blocking Time (TBT)</a> metric is lab-measurable, correlates well
with FID in the field, and also captures issues that affect interactivity.
Optimizations that improve TBT in the lab should also improve FID for your
users.</p>
</div>
<h3 id="field-tools">Field tools <a class="w-headline-link" href="#field-tools">#</a></h3>
<ul>
<li><a href="https://developers.google.com/web/tools/chrome-user-experience-report" rel="noopener">Chrome User Experience
Report</a></li>
<li><a href="https://developers.google.com/speed/pagespeed/insights/" rel="noopener">PageSpeed Insights</a></li>
<li><a href="https://support.google.com/webmasters/answer/9205520" rel="noopener">Search Console (Core Web Vitals
report)</a></li>
<li><a href="https://github.com/GoogleChrome/web-vitals" rel="noopener"><code>web-vitals</code> JavaScript library</a></li>
</ul>
<h3 id="measure-fid-in-javascript">Measure FID in JavaScript <a class="w-headline-link" href="#measure-fid-in-javascript">#</a></h3>
<p>To measure FID in JavaScript, you can use the <a href="https://wicg.github.io/event-timing" rel="noopener">Event Timing
API</a>. The following example shows how to
create a
<a href="https://developer.mozilla.org/docs/Web/API/PerformanceObserver" rel="noopener"><code>PerformanceObserver</code></a>
that listens for
<a href="https://wicg.github.io/event-timing/#sec-performance-event-timing" rel="noopener"><code>first-input</code></a>
entries and logs them to the console:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">PerformanceObserver</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">entryList</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">const</span> entry <span class="token keyword">of</span> entryList<span class="token punctuation">.</span><span class="token function">getEntries</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> delay <span class="token operator">=</span> entry<span class="token punctuation">.</span>processingStart <span class="token operator">-</span> entry<span class="token punctuation">.</span>startTime<span class="token punctuation">;</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'FID candidate:'</span><span class="token punctuation">,</span> delay<span class="token punctuation">,</span> entry<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">observe</span><span class="token punctuation">(</span><span class="token punctuation">{</span>type<span class="token operator">:</span> <span class="token string">'first-input'</span><span class="token punctuation">,</span> buffered<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><div class="w-aside w-aside--warning">
<p><strong>Warning</strong>:
This code shows how to log <code>first-input</code> entries to the console and calculate
their delay. However, measuring FID in JavaScript is more complicated. See
below for details:</p>
</div>
<p>In the above example, the <code>first-input</code> entry's delay value is measured by
taking the delta between the entry's <code>startTime</code> and <code>processingStart</code>
timestamps. In most cases this will be the FID value; however, not all
<code>first-input</code> entries are valid for measuring FID.</p>
<p>The following section lists the differences between what the API reports and how
the metric is calculated.</p>
<h4 id="differences-between-the-metric-and-the-api">Differences between the metric and the API <a class="w-headline-link" href="#differences-between-the-metric-and-the-api">#</a></h4>
<ul>
<li>The API will dispatch <code>first-input</code> entries for pages loaded
in a background tab but those pages should be ignored when calculating FID.</li>
<li>The API will also dispatch <code>first-input</code> entries if the page was backgrounded
prior to the first input occurring, but those pages should also be ignored
when calculating FID (inputs are only considered if the page was in the
foreground the entire time).</li>
<li>The API does not report <code>first-input</code> entries when the page is restored from
the <a href="/bfcache/#impact-on-core-web-vitals">back/forward cache</a>, but FID should
be measured in these cases since users experience them as distinct page
visits.</li>
<li>The API does not report inputs that occur within iframes, but to properly
measure FID you should consider them. Sub-frames can use the API to report
their <code>first-input</code> entries to the parent frame for aggregation.</li>
</ul>
<p>Rather than memorizing all these subtle differences, developers can use the
<a href="https://github.com/GoogleChrome/web-vitals" rel="noopener"><code>web-vitals</code> JavaScript library</a> to
measure FID, which handles these differences for you (where possible):</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>getFID<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'web-vitals'</span><span class="token punctuation">;</span><br><br><span class="token comment">// Measure and log FID as soon as it's available.</span><br><span class="token function">getFID</span><span class="token punctuation">(</span>console<span class="token punctuation">.</span>log<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>You can refer to <a href="https://github.com/GoogleChrome/web-vitals/blob/master/src/getFID.ts" rel="noopener">the source code for
<code>getFID)</code></a>
for a complete example of how to measure FID in JavaScript.</p>
<div class="w-aside w-aside--note">
<p>In some cases (such as cross-origin iframes) it's not possible to measure FID
in JavaScript. See the
<a href="https://github.com/GoogleChrome/web-vitals#limitations" rel="noopener">limitations</a> section
of the <code>web-vitals</code> library for details.</p>
</div>
<h3 id="analyzing-and-reporting-on-fid-data">Analyzing and reporting on FID data <a class="w-headline-link" href="#analyzing-and-reporting-on-fid-data">#</a></h3>
<p>Due to the expected variance in FID values, it's critical that when reporting on
FID you look at the distribution of values and focus on the higher percentiles.</p>
<p>While <a href="/defining-core-web-vitals-thresholds/#choice-of-percentile">choice of
percentile</a> for all
Core Web Vitals thresholds is the 75th, for FID in particular we still strongly
recommend looking at the 95th–99th percentiles, as those will correspond to the
particularly bad first experiences users are having with your site. And it will
show you the areas that need the most improvement.</p>
<p>This is true even if you segment your reports by device category or type. For
example, if you run separate reports for desktop and mobile, the FID value you
care most about on desktop should be the 95th–99th percentile of desktop users,
and the FID value you care about most on mobile should be the 95th–99th
percentile of mobile users.</p>
<h2 id="how-to-improve-fid">How to improve FID <a class="w-headline-link" href="#how-to-improve-fid">#</a></h2>
<p>To learn how to improve FID for a specific site, you can run a Lighthouse
performance audit and pay attention to any specific
<a href="/lighthouse-performance/#opportunities">opportunities</a> the audit suggests.</p>
<p>While FID is a field metric (and Lighthouse is a lab metric tool), the guidance
for improving FID is the same as that for improving the lab metric <a href="/tbt/">Total
Blocking Time (TBT)</a>.</p>
<p>For a deep dive on how to improve FID, see <a href="/optimize-fid/">Optimize FID</a>. For
additional guidance on individual performance techniques that can also improve
FID, see:</p>
<ul>
<li><a href="/third-party-summary/">Reduce the impact of third-party code</a></li>
<li><a href="/bootup-time/">Reduce JavaScript execution time</a></li>
<li><a href="/mainthread-work-breakdown/">Minimize main thread work</a></li>
<li><a href="/resource-summary/">Keep request counts low and transfer sizes small</a></li>
</ul>
<h2 id="changelog">CHANGELOG <a class="w-headline-link" href="#changelog">#</a></h2>
<p>Occasionally, bugs are discovered in the APIs used to measure metrics, and
sometimes in the definitions of the metrics themselves. As a result, changes
must sometimes be made, and these changes can show up as improvements or
regressions in your internal reports and dashboards.</p>
<p>To help you manage this, all changes to either the implementation or definition
of these metrics will be surfaced in this
<a href="http://bit.ly/chrome-speed-metrics-changelog" rel="noopener">CHANGELOG</a>.</p>


    

    
  <div class="w-chips ">
    
      
    
      
        
        <a class="w-chip" href="/tags/performance/">Performance</a>
      
    
      
        
        <a class="w-chip" href="/tags/metrics/">Metrics</a>
      
    
  </div>


    <div class="w-post-github-link w-mt--l w-mb--l">
      <span class="w-mr--sm">
        
        Last updated: <time>Jun 19, 2020</time>
        
      </span>
      <a
        href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/metrics/fid/index.md"
      >
        Improve article
      </a>
       
    </div>

    
  </div>

  
    
    <nav class="w-article-navigation">
  <a
    class="w-article-navigation__link w-article-navigation__link--back
      w-article-navigation__link--single gc-analytics-event"
    data-category="web.dev"
    data-label="navigation, go back"
    data-action="click"
    href="/learn-web-vitals"
  >
    Return to all articles
  </a>
</nav>
  
</div>


  </div>
</main>
<footer class="w-footer">
  <nav class="w-footer__linkboxes">
    <ul class="w-footer__linkboxes-list">
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Contribute</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
              class="w-footer__linkbox-link" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              File a bug
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/googlechrome/web.dev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              View source
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Related content</h3>
        <ul class="w-footer__linkbox-list">
         <li class="w-footer__linkbox-item">
            <a href="https://developer.chrome.com/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              developer.chrome.com
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://blog.chromium.org/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Chrome updates
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/fundamentals" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              Web Fundamentals
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/showcase/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
              Case studies
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/podcasts/" class="w-footer__linkbox-link"
              data-category="Podcasts" data-label="Footer Link (index 5)">
              Podcasts
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/shows/" class="w-footer__linkbox-link"
              data-category="Shows" data-label="Footer Link (index 6)">
              Shows
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Connect</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://www.twitter.com/ChromiumDev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Twitter
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://www.youtube.com/user/ChromeDevelopers" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              YouTube
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="w-footer__utility">
    <nav class="w-footer__utility-nav">
      <a href="https://developers.google.com/" class="w-footer__utility-logo-link"
        data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
        <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
          alt="Google Developers" />
      </a>
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
            Chrome
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Firebase Link">
            Firebase
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Google Cloud Platform Link">
            Google Cloud Platform
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developers.google.com/products"
            data-category="Site-Wide Custom Events" data-label="Footer All products Link">
            All products
          </a>
        </li>
      </ul>
      <web-language-select current="en"></web-language-select>
    </nav>
    <nav class="w-footer__utility-nav">
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://policies.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Terms and Privacy link">
            Terms &amp; Privacy
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="/community-guidelines/" data-category="Site-Wide Custom Events"
            data-label="Footer Community Guidelines link">
            Community Guidelines
          </a>
        </li>
      </ul>
      <div class="w-footer__license">
        <p>
          Except as otherwise noted, the content of this page is licensed
          under the
          <a href="https://creativecommons.org/licenses/by/4.0/">
          Creative Commons Attribution 4.0 License</a>,
          and code samples are licensed under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">
          Apache 2.0 License</a>. For details, see the
          <a href="https://developers.google.com/terms/site-policies">
          Google Developers Site Policies</a>.
        </p>
      </div>
    </nav>
  </div>
</footer>

  </body>
</html>
