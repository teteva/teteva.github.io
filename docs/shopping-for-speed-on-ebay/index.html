
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=707f7bfe2f19a">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=a79f8128eedee">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Shopping for speed on eBay.com</title>
<meta name="description" content="This case study explains how eBay increased key business metrics by optimizing the performance of their web and app experiences. " />

<link rel="canonical" href="https://web.dev/shopping-for-speed-on-ebay/" />

<meta itemprop="name" content="Shopping for speed on eBay.com" />
<meta itemprop="description" content="This case study explains how eBay increased key business metrics by optimizing the performance of their web and app experiences. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/58uctmJLRxZK0KKV2igl.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/shopping-for-speed-on-ebay/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Shopping for speed on eBay.com" />
<meta property="og:description" content="This case study explains how eBay increased key business metrics by optimizing the performance of their web and app experiences. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/58uctmJLRxZK0KKV2igl.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="The eBay Logo and a screenshot of the eBay site" />
<meta property="tag" content="case-study" />
<meta property="tag" content="test-post" />
<meta property="tag" content="performance" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Shopping for speed on eBay.com" />
<meta name="twitter:description" content="This case study explains how eBay increased key business metrics by optimizing the performance of their web and app experiences. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/58uctmJLRxZK0KKV2igl.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=7e374153afa0b', 'module');




  loadScript('/js/content.js?v=10cd9792ca764', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="The eBay Logo and a screenshot of the eBay site"     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/UMFt6kc3YZIaF2Qzqd0d.png?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#web-performance-&quot;cuts&quot;">Web Performance &quot;cuts&quot;</a></li><li class="toc__listitem"><a class="toc__anchor" href="#reduce-payload-across-all-text-resources">Reduce payload across all text resources</a></li><li class="toc__listitem"><a class="toc__anchor" href="#critical-path-optimization-for-above-the-fold-content">Critical path optimization for above-the-fold content</a></li><li class="toc__listitem"><a class="toc__anchor" href="#image-optimizations">Image optimizations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#predictive-prefetch-of-static-assets">Predictive prefetch of static assets</a></li><li class="toc__listitem"><a class="toc__anchor" href="#prefetching-top-search-results">Prefetching top search results</a></li><li class="toc__listitem"><a class="toc__anchor" href="#eager-downloading-of-search-images">Eager downloading of search images</a></li><li class="toc__listitem"><a class="toc__anchor" href="#edge-caching-for-autosuggestion-data">Edge caching for autosuggestion data</a></li><li class="toc__listitem"><a class="toc__anchor" href="#edge-caching-for-unrecognized-homepage-users">Edge caching for unrecognized homepage users</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizations-for-other-platforms">Optimizations for other platforms</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#iosandroid-app-parsing-improvements">iOS/Android app parsing improvements</a></li><li class="toc__listitem"><a class="toc__anchor" href="#android-app-startup-time-improvements">Android app startup time improvements</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusions">Conclusions</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="shopping-for-speed-on-ebay.com">Shopping for speed on eBay.com</h1>
        
          <p class="color-mid-text flow-space-base">
            Optimizing the performance of eBay's sites and apps for a faster user experience.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Jan 22, 2020</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/addyosmani/"> <img     alt="Addy Osmani"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/addyosmani/">Addy Osmani</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/addyosmani">Twitter</a>
               <a href="https://github.com/addyosmani">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#web-performance-&quot;cuts&quot;">Web Performance &quot;cuts&quot;</a></li><li class="toc__listitem"><a class="toc__anchor" href="#reduce-payload-across-all-text-resources">Reduce payload across all text resources</a></li><li class="toc__listitem"><a class="toc__anchor" href="#critical-path-optimization-for-above-the-fold-content">Critical path optimization for above-the-fold content</a></li><li class="toc__listitem"><a class="toc__anchor" href="#image-optimizations">Image optimizations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#predictive-prefetch-of-static-assets">Predictive prefetch of static assets</a></li><li class="toc__listitem"><a class="toc__anchor" href="#prefetching-top-search-results">Prefetching top search results</a></li><li class="toc__listitem"><a class="toc__anchor" href="#eager-downloading-of-search-images">Eager downloading of search images</a></li><li class="toc__listitem"><a class="toc__anchor" href="#edge-caching-for-autosuggestion-data">Edge caching for autosuggestion data</a></li><li class="toc__listitem"><a class="toc__anchor" href="#edge-caching-for-unrecognized-homepage-users">Edge caching for unrecognized homepage users</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizations-for-other-platforms">Optimizations for other platforms</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#iosandroid-app-parsing-improvements">iOS/Android app parsing improvements</a></li><li class="toc__listitem"><a class="toc__anchor" href="#android-app-startup-time-improvements">Android app startup time improvements</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusions">Conclusions</a></li></ul></div>
    </details>
  </div>



      <p>Speed was a <a href="https://tech.ebayinc.com/engineering/speed-by-a-thousand-cuts/" rel="noopener">company-wide initiative</a> for eBay in 2019, with many teams determined to make the
site and apps as fast as possible for users. In fact, <strong>for every 100 milliseconds improvement in
search page loading time, eBay saw a 0.5% increase in &quot;Add to Cart&quot; count.</strong></p>
<div class="stats">
  <div class="stats__item">
    <p class="stats__figure">100<sub>ms</sub></p>
    <p>Improvement in load time</p>
  </div>
  <div class="stats__item">
    <p class="stats__figure">0.5<sub>%</sub></p>
    <p>Increase in "Add to Cart" count</p>
  </div>
</div>
<p>Through the adoption of <a href="/performance-budgets-101/">Performance Budgets</a> (derived
after doing a competitive study with the <a href="https://developers.google.com/web/tools/chrome-user-experience-report" rel="noopener">Chrome User Experience
Report</a>) and a focus on key
<a href="/user-centric-performance-metrics/">user-centric performance metrics</a>, eBay was able to make
significant improvements to site speed.</p>
<figure>
  <img     alt="The optimization efforst led to a 10% improvement on the homepage, a 13% improvement on the search page, and 3% improvement on item pages."     class="w-screenshot"     decoding="async"     height="186"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format"     srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/JXQCBQRuezhMQhfQShXq.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    eBay's speed improvements.
  </figcaption>
</figure>
<p>…and their Chrome User Experience Report data highlights these improvements, too.</p>
<figure>
  <img     alt="Screenshots of PageSpeed Insights view of Chrome User Experience Report data highlighting fast FCP of 70% and fast FID of 88% for eBay.com"     class="w-screenshot"     decoding="async"     height="237"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/YeJPjxdDBrdbgLxcbl7E.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    Chrome User Experience Report data for <a href="/fcp/">First Contentful Paint</a> and <a href="/fid/">First Input Delay</a> for the eBay.com origin.
  </figcaption>
</figure>
<p>There's still more work ahead but here's eBay's learnings so far.</p>
<h2 id="web-performance-&quot;cuts&quot;">Web Performance &quot;cuts&quot; <a class="w-headline-link" href="#web-performance-&quot;cuts&quot;">#</a></h2>
<p>The improvements eBay made were possible due to the reduction or &quot;cuts&quot; (in the size and time) of
various entities that take part in a user's journey.  This post covers topics that are relevant to
the web developer community at large, rather than eBay-specific topics.</p>
<h2 id="reduce-payload-across-all-text-resources">Reduce payload across all text resources <a class="w-headline-link" href="#reduce-payload-across-all-text-resources">#</a></h2>
<p>One way to make sites fast is to simply load less code. eBay reduced their text payloads by trimming
all the <a href="/remove-unused-code/">unused and unnecessary bytes</a> of JavaScript, CSS,
HTML, and JSON responses served to users. Previously, with every new feature, eBay kept increasing
the payload of their responses, without cleaning up what was unused. This added up over time and
became a performance bottleneck. Teams usually procrastinated on this cleanup activity, but you'd
be surprised by how much eBay saved.</p>
<p>The &quot;cut&quot; here is the wasted bytes in the response payload.</p>
<h2 id="critical-path-optimization-for-above-the-fold-content">Critical path optimization for above-the-fold content <a class="w-headline-link" href="#critical-path-optimization-for-above-the-fold-content">#</a></h2>
<p>Not every pixel on the screen is equally important. The content <a href="https://www.optimizely.com/optimization-glossary/above-the-fold/" rel="noopener">above-the-fold</a> is <a href="/extract-critical-css/">more
critical</a> than something below-the-fold. iOS/Android/desktop and web apps
are aware of this, but what about services? eBay's service architecture has a layer called
<a href="https://tech.ebayinc.com/engineering/experience-services-ebays-solution-to-multi-screen-application-development/" rel="noopener">Experience
Services</a>,
which the frontends (platform-specific apps and web servers) talk to.
This layer is specifically designed to be view- or device-based, rather than entity-based like item,
user, or order. eBay then introduced the concept of the critical path for Experience Services.
When a request comes to these services, they work on getting the data for above-the-fold
content immediately, by calling other upstream services in parallel. Once data is ready, it is
instantly flushed.
The below-the-fold data is sent in a later chunk or lazy-loaded. The outcome: users get to see
above-the-fold content quicker.</p>
<p>The &quot;cut&quot; here is the time spent by services to display relevant
content.</p>
<h2 id="image-optimizations">Image optimizations <a class="w-headline-link" href="#image-optimizations">#</a></h2>
<p>Images are <a href="https://almanac.httparchive.org/en/2019/media" rel="noopener">one of the largest contributors to page
bloat</a>. Even
small optimizations go a long way. eBay did two optimizations for images.</p>
<p>First, eBay standardized on the <a href="/serve-images-webp/">WebP image format</a> for search
results across all platforms, including iOS, Android, and <a href="https://caniuse.com/#feat=webp" rel="noopener">supported browsers</a>. The search
results page is the most image-heavy page at eBay, and they were already using WebP, but not in a
consistent pattern.</p>
<figure>
  <img     alt="Screenshots of the DevTools network panel filtered to show WebP image requests from eBay.com"     class="w-screenshot"     decoding="async"     height="506"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/wxY64wQbCvgdEuI8DlUY.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    WebP images being served to supported browsers on eBay.com.
  </figcaption>
</figure>
<p>Second, though eBay's listing images are heavily optimized (in both size and format), the same rigor
did not apply for curated images (for example, the top module on the
<a href="https://www.ebay.com/" rel="noopener">homepage</a>). eBay has a lot of hand-curated images, which are uploaded
through various tools. Previously the optimizations were up to the uploader, but now eBay enforces
the rules within the tools, so all images uploaded will be optimized appropriately.</p>
<p>The &quot;cut&quot; here is the wasted image bytes sent to users.</p>
<h2 id="predictive-prefetch-of-static-assets">Predictive prefetch of static assets <a class="w-headline-link" href="#predictive-prefetch-of-static-assets">#</a></h2>
<p>A user session on eBay is not just one page. It is a flow. For example, the flow can be a navigation from the homepage to a search page to an item page. So why don't pages in the flow help each other? That is the idea of <a href="/predictive-prefetching/">predictive prefetch</a>, where one page prefetches the static assets required for the next likely page.</p>
<p>With predictive prefetch, when a user navigates to the predicted page, the assets are already in the browser cache. This is done for CSS and JavaScript assets, where the URLs can be retrieved ahead of time. One thing to note here is that it helps only on first-time navigations. On subsequent navigations, the static assets will already be in the cache.</p>
<figure>
  <img     alt="eBay is doing predictive prefetching of static assets. Home prefetches assets for Search, Search prefetches assets for Item, and so on. Machine-learning- and analytics-based prefetching is under consideration."     class="w-screenshot"     decoding="async"     height="448"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format"     srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/dcipECBEv200bO8CWkrs.png?auto=format&w=1600 1600w"          width="800"   />
</figure>
<p>The &quot;cut&quot; here is the network time for CSS and JavaScript static assets on the first navigation.</p>
<h2 id="prefetching-top-search-results">Prefetching top search results <a class="w-headline-link" href="#prefetching-top-search-results">#</a></h2>
<p>When a user searches eBay, eBay's analytics data suggests that it is highly likely that the user
will navigate to an item in the top 10 of the search results. So eBay now prefetches the
items from search and keeps them ready for when the user navigates. The prefetching happens at two levels.</p>
<p>The first level happens server-side, where the item service caches the top 10 items in search results. When the user
goes to one of those items, eBay now saves server processing time. Server-side caching is leveraged by
platform-specific apps and is rolled out globally.</p>
<p>The other level happens in the browser cache, which is available
in Australia. Item prefetch was an advanced optimization due to the dynamic nature of items. There
are also many nuances to it: page impressions, capacity, auction items, and so on. You can learn more
about it in <a href="https://www.youtube.com/watch?v=ogEhUnQdQiU&amp;t=984s" rel="noopener">LinkedIn's Performance Engineering Meetup
presentation</a>, or stay tuned for a detailed blog
post on the topic from eBay's engineers.</p>
<figure>
  <img     alt="eBay prefetches the top 5 items in search result pages for fast subsequent loads. This happens during idle time with requestIdleCallback(). This resulted in a 759ms faster median above-the-fold time, a custom metric that is similar to First Meaningful Paint. eBay saw a positive impact on conversions from prefetching."     class="w-screenshot"     decoding="async"     height="451"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format"     srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/6wW7yHAD7vMBDUDCzm2B.png?auto=format&w=1600 1600w"          width="800"   />
</figure>
<p>The &quot;cut&quot; here can either be server processing time or network time,
depending on where the item is cached.</p>
<h2 id="eager-downloading-of-search-images">Eager downloading of search images <a class="w-headline-link" href="#eager-downloading-of-search-images">#</a></h2>
<p>In the search results page, when a query is issued at a high level, two things happen. One is the recall/ranking step, where the most relevant items matching the query are returned. The second step is augmenting the recalled items with additional user-context related information such as shipping costs.
eBay now immediately sends the first 10 item images to the browser in a chunk along with the header, so the downloads can start before the rest of the markup arrives. As a result, the images will now appear quicker. This change is rolled out globally for the web platform.</p>
<p>The &quot;cut&quot; here is the download start time for search result images.</p>
<h2 id="edge-caching-for-autosuggestion-data">Edge caching for autosuggestion data <a class="w-headline-link" href="#edge-caching-for-autosuggestion-data">#</a></h2>
<p>When users type in letters in the search box, suggestions pop-up. These suggestions do not change for letter combinations for at least a day. They are ideal candidates to be cached and served from a <a href="https://en.wikipedia.org/wiki/Content_delivery_network" rel="noopener">CDN</a> (for a max of 24 hours), instead of requests going all the way to a data center. International markets especially benefit from CDN caching.</p>
<figure>
  <img     alt="A screenshot of eBay&#x27;s search box displaying autocomplete suggestions for a search query."     class="w-screenshot"     decoding="async"     height="417"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format"     srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/5HVWuq5nIvQ6aCoaltIl.png?auto=format&w=1600 1600w"          width="800"   />
</figure>
<p>There was a catch, though. eBay had some elements of personalization in the suggestions pop-up,
which can't be cached efficiently. Fortunately, it was not an issue in the platform-specific apps, as the user
interface for personalization and suggestions could be separated. For the web, in international
markets, latency was more important than the small benefit of personalization. With that out of the
way, eBay now has autosuggestions served from a CDN cache globally for platform-specific apps and non-US
markets for eBay.com.</p>
<p>The &quot;cut&quot; here is the network latency and server processing time for
autosuggestions.</p>
<h2 id="edge-caching-for-unrecognized-homepage-users">Edge caching for unrecognized homepage users <a class="w-headline-link" href="#edge-caching-for-unrecognized-homepage-users">#</a></h2>
<p>For the web platform, the homepage content for unrecognized users is the same for a particular region. These are users who are either using eBay for the first time or starting a fresh session, hence no personalization. Though the homepage creatives keep changing frequently there is still room for caching.</p>
<p>eBay decided to cache the unrecognized user content (HTML) on their edge network (<a href="https://en.wikipedia.org/wiki/Point_of_presence" rel="noopener">PoPs</a>) for a short period. First-time users can now get homepage content served from a server near them, instead of from a faraway data center. eBay is still experimenting with this in international markets, where it will have a bigger impact.</p>
<p>The &quot;cut&quot; here is again both network latency and server processing time for unrecognized users.</p>
<h2 id="optimizations-for-other-platforms">Optimizations for other platforms <a class="w-headline-link" href="#optimizations-for-other-platforms">#</a></h2>
<h3 id="iosandroid-app-parsing-improvements">iOS/Android app parsing improvements <a class="w-headline-link" href="#iosandroid-app-parsing-improvements">#</a></h3>
<p>iOS/Android apps talk to backend services whose response format is typically JSON. These JSON payloads can be large. Instead of parsing the whole JSON to render something on the screen, eBay introduced an efficient parsing algorithm that optimizes for content that needs to be displayed immediately.</p>
<p>Users can now see the content quicker. In addition, for the Android app, eBay starts initializing the search view controllers as soon as the user starts typing in the search box (iOS already had this optimization). Previously this happened only after users pressed the search button. Now users can get to their search results faster. The &quot;cut&quot; here is the time spent by devices to display relevant content.</p>
<h3 id="android-app-startup-time-improvements">Android app startup time improvements <a class="w-headline-link" href="#android-app-startup-time-improvements">#</a></h3>
<p>This applies to <a href="https://developer.android.com/topic/performance/vitals/launch-time#cold" rel="noopener">cold start</a> time optimizations for Android apps. When an app is cold started, a lot of initialization happens both at the OS level and application level. Reducing the initialization time at the application level helps users see the home screen quicker. eBay did some profiling and noticed that not all initializations are required to display content and that some can be done lazily.</p>
<p>More importantly, eBay observed that there was a blocking third-party analytics call that delayed the rendering on the screen. Removing the blocking call and making it async further helped cold start times. The &quot;cut&quot; here is the unnecessary startup time for Android apps.</p>
<h2 id="conclusions">Conclusions <a class="w-headline-link" href="#conclusions">#</a></h2>
<p>All the performance &quot;cuts&quot; eBay made collectively contributed towards moving the needle, and it happened over a period of time. The releases were phased in throughout the year, with each release shaving off tens of milliseconds, ultimately reaching the point where eBay is now:</p>
<figure>
  <img     alt="Screenshots of Chrome UX Report showing field data improvements for eBay.com."     class="w-screenshot"     decoding="async"     height="529"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/GxKfB8GHUd9cQWLb0Pkj.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption>
    The impact of eBay's speed efforts on their field metrics over time, as illustrated by the <a href="https://g.co/chromeuxdash">Chrome UX Report Dashboard</a>.
  </figcaption>
</figure>
<p>Performance is a feature and a <a href="/value-of-speed/">competitive advantage</a>. Optimized experiences lead to higher user engagement, conversions, and ROI. In eBay's case, these optimizations varied from things that were low-effort to a few that were advanced.</p>
<p>Check out <a href="https://tech.ebayinc.com/engineering/speed-by-a-thousand-cuts/" rel="noopener">Speed by a thousand cuts</a> to learn more and be on the lookout for more detailed articles by eBay engineers on their performance work in the near future.</p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/case-study/">Case Study</a>
          
        
          
        
          
            
            <a class="pill" href="/tags/performance/">Performance</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Jan 22, 2020</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/shopping-for-speed-on-ebay/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@addyosmani"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
