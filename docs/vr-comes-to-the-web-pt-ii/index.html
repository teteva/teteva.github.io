
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=b93834e99565b">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=16c92d8ade901">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Virtual reality comes to the web, part II</title>
<meta name="description" content="Virtual reality came to the web in Chrome 79. Based on the WebXR Device API, this launch is the foundation for both augmented and virtual reality. This article is the second in a series, focusing on the frame loop, the part of an XR session where images are shown to a viewer. Other browsers will soon be supporting the WebXR Device API, including Firefox Reality, Oculus Browser, Edge and Magic Leap's Helio browser, among others." />

<link rel="canonical" href="https://web.dev/vr-comes-to-the-web-pt-ii/" />

<meta itemprop="name" content="Virtual reality comes to the web, part II" />
<meta itemprop="description" content="Virtual reality came to the web in Chrome 79. Based on the WebXR Device API, this launch is the foundation for both augmented and virtual reality. This article is the second in a series, focusing on the frame loop, the part of an XR session where images are shown to a viewer. Other browsers will soon be supporting the WebXR Device API, including Firefox Reality, Oculus Browser, Edge and Magic Leap's Helio browser, among others." />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/vr-comes-to-the-web-pt-ii/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Virtual reality comes to the web, part II" />
<meta property="og:description" content="Virtual reality came to the web in Chrome 79. Based on the WebXR Device API, this launch is the foundation for both augmented and virtual reality. This article is the second in a series, focusing on the frame loop, the part of an XR session where images are shown to a viewer. Other browsers will soon be supporting the WebXR Device API, including Firefox Reality, Oculus Browser, Edge and Magic Leap's Helio browser, among others." />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A person using a virtual reality headset." />
<meta property="tag" content="augmented-reality" />
<meta property="tag" content="virtual-reality" />
<meta property="tag" content="webxr" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Virtual reality comes to the web, part II" />
<meta name="twitter:description" content="Virtual reality came to the web in Chrome 79. Based on the WebXR Device API, this launch is the foundation for both augmented and virtual reality. This article is the second in a series, focusing on the frame loop, the part of an XR session where images are shown to a viewer. Other browsers will soon be supporting the WebXR Device API, including Firefox Reality, Oculus Browser, Edge and Magic Leap's Helio browser, among others." />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=98e2f66e2771e', 'module');




  loadScript('/js/content.js?v=1e1f87206837e', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="A person using a virtual reality headset."     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/2OEKtIp4RJNtX0stioZF.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#what-this-article-is-not">What this article is not</a></li><li class="toc__listitem"><a class="toc__anchor" href="#the-players-and-the-game">The players and the game</a></li><li class="toc__listitem"><a class="toc__anchor" href="#the-players">The players</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#xrviewerpose">XRViewerPose</a></li><li class="toc__listitem"><a class="toc__anchor" href="#xrview">XRView</a></li><li class="toc__listitem"><a class="toc__anchor" href="#xrwebgllayer">XRWebGLLayer</a></li><li class="toc__listitem"><a class="toc__anchor" href="#webglframebuffer">WebGLFramebuffer</a></li><li class="toc__listitem"><a class="toc__anchor" href="#xrviewport">XRViewport</a></li><li class="toc__listitem"><a class="toc__anchor" href="#webglrenderingcontext">WebGLRenderingContext</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#the-game">The game</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#get-the-viewer's-pose">Get the viewer's pose</a></li><li class="toc__listitem"><a class="toc__anchor" href="#a-short-detour">A short detour</a></li><li class="toc__listitem"><a class="toc__anchor" href="#pass-('bind')-the-webglframebuffer">Pass ('bind') the WebGLFramebuffer</a></li><li class="toc__listitem"><a class="toc__anchor" href="#iterate-over-each-xrview-object">Iterate over each XRView object</a></li><li class="toc__listitem"><a class="toc__anchor" href="#pass-the-xrviewport-object-to-the-webglrenderingcontext">Pass the XRViewport object to the WebGLRenderingContext</a></li><li class="toc__listitem"><a class="toc__anchor" href="#draw-something-to-the-framebuffer">Draw something to the framebuffer</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="virtual-reality-comes-to-the-web-part-ii">Virtual reality comes to the web, part II</h1>
        
          <p class="color-mid-text flow-space-base">
            All about the frame loop
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Feb 13, 2020</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/joemedley/"> <img     alt="Joe Medley"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/ynJFmvKEbD9diZZsTdkD.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/ynJFmvKEbD9diZZsTdkD.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/ynJFmvKEbD9diZZsTdkD.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/ynJFmvKEbD9diZZsTdkD.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/ynJFmvKEbD9diZZsTdkD.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/ynJFmvKEbD9diZZsTdkD.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/joemedley/">Joe Medley</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/medleyjp">Twitter</a>
               <a href="https://github.com/jpmedley">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#what-this-article-is-not">What this article is not</a></li><li class="toc__listitem"><a class="toc__anchor" href="#the-players-and-the-game">The players and the game</a></li><li class="toc__listitem"><a class="toc__anchor" href="#the-players">The players</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#xrviewerpose">XRViewerPose</a></li><li class="toc__listitem"><a class="toc__anchor" href="#xrview">XRView</a></li><li class="toc__listitem"><a class="toc__anchor" href="#xrwebgllayer">XRWebGLLayer</a></li><li class="toc__listitem"><a class="toc__anchor" href="#webglframebuffer">WebGLFramebuffer</a></li><li class="toc__listitem"><a class="toc__anchor" href="#xrviewport">XRViewport</a></li><li class="toc__listitem"><a class="toc__anchor" href="#webglrenderingcontext">WebGLRenderingContext</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#the-game">The game</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#get-the-viewer's-pose">Get the viewer's pose</a></li><li class="toc__listitem"><a class="toc__anchor" href="#a-short-detour">A short detour</a></li><li class="toc__listitem"><a class="toc__anchor" href="#pass-('bind')-the-webglframebuffer">Pass ('bind') the WebGLFramebuffer</a></li><li class="toc__listitem"><a class="toc__anchor" href="#iterate-over-each-xrview-object">Iterate over each XRView object</a></li><li class="toc__listitem"><a class="toc__anchor" href="#pass-the-xrviewport-object-to-the-webglrenderingcontext">Pass the XRViewport object to the WebGLRenderingContext</a></li><li class="toc__listitem"><a class="toc__anchor" href="#draw-something-to-the-framebuffer">Draw something to the framebuffer</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li></ul></div>
    </details>
  </div>



      <p>Recently, I published <a href="/vr-comes-to-the-web/">Virtual reality comes to the
web</a>, an article that introduced basic
concepts behind the <a href="https://developer.mozilla.org/docs/Web/API/WebXR_Device_API" rel="noopener">WebXR Device
API</a>. I
also provided instructions for requesting, entering, and ending an XR session.</p>
<p>This article describes the frame loop, which is a user-agent controlled
infinite loop in which content is repeatedly drawn to the screen. Content is
drawn in discrete blocks called frames. The succession of frames creates the
illusion of movement.</p>
<h2 id="what-this-article-is-not">What this article is not <a class="w-headline-link" href="#what-this-article-is-not">#</a></h2>
<p>WebGL and WebGL2 are the only means of rendering content during a frame loop in
a WebXR App. Fortunately many frameworks provide a layer of abstraction on top
of WebGL and WebGL2. Such frameworks include <a href="https://threejs.org/" rel="noopener">three.js</a>,
<a href="https://www.babylonjs.com/" rel="noopener">babylonjs</a>, and
<a href="https://playcanvas.com/" rel="noopener">PlayCanvas</a>, while <a href="https://aframe.io/" rel="noopener">A-Frame</a> and
<a href="https://github.com/facebookarchive/react-360" rel="noopener">React 360</a> was designed for interacting
with WebXR.</p>
<p>This article is neither a WebGL nor a framework tutorial. It explains basics of
a frame loop using the Immersive Web Working Group's Immersive VR Session sample
(<a href="https://immersive-web.github.io/webxr-samples/immersive-vr-session.html" rel="noopener">demo</a>,
<a href="https://github.com/immersive-web/webxr-samples/blob/master/immersive-vr-session.html" rel="noopener">source</a>).
If you want to dive into WebGL or one of the frameworks, the internet provides a
growing list of articles.</p>
<h2 id="the-players-and-the-game">The players and the game <a class="w-headline-link" href="#the-players-and-the-game">#</a></h2>
<p>When trying to understand the frame loop, I kept getting lost in the details.
There's a lot of objects in play, and some of them are only named by reference
properties on other objects. To help you keep it straight, I'll describe the
objects, which I'm calling 'players'. Then I'll describe how they interact,
which I'm calling 'the game'.</p>
<h2 id="the-players">The players <a class="w-headline-link" href="#the-players">#</a></h2>
<h3 id="xrviewerpose">XRViewerPose <a class="w-headline-link" href="#xrviewerpose">#</a></h3>
<p>A pose is the position and orientation of something in 3D space. Both viewers
and input devices have a pose, but it's the viewer's pose we're concerned with
here. Both viewer and input device poses have a <code>transform</code> attribute describing
its position as a vector and its orientation as a quaternion relative to the
origin. The origin is specified based on the requested reference space type when
calling <code>XRSession.requestReferenceSpace()</code>.</p>
<p>Reference spaces take a bit to explain. I cover them in depth in <a href="/web-ar/">Augmented
reality</a>. The sample I'm using as the basis for this
article uses a <code>'local'</code> reference space which means the origin is at the
viewer's position at the time of session creation without a well-defined floor,
and its precise position may vary by platform.</p>
<h3 id="xrview">XRView <a class="w-headline-link" href="#xrview">#</a></h3>
<p>A view corresponds to a camera viewing the virtual scene. A view also has a
<code>transform</code> attribute describing it's position as a vector and its orientation.
These are provided both as a vector/quaternion pair and as an equivalent matrix,
you can use either representation depending on which best fits your code. Each
view corresponds to a display or a portion of a display used by a device to
present imagery to the viewer. <code>XRView</code> objects are returned in an array from
the <code>XRViewerPose</code> object. The number of views in the array varies. On mobile
devices an AR scene has one view, which may or may not cover the device screen.
Headsets typically have two views, one for each eye.</p>
<h3 id="xrwebgllayer">XRWebGLLayer <a class="w-headline-link" href="#xrwebgllayer">#</a></h3>
<p>Layers provide a source of bitmap images and descriptions of how those images
are to be rendered in the device. This description doesn't quite capture what
this player does. I've come to think of it as a middleman between a device and a
<code>WebGLRenderingContext</code>. MDN takes much the same view, stating that it 'provides
a linkage' between the two. As such, it provides access to the other players.</p>
<p>In general, WebGL objects store state information for rendering 2D and 3D
graphics.</p>
<h3 id="webglframebuffer">WebGLFramebuffer <a class="w-headline-link" href="#webglframebuffer">#</a></h3>
<p>A framebuffer provides image data to the <code>WebGLRenderingContext</code>. After
retrieving it from the <code>XRWebGLLayer</code>, you simply pass it to the current
<code>WebGLRenderingContext</code>. Other than calling <code>bindFramebuffer()</code> (more about that
later) you will never access this object directly. You will merely pass it from
the <code>XRWebGLLayer</code> to the WebGLRenderingContext.</p>
<h3 id="xrviewport">XRViewport <a class="w-headline-link" href="#xrviewport">#</a></h3>
<p>A viewport provides the coordinates and dimensions of a rectangular region in
the <code>WebGLFramebuffer</code>.</p>
<h3 id="webglrenderingcontext">WebGLRenderingContext <a class="w-headline-link" href="#webglrenderingcontext">#</a></h3>
<p>A rendering context is a programmatic access point for a canvas (the space we're
drawing on). To do this, it needs both a <code>WebGLFramebuffer</code> and an XRViewport.</p>
<p>Notice the relationship between <code>XRWebGLLayer</code> and <code>WebGLRenderingContext</code>. One
corresponds to the viewer's device and the other corresponds to the web page.
<code>WebGLFramebuffer</code> and <code>XRViewport</code> are passed from the former to the latter.</p>
<figure class="w-figure">
  <img     alt="The relationship between XRWebGLLayer and WebGLRenderingContext"          decoding="async"     height="94"          loading="lazy"     sizes="(min-width: 711px) 711px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/ZdH8cIApe8jUr7F1WNgC.png?auto=format&w=1422 1422w"          width="711"   />
  <figcaption class="w-figcaption w-figcaption--fullbleed">
    The relationship between <code>XRWebGLLayer</code> and <code>WebGLRenderingContext</code>
  </figcaption>
</figure>
<h2 id="the-game">The game <a class="w-headline-link" href="#the-game">#</a></h2>
<p>Now that we know who the players are, let's look at the game they play. It's a
game that starts over with every frame. Recall that frames are part of a <a href="/vr-comes-to-the-web/#running-a-frame-loop">frame
loop</a> that happens at
a rate that depends on the underlying hardware. For VR applications the frames
per second can be anywhere from 60 to 144. AR for Android runs at 30 frames per
second. Your code should not assume any particular frame rate.</p>
<p>The basic process for the frame loop looks like this:</p>
<ol>
  <li>Call <code>XRSession.requestAnimationFrame()</code>. In response, the user agent invokes the <code>XRFrameRequestCallback</code>, which is defined by you.</li>
  <li>Inside your callback function:
    <ol>
      <li>Call <code>XRSession.requestAnimationFrame()</code> again.</li>
      <li>Get the viewer's pose.</li>
      <li>Pass ('bind') the <code>WebGLFramebuffer</code> from the <code>XRWebGLLayer</code> to the <code>WebGLRenderingContext</code>.</li>
      <li>Iterate over each <code>XRView</code> object, retrieving its <code>XRViewport</code> from the <code>XRWebGLLayer</code> and passing it to the <code>WebGLRenderingContext</code>.</li>
      <li>Draw something to the framebuffer.</li>
    </ol>
  </li>
</ol>
<p>Because steps 1 and 2a were covered in the previous article, I'll start at step
2b.</p>
<h3 id="get-the-viewer's-pose">Get the viewer's pose <a class="w-headline-link" href="#get-the-viewer's-pose">#</a></h3>
<p>It probably goes without saying. To draw anything in AR or VR, I need to know
where the viewer is and where they're looking. The viewer's position and
orientation are provided by an <a href="https://developer.mozilla.org/docs/Web/API/XRViewerPose" rel="noopener">XRViewerPose
object</a>. I
get the viewer's pose by calling <code>XRFrame.getViewerPose()</code> on the current
animation frame. I pass it the reference space I acquired when I set up the
session. The values returned by this object are always relative to the reference
space I requested when I <a href="/vr-comes-to-the-web/#entering-a-session">entered the current
session</a>. As you may
recall, I have to pass the current reference space when requesting the pose.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">onXRFrame</span><span class="token punctuation">(</span><span class="token parameter">hrTime<span class="token punctuation">,</span> xrFrame</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrSession <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span>session<span class="token punctuation">;</span></span><br><span class="highlight-line">  xrSession<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>onXRFrame<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">let</span> xrViewerPose <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span><span class="token function">getViewerPose</span><span class="token punctuation">(</span>xrRefSpace<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">  <span class="token keyword">if</span> <span class="token punctuation">(</span>xrViewerPose<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><span class="highlight-line">    <span class="token comment">// Render based on the pose.</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
</web-copy-code><p>There's one viewer pose that represents the user's overall position, meaning
either the viewer's head or the phone camera in the case of a smartphone.
The pose tells your application where the viewer is. Actual image rendering uses
<code>XRView</code> objects, which I'll get to in a bit.</p>
<p>Before moving on, I test whether the viewer pose was returned in case the system
loses tracking or blocks the pose for privacy reasons. Tracking is the XR
device's ability to know where it and/or it's input devices are relative to the
environment. Tracking can be lost in several ways, and varies depending on the
method used for tracking. For example, if cameras on the headset or phone are
used for tracking the device may lose its ability to determine where it is in
situations with low or no light, or if the cameras are covered.</p>
<p>An example of blocking the pose for privacy reasons is if the headset is showing
a security dialog such as a permission prompt, the browser may stop providing
poses to the application while this is happening. But I&quot;ve already called
<code>XRSession.requestAnimationFrame()</code> so that if the system can recover, the frame
loop will continue. If not, the user agent will end the session and call the
<code>end</code> event handler.</p>
<h3 id="a-short-detour">A short detour <a class="w-headline-link" href="#a-short-detour">#</a></h3>
<p>The next step requires objects created during <a href="/vr-comes-to-the-web/#requesting-a-session">session
set-up</a>. Recall that
I created a canvas and instructed it to create an XR-compatible Web GL rendering
context, which I got by calling <code>canvas.getContext()</code>. All drawing is done using
the WebGL API, the WebGL2 API, or a WebGL-based framework such as Three.js. This
context was passed to the session object via <code>updateRenderState()</code>, along with a
new instance of <code>XRWebGLLayer</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">let</span> canvas <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'canvas'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// The rendering context must be based on WebGL or WebGL2</span><br><span class="token keyword">let</span> webGLRenContext <span class="token operator">=</span> canvas<span class="token punctuation">.</span><span class="token function">getContext</span><span class="token punctuation">(</span><span class="token string">'webgl'</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> xrCompatible<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>xrSession<span class="token punctuation">.</span><span class="token function">updateRenderState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    baseLayer<span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">XRWebGLLayer</span><span class="token punctuation">(</span>xrSession<span class="token punctuation">,</span> webGLRenContext<span class="token punctuation">)</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br></code></pre>
</web-copy-code><h3 id="pass-('bind')-the-webglframebuffer">Pass ('bind') the WebGLFramebuffer <a class="w-headline-link" href="#pass-('bind')-the-webglframebuffer">#</a></h3>
<p>The <code>XRWebGLLayer</code> provides a framebuffer for the <code>WebGLRenderingContext</code>
provided specifically for use with WebXR and replacing the rendering contexts
default framebuffer. This is called 'binding' in the language of WebGL.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">onXRFrame</span><span class="token punctuation">(</span><span class="token parameter">hrTime<span class="token punctuation">,</span> xrFrame</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrSession <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span>session<span class="token punctuation">;</span></span><br><span class="highlight-line">  xrSession<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>onXRFrame<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrViewerPose <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span><span class="token function">getViewerPose</span><span class="token punctuation">(</span>xrRefSpace<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>xrViewerPose<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><mark class="highlight-line highlight-line-active">    <span class="token keyword">let</span> glLayer <span class="token operator">=</span> xrSession<span class="token punctuation">.</span>renderState<span class="token punctuation">.</span>baseLayer<span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">    webGLRenContext<span class="token punctuation">.</span><span class="token function">bindFramebuffer</span><span class="token punctuation">(</span>webGLRenContext<span class="token punctuation">.</span><span class="token constant">FRAMEBUFFER</span><span class="token punctuation">,</span> glLayer<span class="token punctuation">.</span>framebuffer<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class="highlight-line">    <span class="token comment">// Iterate over the views</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
</web-copy-code><h3 id="iterate-over-each-xrview-object">Iterate over each XRView object <a class="w-headline-link" href="#iterate-over-each-xrview-object">#</a></h3>
<p>After getting the pose and binding the framebuffer, it's time to get the
viewports. The <code>XRViewerPose</code> contains an array of XRView interfaces each of
which represents a display or a portion of a display. They contain information
that's needed to render content that's correctly positioned for the device and
the viewer such as the field of view, eye offset, and other optical properties.
Since I'm drawing for two eyes, I have two views, which I loop through and draw
a separate image for each.</p>
<p>When implementing for phone-based augmented reality, I would have only one view
but I'd still use a loop. Though it may seem pointless to iterate through one
view, doing so allows you to have a single rendering path for a spectrum of
immersive experiences. This is an important difference between WebXR and other
immersive systems.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">onXRFrame</span><span class="token punctuation">(</span><span class="token parameter">hrTime<span class="token punctuation">,</span> xrFrame</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrSession <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span>session<span class="token punctuation">;</span></span><br><span class="highlight-line">  xrSession<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>onXRFrame<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrViewerPose <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span><span class="token function">getViewerPose</span><span class="token punctuation">(</span>xrRefSpace<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>xrViewerPose<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">let</span> glLayer <span class="token operator">=</span> xrSession<span class="token punctuation">.</span>renderState<span class="token punctuation">.</span>baseLayer<span class="token punctuation">;</span></span><br><span class="highlight-line">    webGLRenContext<span class="token punctuation">.</span><span class="token function">bindFramebuffer</span><span class="token punctuation">(</span>webGLRenContext<span class="token punctuation">.</span><span class="token constant">FRAMEBUFFER</span><span class="token punctuation">,</span> glLayer<span class="token punctuation">.</span>framebuffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> xrView <span class="token keyword">of</span> xrViewerPose<span class="token punctuation">.</span>views<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">      <span class="token comment">// Pass viewports to the context</span></mark><br><mark class="highlight-line highlight-line-active">    <span class="token punctuation">}</span></mark><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
</web-copy-code><h3 id="pass-the-xrviewport-object-to-the-webglrenderingcontext">Pass the XRViewport object to the WebGLRenderingContext <a class="w-headline-link" href="#pass-the-xrviewport-object-to-the-webglrenderingcontext">#</a></h3>
<p>An <code>XRView</code> object refers to what's observable on a screen. But to draw to that
view I need coordinates and dimensions that are specific to my device. As with
the framebuffer, I request them from the <code>XRWebGLLayer</code> and pass them to the
<code>WebGLRenderingContext</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="highlight-line"><span class="token keyword">function</span> <span class="token function">onXRFrame</span><span class="token punctuation">(</span><span class="token parameter">hrTime<span class="token punctuation">,</span> xrFrame</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrSession <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span>session<span class="token punctuation">;</span></span><br><span class="highlight-line">  xrSession<span class="token punctuation">.</span><span class="token function">requestAnimationFrame</span><span class="token punctuation">(</span>onXRFrame<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">let</span> xrViewerPose <span class="token operator">=</span> xrFrame<span class="token punctuation">.</span><span class="token function">getViewerPose</span><span class="token punctuation">(</span>xrRefSpace<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line">  <span class="token keyword">if</span> <span class="token punctuation">(</span>xrViewerPose<span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><span class="highlight-line">    <span class="token keyword">let</span> glLayer <span class="token operator">=</span> xrSession<span class="token punctuation">.</span>renderState<span class="token punctuation">.</span>baseLayer<span class="token punctuation">;</span></span><br><span class="highlight-line">    webGLRenContext<span class="token punctuation">.</span><span class="token function">bindFramebuffer</span><span class="token punctuation">(</span>webGLRenContext<span class="token punctuation">.</span><span class="token constant">FRAMEBUFFER</span><span class="token punctuation">,</span> glLayer<span class="token punctuation">.</span>framebuffer<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><mark class="highlight-line highlight-line-active">    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> xrView <span class="token keyword">of</span> xrViewerPose<span class="token punctuation">.</span>views<span class="token punctuation">)</span> <span class="token punctuation">{</span></mark><br><mark class="highlight-line highlight-line-active">      <span class="token keyword">let</span> viewport <span class="token operator">=</span> glLayer<span class="token punctuation">.</span><span class="token function">getViewport</span><span class="token punctuation">(</span>xrView<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><mark class="highlight-line highlight-line-active">      webGLRenContext<span class="token punctuation">.</span><span class="token function">viewport</span><span class="token punctuation">(</span>viewport<span class="token punctuation">.</span>x<span class="token punctuation">,</span> viewport<span class="token punctuation">.</span>y<span class="token punctuation">,</span> viewport<span class="token punctuation">.</span>width<span class="token punctuation">,</span> viewport<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span></mark><br><span class="highlight-line">      <span class="token comment">// Draw something to the framebuffer</span></span><br><span class="highlight-line">    <span class="token punctuation">}</span></span><br><span class="highlight-line">  <span class="token punctuation">}</span></span><br><span class="highlight-line"><span class="token punctuation">}</span></span></code></pre>
</web-copy-code><h4 id="the-webglrencontext">The webGLRenContext <a class="w-headline-link" href="#the-webglrencontext">#</a></h4>
<p>In writing this article I had a debate with a few collegues over the naming of
the <code>webGLRenContext</code> object. The sample scripts and most WebXR code simpley
calls this variable <code>gl</code>. When I was working to understand the samples, I kept
forgetting what <code>gl</code> referred to. I've called it <code>webGLRenContext</code> to remind you
while your learning that this is an instance of <code>WebGLRenderingContext</code>.</p>
<p>The reason is that using <code>gl</code> allows method names to look like their
counterparts in the OpenGL ES 2.0 API, used for creating VR in compiled
languages. This fact is obvious if you've written VR apps using OpenGL, but
confusing if you're completely new to this technology.</p>
<h3 id="draw-something-to-the-framebuffer">Draw something to the framebuffer <a class="w-headline-link" href="#draw-something-to-the-framebuffer">#</a></h3>
<p>If you're feeling really ambitious, you can use WebGL directly, but I don't
recommend that. It's much simpler to use one of the frameworks <a href="#what-this-article-is-not">listed at the
top</a>.</p>
<h2 id="conclusion">Conclusion <a class="w-headline-link" href="#conclusion">#</a></h2>
<p>This is not the end of WebXR updates or articles. You can find a <a href="https://developer.mozilla.org/docs/Web/API/WebXR_Device_API" rel="noopener">reference for
all of WebXR's interfaces and
members</a>
at MDN. For upcoming enhancements to the interfaces themselves, follow
individual features on <a href="https://www.chromestatus.com/features#WebXR" rel="noopener">Chrome
Status</a>.</p>
<p>Photo by <a href="https://unsplash.com/@jeshoots" rel="noopener">JESHOOTS.COM</a> on <a href="https://unsplash.com/" rel="noopener">Unsplash</a></p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/augmented-reality/">Augmented Reality</a>
          
        
          
            
            <a class="pill" href="/tags/virtual-reality/">Virtual Reality</a>
          
        
          
            
            <a class="pill" href="/tags/webxr/">WebXR</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Feb 13, 2020</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/vr-comes-to-the-web-pt-ii/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@medleyjp"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
