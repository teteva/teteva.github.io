
<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=fa8813385ed3b">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=461db3012feee">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Оптимизация времени ожидания до первого взаимодействия с контентом</title>
<meta name="description" content="Метрика FID (Время ожидания до первого взаимодействия с контентом) измеряет время с момента первого взаимодействия пользователя с сайтом до момента, когда браузер фактически способен ответить на это взаимодействие. Узнайте, как оптимизировать FID путем минимизации неиспользуемого JavaScript, разбиения длительных задач и улучшения готовности к взаимодействию." />

<link rel="canonical" href="https://web.dev/i18n/ru/optimize-fid/" />
<link rel="alternate" hreflang="es" href="https://web.dev/i18n/es/optimize-fid/" />
<link rel="alternate" hreflang="ja" href="https://web.dev/i18n/ja/optimize-fid/" />
<link rel="alternate" hreflang="ko" href="https://web.dev/i18n/ko/optimize-fid/" />
<link rel="alternate" hreflang="pt" href="https://web.dev/i18n/pt/optimize-fid/" />
<link rel="alternate" hreflang="ru" href="https://web.dev/i18n/ru/optimize-fid/" />
<link rel="alternate" hreflang="zh" href="https://web.dev/i18n/zh/optimize-fid/" />
<link rel="alternate" hreflang="en" href="https://web.dev/optimize-fid/" />
<meta itemprop="name" content="Оптимизация времени ожидания до первого взаимодействия с контентом" />
<meta itemprop="description" content="Метрика FID (Время ожидания до первого взаимодействия с контентом) измеряет время с момента первого взаимодействия пользователя с сайтом до момента, когда браузер фактически способен ответить на это взаимодействие. Узнайте, как оптимизировать FID путем минимизации неиспользуемого JavaScript, разбиения длительных задач и улучшения готовности к взаимодействию." />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="ru_RU" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/i18n/ru/optimize-fid/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Оптимизация времени ожидания до первого взаимодействия с контентом" />
<meta property="og:description" content="Метрика FID (Время ожидания до первого взаимодействия с контентом) измеряет время с момента первого взаимодействия пользователя с сайтом до момента, когда браузер фактически способен ответить на это взаимодействие. Узнайте, как оптимизировать FID путем минимизации неиспользуемого JavaScript, разбиения длительных задач и улучшения готовности к взаимодействию." />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="Рука, касающаяся экрана смартфона" />
<meta property="tag" content="performance" />
<meta property="tag" content="web-vitals" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Оптимизация времени ожидания до первого взаимодействия с контентом" />
<meta name="twitter:description" content="Метрика FID (Время ожидания до первого взаимодействия с контентом) измеряет время с момента первого взаимодействия пользователя с сайтом до момента, когда браузер фактически способен ответить на это взаимодействие. Узнайте, как оптимизировать FID путем минимизации неиспользуемого JavaScript, разбиения длительных задач и улучшения готовности к взаимодействию." />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=ab800e2e2be09', 'module');




  loadScript('/js/content.js?v=17b9bff448e87', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Обучение
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Измерение
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Блог
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        О сайте
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Закрыть</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="Рука, касающаяся экрана смартфона"     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/WH0KlcJXJlxvsxU9ow2i.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="Содержание">
    <div class="course-toc__heading font-google-sans weight-medium">Содержание</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#tyazheloe-vypolnenie-javascript">«Тяжелое» выполнение JavaScript</a></li><li class="toc__listitem"><a class="toc__anchor" href="#long-tasks">Разделение длительных задач</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizaciya-stranicy-dlya-gotovnosti-k-vzaimodejstviyu">Оптимизация страницы для готовности к взаимодействию</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#vypolnenie-osnovnogo-skripta-mozhet-zaderzhat-gotovnost-k-vzaimodejstviyu">Выполнение основного скрипта может задержать готовность к взаимодействию</a></li><li class="toc__listitem"><a class="toc__anchor" href="#vyborka-dannyh-mozhet-povliyat-na-mnogie-aspekty-gotovnosti-k-vzaimodejstviyu">Выборка данных может повлиять на многие аспекты готовности к взаимодействию</a></li><li class="toc__listitem"><a class="toc__anchor" href="#vypolnenie-storonnih-skriptov-takzhe-mozhet-privesti-k-zaderzhke-vzaimodejstviya">Выполнение сторонних скриптов также может привести к задержке взаимодействия</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#ispolzovanie-veb-vorkerov">Использование веб-воркеров</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#reduce-javascript-execution">Уменьшение времени выполнения JavaScript</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#instrumenty-razrabotchika">Инструменты разработчика</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="optimizaciya-vremeni-ozhidaniya-do-pervogo-vzaimodejstviya-s-kontentom">Оптимизация времени ожидания до первого взаимодействия с контентом</h1>
        
          <p class="color-mid-text flow-space-base">
            Как быстрее реагировать на взаимодействие с пользователем.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>May 5, 2020</time>
            
          </div>
        

        
        
        <div class="flow">
          <span class="w-post-signpost__title">Available in:
    <a class="w-post-signpost__link"
        translate="no"
        lang="es"
        href="/i18n/es/optimize-fid/">
      Español</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="ja"
        href="/i18n/ja/optimize-fid/">
      日本語</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="ko"
        href="/i18n/ko/optimize-fid/">
      한국어</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="pt"
        href="/i18n/pt/optimize-fid/">
      Português</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="zh"
        href="/i18n/zh/optimize-fid/">
      中文</a>, <a class="w-post-signpost__link"
        translate="no"
        lang="en"
        href="/i18n/en/optimize-fid/">
      English</a></span>
        </div>
        

        <div class="w-layout-container--narrow w-post-signpost">
  <span class="w-post-signpost__title">
    Appears in:
  </span>
  <a
          class="w-post-signpost__link"
          href="/learn-web-vitals"
          >Web Vitals</a
        >
</div>

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/houssein/"> <img     alt="Houssein Djirdeh"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/BibySYHD7JweNcHZCCOe.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/BibySYHD7JweNcHZCCOe.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/BibySYHD7JweNcHZCCOe.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/BibySYHD7JweNcHZCCOe.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/BibySYHD7JweNcHZCCOe.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/BibySYHD7JweNcHZCCOe.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/houssein/">Houssein Djirdeh</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/hdjirdeh">Twitter</a>
               <a href="https://github.com/housseindjirdeh">GitHub</a>
               <a href="https://glitch.com/@housseindjirdeh">Glitch</a>
               <a href="https://houssein.me/">Homepage</a>
             </div>
  </div>
</div>
            
              <div class="author">
  <a class="avatar" href="/authors/addyosmani/"> <img     alt="Addy Osmani"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/1L2RBhCLSnXjCnSlevaDjy3vba73/LJyNTOzyWbowv2mrlzPS.jpeg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/addyosmani/">Addy Osmani</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/addyosmani">Twitter</a>
               <a href="https://github.com/addyosmani">GitHub</a>
               
               
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="Содержание">
      <summary>
        Содержание
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#tyazheloe-vypolnenie-javascript">«Тяжелое» выполнение JavaScript</a></li><li class="toc__listitem"><a class="toc__anchor" href="#long-tasks">Разделение длительных задач</a></li><li class="toc__listitem"><a class="toc__anchor" href="#optimizaciya-stranicy-dlya-gotovnosti-k-vzaimodejstviyu">Оптимизация страницы для готовности к взаимодействию</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#vypolnenie-osnovnogo-skripta-mozhet-zaderzhat-gotovnost-k-vzaimodejstviyu">Выполнение основного скрипта может задержать готовность к взаимодействию</a></li><li class="toc__listitem"><a class="toc__anchor" href="#vyborka-dannyh-mozhet-povliyat-na-mnogie-aspekty-gotovnosti-k-vzaimodejstviyu">Выборка данных может повлиять на многие аспекты готовности к взаимодействию</a></li><li class="toc__listitem"><a class="toc__anchor" href="#vypolnenie-storonnih-skriptov-takzhe-mozhet-privesti-k-zaderzhke-vzaimodejstviya">Выполнение сторонних скриптов также может привести к задержке взаимодействия</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#ispolzovanie-veb-vorkerov">Использование веб-воркеров</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#reduce-javascript-execution">Уменьшение времени выполнения JavaScript</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#instrumenty-razrabotchika">Инструменты разработчика</a></li></ul></div>
    </details>
  </div>



      <blockquote>
  <p>Я щелкнул, но ничего не произошло! Почему я не могу взаимодействовать с этой страницей? 😢</p>
</blockquote>
<p><a href="/fcp/">FCP (Первая отрисовка контента)</a> и <a href="/lcp/">LCP (Скорость загрузки основного контента)</a>это метрики, которые измеряют время, необходимое контенту для визуального отображения (отрисовки) на странице. Время отрисовки важно, но оно не отражает <em>отзывчивость при загрузке</em>, то есть то, как быстро страница реагирует на взаимодействие с пользователем.</p>
<p><a href="/fid/">FID (Время ожидания до первого взаимодействия с контентом)</a>это <a href="/vitals/">метрика Core Web Vitals</a>, которая фиксирует первое впечатление пользователя об интерактивности и быстродействии сайта. Она измеряет время от момента, когда пользователь впервые взаимодействует со страницей, до момента, когда браузер действительно может ответить на это взаимодействие. FID<a href="/user-centric-performance-metrics/#in-the-field">полевая метрика</a>, которую нельзя смоделировать в лабораторных условиях. Для измерения задержки ответа требуется <strong>взаимодействие с реальным пользователем</strong>.</p>
  <picture>
    <source srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/eXyvkqRHQZ5iG38Axh1Z.svg" media="(min-width: 640px)">
    <img     alt="Хорошие значения fid - 2,5 секунды, низкие значения больше 4,0 секунд, и все, что находится между ними, требует улучшения"     class="w-screenshot w-screenshot--filled width-full"     decoding="async"     height="96"          loading="lazy"          src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/Se4TiXIdp8jtLJVScWed.svg"               width="384"   />
  </picture>
<p>Чтобы помочь предсказать FID в <a href="/how-to-measure-speed/#lab-data-vs-field-data">лабораторных условиях</a>, мы рекомендуем использовать метрику <a href="/tbt/">TBT (Общее время блокировки)</a>. Хотя эти метрики не идентичны, но улучшение TBT обычно приводит к улучшению FID.</p>
<p>Основная причина плохого значения FID**«тяжелое» выполнение JavaScript**. Оптимизация анализа, компиляции и выполнения JavaScript на странице напрямую снижает FID.</p>
<h2 id="tyazheloe-vypolnenie-javascript">«Тяжелое» выполнение JavaScript <a class="w-headline-link" href="#tyazheloe-vypolnenie-javascript">#</a></h2>
<p>Браузер не может реагировать на большую часть пользовательского ввода, пока он выполняет JavaScript в основном потоке. Другими словами, браузер не может реагировать на действия пользователя, пока основной поток занят. Чтобы оптимизировать выполнение JavaScript:</p>
<ul>
<li><a href="#long-tasks">разделите длительные задачи</a>;</li>
<li><a href="#optimize-interaction-readiness">оптимизируйте свою страницу, чтобы обеспечить готовность к взаимодействию</a>;</li>
<li><a href="#use-a-web-worker">используйте веб-воркер</a>;</li>
<li><a href="#reduce-javascript-execution">уменьшите время выполнения JavaScript</a>.</li>
</ul>
<h2 id="long-tasks">Разделение длительных задач <a class="w-headline-link" href="#long-tasks">#</a></h2>
<p>Если вы уже пытались уменьшить объем JavaScript-кода, загружаемого на одной странице, попробуйте разделить долго выполняющийся код на <strong>более мелкие асинхронные задачи</strong>.</p>
<p><a href="/custom-metrics/#long-tasks-api"><strong>Длительные задачи</strong></a>это периоды выполнения JavaScript, когда пользователи могут заметить, что пользовательский интерфейс не отвечает. Любой фрагмент кода, который блокирует основной поток на 50 мс или более, можно рассматривать как длительную задачу. Длительные задачипризнак потенциального раздувания JavaScript-кода (загрузка и выполнение большего количества задач, чем может потребоваться пользователю прямо сейчас). Разделение длительных задач может уменьшить задержку ввода на сайте.</p>
<figure class="w-figure">
  <img     alt="Длительные задачи в Chrome DevTools"     class="w-screenshot"     decoding="async"     height="132"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/THLKu0sOPhSghNr0XkP1.png?auto=format&w=1600 1600w"          width="800"   />
  <figcaption class="w-figcaption"> Chrome DevTools <a href="https://developers.google.com/web/updates/2020/03/devtools#long-tasks">визуализирует длительные задачи</a> на панели производительности</figcaption>
</figure>
<p>Значение FID должно заметно улучшиться при внедрении передовых практик, таких как разделение кода и разделение длительных задач. Хотя TBTэто не полевая метрика, но с ее помощью удобно отслеживать ход оптимизации метрик TTI (Время до интерактивности) и FID.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>Для получения дополнительной информации прочтите статью <a href="/long-tasks-devtools/">«Увеличивают ли длительные задачи JavaScript время до интерактивности (TTI)?»</a>.</p>
</div></aside>
<h2 id="optimizaciya-stranicy-dlya-gotovnosti-k-vzaimodejstviyu">Оптимизация страницы для готовности к взаимодействию <a class="w-headline-link" href="#optimizaciya-stranicy-dlya-gotovnosti-k-vzaimodejstviyu">#</a></h2>
<p>Существует ряд распространенных причин плохих оценок FID и TBT в веб-приложениях, которые в значительной степени зависят от JavaScript:</p>
<h3 id="vypolnenie-osnovnogo-skripta-mozhet-zaderzhat-gotovnost-k-vzaimodejstviyu">Выполнение основного скрипта может задержать готовность к взаимодействию <a class="w-headline-link" href="#vypolnenie-osnovnogo-skripta-mozhet-zaderzhat-gotovnost-k-vzaimodejstviyu">#</a></h3>
<ul>
<li>Раздутие размера JavaScript-кода, большое время выполнения и неэффективное разбиение на фрагменты могут замедлить реакцию страницы на ввод пользователя и повлиять на FID, TBT и TTI. Постепенная загрузка кода и функций поможет распределить эту работу и повысить готовность к взаимодействию.</li>
<li>Приложения с рендерингом на стороне сервера могут выглядеть так, как будто они быстро рисуют пиксели на экране, но помните о том, что из-за выполнения большого количества скриптов взаимодействие с пользователем будет заблокировано (например, во время регидратации для подключения слушателей событий). Это может занять несколько сотен миллисекунд, или даже секунд, если используется разбиение кода на основе маршрута. Подумайте о том, чтобы перенести больше логики на сторону сервера или генерировать больше статического контента на этапе сборки.</li>
</ul>
<p>Ниже приведены оценки TBT до и после оптимизации загрузки основных скриптов для приложения. После того как с критического этапа рендеринга была убрана ресурсоёмкая загрузка (и выполнение) скрипта для непервостепенного компонента, пользователи смогли гораздо быстрее взаимодействовать со страницей.</p>
<img     alt="Улучшение показателя TBT в Lighthouse после оптимизации основного скрипта"     class="w-screenshot"     decoding="async"     height="148"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format"     srcset="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/TEIbBnIAyfzIoQtvXvMk.png?auto=format&w=1600 1600w"          width="800"   />
<h3 id="vyborka-dannyh-mozhet-povliyat-na-mnogie-aspekty-gotovnosti-k-vzaimodejstviyu">Выборка данных может повлиять на многие аспекты готовности к взаимодействию <a class="w-headline-link" href="#vyborka-dannyh-mozhet-povliyat-na-mnogie-aspekty-gotovnosti-k-vzaimodejstviyu">#</a></h3>
<ul>
<li>Ожидание большого числа каскадных выборок (например, JavaScript и выборки данных для компонентов) может повлиять на задержку взаимодействия. Стремитесь свести к минимуму зависимость от каскадных выборок данных.</li>
<li>Большие локальные хранилища данных могут увеличить время синтаксического анализа HTML и повлиять на показатели отрисовки и взаимодействия. Стремитесь минимизировать объем данных, которые необходимо обрабатывать на стороне клиента.</li>
</ul>
<h3 id="vypolnenie-storonnih-skriptov-takzhe-mozhet-privesti-k-zaderzhke-vzaimodejstviya">Выполнение сторонних скриптов также может привести к задержке взаимодействия <a class="w-headline-link" href="#vypolnenie-storonnih-skriptov-takzhe-mozhet-privesti-k-zaderzhke-vzaimodejstviya">#</a></h3>
<ul>
<li>Многие сайты включают сторонние теги и средства аналитики, которые могут загружать сеть и периодически блокировать основной поток, что влияет на задержку взаимодействия. Подумайте о загрузке стороннего кода по запросу (например, не загружайте объявления в нижней части страницы, пока они не будут прокручены ближе к области просмотра).</li>
<li>В некоторых случаях сторонние скрипты могут опережать основные скрипты по приоритету и пропускной способности в главном потоке, что также замедляет скорость готовности страницы к взаимодействию. Старайтесь в первую очередь загружать то, что, по вашему мнению, представляет наибольшую ценность для пользователей.</li>
</ul>
<h2 id="ispolzovanie-veb-vorkerov">Использование веб-воркеров <a class="w-headline-link" href="#ispolzovanie-veb-vorkerov">#</a></h2>
<p>Заблокированный основной потокодна из главных причин задержки ввода. <a href="https://developer.mozilla.org/docs/Web/API/Worker" rel="noopener">Веб-воркеры</a> позволяют запускать JavaScript в фоновом потоке. Перенос операций, не связанных с пользовательским интерфейсом, в отдельный рабочий поток может сократить время блокировки основного потока и, следовательно, улучшить FID.</p>
<p>Подумайте о применении следующих библиотек, чтобы упростить использование веб-воркеров на сайте:</p>
<ul>
<li><a href="https://github.com/GoogleChromeLabs/comlink" rel="noopener">Comlink</a>: вспомогательная библиотека, которая абстрагирует <code>postMessage</code> и упрощает работу с этим API.</li>
<li><a href="https://github.com/WebReflection/workway" rel="noopener">Workway</a>: универсальный экспортер веб-воркеров.</li>
<li><a href="https://github.com/developit/workerize" rel="noopener">Workerize</a>: служит для переноса модуля в веб-воркер.</li>
</ul>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>Чтобы узнать больше о том, как веб-воркеры могут выполнять код вне основного потока, см. статью <a href="/off-main-thread/">«Использование веб-воркеров для запуска JavaScript вне основного потока браузера»</a>.</p>
</div></aside>
<h3 id="reduce-javascript-execution">Уменьшение времени выполнения JavaScript <a class="w-headline-link" href="#reduce-javascript-execution">#</a></h3>
<p>Ограничение количества JavaScript-кода на странице сокращает время, которое браузер должен тратить на выполнение этого кода. Это ускоряет реакцию браузера на любые действия пользователя.</p>
<p>Чтобы уменьшить количество JavaScript, выполняемого на странице:</p>
<ul>
<li>отложите загрузку неиспользуемого JavaScript;</li>
<li>минимизируйте неиспользуемые полифиллы.</li>
</ul>
<h4 id="otsrochka-zagruzki-neispolzuemogo-javascript">Отсрочка загрузки неиспользуемого JavaScript <a class="w-headline-link" href="#otsrochka-zagruzki-neispolzuemogo-javascript">#</a></h4>
<p>По умолчанию весь JavaScript блокирует рендеринг. Когда браузер встречает тег скрипта, который ссылается на внешний файл JavaScript, он должен приостановить свои действия и загрузить, проанализировать, скомпилировать и выполнить этот JavaScript. Поэтому вам следует загружать только тот код, который необходим для страницы или ответа на ввод пользователя.</p>
<p>На вкладке <a href="https://developers.google.com/web/tools/chrome-devtools/coverage" rel="noopener">Coverage</a> в Chrome DevTools можно узнать, сколько неиспользуемого кода JavaScript находится на вашей странице.</p>
<img     alt="Вкладка Coverage."     class="w-screenshot w-screenshot--filled"     decoding="async"     height="559"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/UNEigFiwsGu48rtXMZM4.png?auto=format&w=1600 1600w"          width="800"   />
<p>Чтобы сократить неиспользуемый JavaScript:</p>
<ul>
<li>разделите пакет на несколько частей;</li>
<li>отложите любой некритический JavaScript, включая сторонние скрипты, используя атрибут <code>async</code> или <code>defer</code>.</li>
</ul>
<p><strong>Разделение кода</strong>это концепция разделения одного большого пакета JavaScript на более мелкие фрагменты кода, которые загружаются по условию (отложенная загрузка). <a href="https://caniuse.com/#feat=es6-module-dynamic-import" rel="noopener">Большинство новых браузеров поддерживают синтаксис динамического импорта</a>, который позволяет получать модуль по запросу:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'module.js'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">module</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Do something with the module.</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>Динамический импорт JavaScript при определенных взаимодействиях с пользователем (например, при изменении маршрута или отображении модального окна) гарантирует, что код, не используемый для начальной загрузки страницы, будет извлекаться только при необходимости.</p>
<p>Кроме того, что синтаксис динамического импорта поддерживается большинством браузеров, его также можно использоваться во многих различных системах сборки.</p>
<ul>
<li>Если вы применяете <a href="https://webpack.js.org/guides/code-splitting/" rel="noopener">webpack</a>, <a href="https://medium.com/rollup/rollup-now-has-code-splitting-and-we-need-your-help-46defd901c82" rel="noopener">Rollup</a> или <a href="https://parceljs.org/code_splitting.html" rel="noopener">Parcel</a> в качестве сборщика модулей, воспользуйтесь их поддержкой динамического импорта.</li>
<li>Клиентские фреймворки, такие как <a href="https://reactjs.org/docs/code-splitting.html#reactlazy" rel="noopener">React</a>, <a href="https://angular.io/guide/lazy-loading-ngmodules" rel="noopener">Angular</a> и <a href="https://vuejs.org/v2/guide/components-dynamic-async.html#Async-Components" rel="noopener">Vue,</a> предоставляют абстракции, упрощающие отложенную загрузку на уровне компонентов.</li>
</ul>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>Ознакомьтесь со статьей <a href="/reduce-javascript-payloads-with-code-splitting/">«Сокращение полезной нагрузки JavaScript с помощью разделения кода»</a>, чтобы узнать больше о разделении кода.</p>
</div></aside>
<p>Помимо разделения кода, всегда используйте атрибуты <a href="https://javascript.info/script-async-defer" rel="noopener">async или defer</a> для скриптов, которые не нужны для критического этапа рендеринга или контента, видимого без прокрутки.</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">defer</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>…<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">async</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>…<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
</web-copy-code><p>Если нет особой причины не делать этого, все сторонние скрипты по умолчанию следует загружать с атрибутами <code>defer</code> либо <code>async</code>.</p>
<h4 id="minimizaciya-neispolzuemyh-polifillov">Минимизация неиспользуемых полифиллов <a class="w-headline-link" href="#minimizaciya-neispolzuemyh-polifillov">#</a></h4>
<p>Если вы пишете свой код с использованием современного синтаксиса JavaScript и ссылаетесь на API современных браузеров, вам потребуется транспилировать код и включить полифиллы, чтобы код работал и в старых браузерах.</p>
<p>Одна из основных проблем производительности при включении полифилов и использовании транспилированного кода на сайте заключается в том, что новые браузеры не должны загружать код, если он им не нужен. Чтобы уменьшить размер JavaScript в приложении, максимально сократите количество неиспользуемых полифиллов и ограничьте их применение средами, в которых они действительно необходимы.</p>
<p>Чтобы оптимизировать использование полифиллов на сайте:</p>
<ul>
<li>
<p>Если в качестве транспилятора вы применяете <a href="https://babeljs.io/docs/en/index.html" rel="noopener">Babel</a>, используйте модуль <a href="https://babeljs.io/docs/en/babel-preset-env" rel="noopener"><code>@babel/preset-env</code></a>, чтобы включить только полифиллы, необходимые для браузеров, на которые вы планируете настроить таргетинг. Для Babel 7.9 включите опцию <a href="https://babeljs.io/docs/en/babel-preset-env#bugfixes" rel="noopener"><code>bugfixes</code></a>, чтобы ещё больше сократить количество ненужных полифиллов.</p>
</li>
<li>
<p>Используйте шаблон module/nomodule для доставки двух отдельных пакетов (модуль <code>@babel/preset-env</code> также поддерживает эту функцию через <a href="https://babeljs.io/docs/en/babel-preset-env#targetsesmodules" rel="noopener"><code>target.esmodules</code></a>).</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>module<span class="token punctuation">"</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>modern.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">nomodule</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>legacy.js<span class="token punctuation">"</span></span> <span class="token attr-name">defer</span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></code></pre>
</web-copy-code><p>Многие новые функции ECMAScript, скомпилированные с помощью Babel, уже поддерживаются в средах, поддерживающих модули JavaScript. Таким образом, теперь проще отследить, чтобы транспилированный код применялся только для браузеров, которые действительно в нём нуждаются.</p>
</li>
</ul>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>В статье <a href="/serve-modern-code-to-modern-browsers/">«Современным браузерамсовременный код для ускорения загрузки страниц»</a> более подробно рассматривается эта тема.</p>
</div></aside>
<h2 id="instrumenty-razrabotchika">Инструменты разработчика <a class="w-headline-link" href="#instrumenty-razrabotchika">#</a></h2>
<p>Для измерения и отладки FID доступен ряд инструментов:</p>
<ul>
<li>
<p><a href="https://developers.google.com/web/tools/lighthouse" rel="noopener">Lighthouse 6.0</a> не поддерживает FID, поскольку это полевой показатель. Однако метрику <a href="/tbt/">TBT (Общее время блокировки)</a> можно использовать в качестве косвенного показателя. Оптимизация, улучшающая TBT, должна также улучшить FID в полевых условиях.</p>
  <img     alt="Lighthouse 6.0."     class="w-screenshot"     decoding="async"     height="309"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/FRM9kHWmsDv9dddGMgwu.jpg?auto=format&w=1600 1600w"          width="800"   />
</li>
<li>
<p>Отчет <a href="https://developers.google.com/web/tools/chrome-user-experience-report" rel="noopener">Chrome User Experience Report</a> предоставляет реальные значения FID, агрегированные на уровне источника.</p>
</li>
</ul>
<p><em>Выражаем благодарность Филиппу Уолтону, Кейси Баскесу, Илье Григорику и Энни Салливан за их обзоры.</em></p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/performance/">Производительность</a>
          
        
          
            
            <a class="pill" href="/tags/web-vitals/">Web Vitals</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Последнее обновление: <time>May 5, 2020</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/ru/blog/optimize-fid/index.md"
        >
          Улучшить статью
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@hdjirdeh | @addyosmani"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Поделиться</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Сообщить об ошибке
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Просмотреть исходный код
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Дополнительная информация</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Новости Chrome
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Разборы конкретных случаев
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Подкасты
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Шоу
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Соцсети</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          Все продукты
        </a>
      </li>
    </ul>
    <web-language-select current="ru"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Условия и конфиденциальность
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Правила сообщества
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
