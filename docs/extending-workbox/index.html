
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=919a5a2451aec">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=556f9d502282d">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Extending Workbox</title>
<meta name="description" content="Write your own reusable, shareable strategies and plugins. " />

<link rel="canonical" href="https://web.dev/extending-workbox/" />

<meta itemprop="name" content="Extending Workbox" />
<meta itemprop="description" content="Write your own reusable, shareable strategies and plugins. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/admin/XwmqHMJ27IY2gatiI6Ly.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/extending-workbox/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Extending Workbox" />
<meta property="og:description" content="Write your own reusable, shareable strategies and plugins. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/admin/XwmqHMJ27IY2gatiI6Ly.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="The Workbox logo." />
<meta property="tag" content="service-worker" />
<meta property="tag" content="offline" />
<meta property="tag" content="network" />
<meta property="tag" content="progressive-web-apps" />
<meta property="tag" content="performance" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Extending Workbox" />
<meta name="twitter:description" content="Write your own reusable, shareable strategies and plugins. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/admin/XwmqHMJ27IY2gatiI6Ly.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=e4dc06405346b', 'module');




  loadScript('/js/content.js?v=20dbdd22d03da', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="The Workbox logo."     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/KW5Rgyo01HyimeALdCZD.png?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#what's-workbox">What's Workbox?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#custom-strategies">Custom strategies</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#handle-simultaneous-duplicate-requests-with-dedupenetworkfirst">Handle simultaneous, duplicate requests with DedupeNetworkFirst</a></li><li class="toc__listitem"><a class="toc__anchor" href="#create-a-race-between-the-cache-and-network-with-cachenetworkrace">Create a race between the cache and network with CacheNetworkRace</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#stategyhandler:-the-recommended-approach-for-creating-custom-strategies">StategyHandler: the recommended approach for creating custom strategies</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#drop-in-support-for-routing">Drop-in support for routing</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#custom-plugins">Custom plugins</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#lifecycle-event-overview">Lifecycle event overview</a></li><li class="toc__listitem"><a class="toc__anchor" href="#lifecycle-events-example:-fallbackonerrorplugin">Lifecycle events example: FallbackOnErrorPlugin</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#custom-strategy-or-custom-plugin">Custom strategy or custom plugin?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#takeaways">Takeaways</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="extending-workbox">Extending Workbox</h1>
        
          <p class="color-mid-text flow-space-base">
            <p>Write your own reusable, shareable strategies and plugins.</p>

          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Dec 10, 2020</time>
            
          </div>
        

        
        

        <div class="w-layout-container--narrow w-post-signpost">
  <span class="w-post-signpost__title">
    Appears in:
  </span>
  <a
          class="w-post-signpost__link"
          href="/reliable"
          >Network reliability</a
        >
</div>

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/jeffposnick/"> <img     alt="Jeff Posnick"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/uskKSRCW1HyOTCjtdMdo.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/uskKSRCW1HyOTCjtdMdo.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/uskKSRCW1HyOTCjtdMdo.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/uskKSRCW1HyOTCjtdMdo.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/uskKSRCW1HyOTCjtdMdo.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/uskKSRCW1HyOTCjtdMdo.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/jeffposnick/">Jeff Posnick</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/jeffposnick">Twitter</a>
               <a href="https://github.com/jeffposnick">GitHub</a>
               <a href="https://glitch.com/@jeffposnick">Glitch</a>
               <a href="https://twitter.com/jeffposnick">Homepage</a>
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#what's-workbox">What's Workbox?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#custom-strategies">Custom strategies</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#handle-simultaneous-duplicate-requests-with-dedupenetworkfirst">Handle simultaneous, duplicate requests with DedupeNetworkFirst</a></li><li class="toc__listitem"><a class="toc__anchor" href="#create-a-race-between-the-cache-and-network-with-cachenetworkrace">Create a race between the cache and network with CacheNetworkRace</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#stategyhandler:-the-recommended-approach-for-creating-custom-strategies">StategyHandler: the recommended approach for creating custom strategies</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#drop-in-support-for-routing">Drop-in support for routing</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#custom-plugins">Custom plugins</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#lifecycle-event-overview">Lifecycle event overview</a></li><li class="toc__listitem"><a class="toc__anchor" href="#lifecycle-events-example:-fallbackonerrorplugin">Lifecycle events example: FallbackOnErrorPlugin</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#custom-strategy-or-custom-plugin">Custom strategy or custom plugin?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#takeaways">Takeaways</a></li></ul></div>
    </details>
  </div>



      <p>In this article, we're going to take a quick tour of some ways of extending
<a href="https://developers.google.com/web/tools/workbox" rel="noopener">Workbox</a>. By the end, you'll
be writing your own strategies and plugins, and hopefully sharing them with the
world.</p>
<p>If you're more of a visual person, you can watch a recording of a Chrome
Dev Summit talk covering the same material:</p>
<div class="youtube">  <lite-youtube    videoid="jR9-aDWZeSE"      >  </lite-youtube></div>
<h2 id="what's-workbox">What's Workbox? <a class="w-headline-link" href="#what's-workbox">#</a></h2>
<p>At its core, Workbox is a set of libraries to help with common service worker
caching scenarios. And when we've written about Workbox in the past, the
emphasis has been on &quot;common&quot; scenarios. For most developers, the
<a href="https://developers.google.com/web/tools/workbox/modules/workbox-strategies" rel="noopener">caching strategies</a>
that Workbox already provides will handle your caching needs.</p>
<p>The built-in strategies include
<a href="https://developers.google.com/web/tools/workbox/modules/workbox-strategies#stale-while-revalidate" rel="noopener">stale-while-revalidate</a>,
where a cached response is used to respond to a request immediately, while the
cache is also updated so that it's fresh the next time around. They also include
<a href="https://developers.google.com/web/tools/workbox/modules/workbox-strategies#network_first_network_falling_back_to_cache" rel="noopener">network-first</a>,
falling back to the cache when the network is unavailable, and a few more.</p>
<h2 id="custom-strategies">Custom strategies <a class="w-headline-link" href="#custom-strategies">#</a></h2>
<p>But what if you wanted to go beyond those common caching scenarios? Let's cover
writing your own custom caching strategies.
<a href="https://github.com/GoogleChrome/workbox/releases/tag/v6.0.0" rel="noopener">Workbox v6</a> offers
a new <a href="https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-strategies.Strategy" rel="noopener"><code>Strategy</code> base class</a> that sits in front of lower-level APIs, like
<a href="https://developer.mozilla.org/docs/Web/API/Fetch_API" rel="noopener">Fetch</a> and
<a href="https://developer.mozilla.org/docs/Web/API/CacheStorage" rel="noopener">Cache Storage</a>.
You can extend the <code>Strategy</code> base class, and then implement your own logic in
the <a href="https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-strategies.Strategy#_handle" rel="noopener"><code>_handle()</code> method</a>.</p>
<h3 id="handle-simultaneous-duplicate-requests-with-dedupenetworkfirst">Handle simultaneous, duplicate requests with DedupeNetworkFirst <a class="w-headline-link" href="#handle-simultaneous-duplicate-requests-with-dedupenetworkfirst">#</a></h3>
<p>For instance, imagine that you want to implement a strategy that can handle
multiple, simultaneous requests for the same URL by deduplicating them. A copy
of the response is then used to fulfill all of the in-flight requests, saving
bandwidth that would otherwise be wasted.</p>
<p>Here's the code you can use to implement that, by extending the <a href="https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-strategies.NetworkFirst" rel="noopener"><code>NetworkFirst</code>
strategy</a> (which itself extends the <code>Strategy</code> base):</p>
<web-copy-code><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// See https://developers.google.com/web/tools/workbox/guides/using-bundlers</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>NetworkFirst<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'workbox-strategies'</span><span class="token punctuation">;</span><br><br><span class="token keyword">class</span> <span class="token class-name">DedupeNetworkFirst</span> <span class="token keyword">extends</span> <span class="token class-name">NetworkFirst</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">options</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">super</span><span class="token punctuation">(</span>options<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token comment">// This maps inflight requests to response promises.</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>_requests <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Map</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// _handle is the standard entry point for our logic.</span><br>  <span class="token keyword">async</span> <span class="token function">_handle</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">let</span> responsePromise <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_requests<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>responsePromise<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token comment">// If there's already an inflight request, return a copy</span><br>      <span class="token comment">// of the eventual response.</span><br>      <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> responsePromise<span class="token punctuation">;</span><br>      <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span><br>      <span class="token comment">// If there isn't already an inflight request, then use</span><br>      <span class="token comment">// the _handle() method of NetworkFirst to kick one off.</span><br>      responsePromise <span class="token operator">=</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">_handle</span><span class="token punctuation">(</span>request<span class="token punctuation">,</span> handler<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>_requests<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">,</span> responsePromise<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token keyword">try</span> <span class="token punctuation">{</span><br>        <span class="token keyword">const</span> response <span class="token operator">=</span> <span class="token keyword">await</span> responsePromise<span class="token punctuation">;</span><br>        <span class="token keyword">return</span> response<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span><br>        <span class="token comment">// Make sure to clean up after a batch of inflight</span><br>        <span class="token comment">// requests are fulfilled!</span><br>        <span class="token keyword">this</span><span class="token punctuation">.</span>_requests<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>request<span class="token punctuation">.</span>url<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>This code assumes that all requests for the same URL can be
satisfied with the same response, which won't always be the case if cookies or
session state information comes into play.</p>
</div></aside>
<h3 id="create-a-race-between-the-cache-and-network-with-cachenetworkrace">Create a race between the cache and network with CacheNetworkRace <a class="w-headline-link" href="#create-a-race-between-the-cache-and-network-with-cachenetworkrace">#</a></h3>
<p>Here's another example of a custom strategy—one that's a twist on
stale-while-revalidate, where both the network and cache are checked at the same
time, with a race to see which will return a response first.</p>
<web-copy-code><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// See https://developers.google.com/web/tools/workbox/guides/using-bundlers</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>Strategy<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'workbox-strategies'</span><span class="token punctuation">;</span><br><br><span class="token comment">// Instead of extending an existing strategy,</span><br><span class="token comment">// this extends the generic Strategy base class.</span><br><span class="token keyword">class</span> <span class="token class-name">CacheNetworkRace</span> <span class="token keyword">extends</span> <span class="token class-name">Strategy</span> <span class="token punctuation">{</span><br>  <span class="token comment">// _handle is the standard entry point for our logic.</span><br>  <span class="token function">_handle</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> handler</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// handler is an instance of the StrategyHandler class,</span><br>    <span class="token comment">// and exposes helper methods for interacting with the</span><br>    <span class="token comment">// cache and network.</span><br>    <span class="token keyword">const</span> fetchDone <span class="token operator">=</span> handler<span class="token punctuation">.</span><span class="token function">fetchAndCachePut</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> matchDone <span class="token operator">=</span> handler<span class="token punctuation">.</span><span class="token function">cacheMatch</span><span class="token punctuation">(</span>request<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// The actual response generation logic relies on a "race"</span><br>    <span class="token comment">// between the network and cache promises.</span><br>    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      fetchDone<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span>resolve<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      matchDone<span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">response</span><span class="token punctuation">)</span> <span class="token operator">=></span> response <span class="token operator">&amp;&amp;</span> <span class="token function">resolve</span><span class="token punctuation">(</span>response<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>      <span class="token comment">// Promise.allSettled() is implemented in recent browsers.</span><br>      Promise<span class="token punctuation">.</span><span class="token function">allSettled</span><span class="token punctuation">(</span><span class="token punctuation">[</span>fetchDone<span class="token punctuation">,</span> matchDone<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">results</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>        <span class="token keyword">if</span> <span class="token punctuation">(</span>results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>status <span class="token operator">===</span> <span class="token string">'rejected'</span> <span class="token operator">&amp;&amp;</span><br>            <span class="token operator">!</span>results<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>          <span class="token function">reject</span><span class="token punctuation">(</span>results<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>reason<span class="token punctuation">)</span><span class="token punctuation">;</span><br>        <span class="token punctuation">}</span><br>      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h2 id="stategyhandler:-the-recommended-approach-for-creating-custom-strategies">StategyHandler: the recommended approach for creating custom strategies <a class="w-headline-link" href="#stategyhandler:-the-recommended-approach-for-creating-custom-strategies">#</a></h2>
<p>Although it's not required, it's strongly recommended that when interacting with
the network or cache, you use the instance of the <a href="https://developers.google.com/web/tools/workbox/reference-docs/latest/module-workbox-strategies.StrategyHandler" rel="noopener"><code>StrategyHandler</code> class</a> that's
passed to your <code>_handle()</code> method. It's the second parameter, called <code>handler</code>
in the example code.</p>
<p>This <code>StrategyHandler</code> instance will automatically pick up the cache name you've
configured for the strategy, and calling its methods will invoke the expected
plugin lifecycle callbacks that we'll describe soon.</p>
<p>A <code>StrategyHandler</code> instance supports the following methods:</p>
<div>
  <table>
    <thead>
      <tr>
        <th>Method</th>
        <th>Purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>fetch</code></td>
        <td>Calls <code>fetch()</code>, invokes lifecycle events.</td>
      </tr>
      <tr>
        <td><code>cachePut</code></td>
        <td>Calls <code>cache.put()</code> on the configured cache, invokes lifecycle events.</td>
      </tr>
      <tr>
        <td><code>cacheMatch</code></td>
        <td>Calls <code>cache.match()</code> on the configured cache, invokes lifecycle events.</td>
      </tr>
      <tr>
        <td><code>fetchAndCachePut</code></td>
        <td>Calls <code>fetch()</code> and then <code>cache.put()</code> on the configured cache, invokes
        lifecycle events.</td>
      </tr>
    </tbody>
  </table>
</div>
<h3 id="drop-in-support-for-routing">Drop-in support for routing <a class="w-headline-link" href="#drop-in-support-for-routing">#</a></h3>
<p>Writing a Workbox strategy class is a great way to package up response logic in
a reusable, and shareable, form. But once you've written one, how do you use it
within your larger Workbox service worker? That's the best part—you can drop any
of these strategies directly into your existing Workbox
<a href="https://developers.google.com/web/tools/workbox/guides/route-requests" rel="noopener">routing rules</a>,
just like any of the &quot;official&quot; strategies.</p>
<web-copy-code><pre class="language-javascript"><code class="language-javascript"><span class="token comment">// See https://developers.google.com/web/tools/workbox/guides/using-bundlers</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>ExpirationPlugin<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'workbox-expiration'</span><span class="token punctuation">;</span><br><span class="token keyword">import</span> <span class="token punctuation">{</span>registerRoute<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'workbox-routing'</span><span class="token punctuation">;</span><br><br><span class="token comment">// DedupeNetworkFirst can be defined inline, or imported.</span><br><br><span class="token function">registerRoute</span><span class="token punctuation">(</span><br>  <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>url<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> url<span class="token punctuation">.</span>pathname<span class="token punctuation">.</span><span class="token function">startsWith</span><span class="token punctuation">(</span><span class="token string">'/api'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  <span class="token comment">// DedupeNetworkFirst supports the standard strategy</span><br>  <span class="token comment">// configuration options, like cacheName and plugins.</span><br>  <span class="token keyword">new</span> <span class="token class-name">DedupeNetworkFirst</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>    cacheName<span class="token operator">:</span> <span class="token string">'my-cache'</span><span class="token punctuation">,</span><br>    plugins<span class="token operator">:</span> <span class="token punctuation">[</span><br>      <span class="token keyword">new</span> <span class="token class-name">ExpirationPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>    <span class="token punctuation">]</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>A properly written strategy should automatically work with all plugins as well.
This applies to the standard plugins that Workbox provides, like the one that
handles
<a href="https://developers.google.com/web/tools/workbox/modules/workbox-expiration" rel="noopener">cache expiration</a>.
But you're not limited to using the standard set of plugins! Another great way
to extend Workbox is to write your own reusable plugins.</p>
<h2 id="custom-plugins">Custom plugins <a class="w-headline-link" href="#custom-plugins">#</a></h2>
<p>Taking a step back, what is a Workbox plugin, and why would you write your own?
A plugin doesn't fundamentally change the order of network and cache operations
performed by a strategy. Instead, it allows you to add in extra code that will
be run at critical points in the lifetime of a request, like when a network
request fails, or when a cached response is about to be returned to the page.</p>
<h3 id="lifecycle-event-overview">Lifecycle event overview <a class="w-headline-link" href="#lifecycle-event-overview">#</a></h3>
<p>Here's an overview of all the events that a plugin could listen to. Technical
details about implementing callbacks for these events is in the
<a href="https://developers.google.com/web/tools/workbox/guides/using-plugins" rel="noopener">Workbox documentation</a>.</p>
<div>
  <table>
    <thead>
      <tr>
        <th>Lifecycle Event</th>
        <th>Purpose</th>
      </tr>
    </thead>
    <tbody>
      <tr>
        <td><code>cacheWillUpdate</code></td>
        <td>Change response before it's written to cache.</td>
      </tr>
      <tr>
        <td><code>cacheDidUpdate</code></td>
        <td>Do something following a cache write.</td>
      </tr>
      <tr>
        <td><code>cacheKeyWillBeUsed</code></td>
        <td>Override the cache key used for reads or writes.</td>
      </tr>
      <tr>
        <td><code>cachedResponseWillBeUsed</code></td>
        <td>Change response read from cache before it's used.</td>
      </tr>
      <tr>
        <td><code>requestWillFetch</code></td>
        <td>Change request before it's sent to the network.</td>
      </tr>
      <tr>
        <td><code>fetchDidFail</code></td>
        <td>Do something when a network request fails.</td>
      </tr>
      <tr>
        <td><code>fetchDidSucceed</code></td>
        <td>Do something when a network request succeeds.</td>
      </tr>
      <tr>
        <td><code>handlerWillStart</code></td>
        <td>Take note of when a handler starts up.</td>
      </tr>
      <tr>
        <td><code>handlerWillRespond</code></td>
        <td>Take note of when a handler is about to respond.</td>
      </tr>
      <tr>
        <td><code>handlerDidRespond</code></td>
        <td>Take note of when a handler finishes responding.</td>
      </tr>
      <tr>
        <td><code>handlerDidComplete</code></td>
        <td>Take note of when a handler has run all its code.</td>
      </tr>
      <tr>
        <td><code>handlerDidError</code></td>
        <td>Provide a fallback response if a handler throws an error.</td>
      </tr>
    </tbody>
  </table>
</div>
<p>When writing your own plugin, you'll only implement callbacks for the limited
number of events that match your purpose—there's no need to add in callbacks for
<em>all</em> of the possible events. Additionally, it's up to you whether you implement
your plugin as an
<code><a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/Object" rel="noopener">Object</a></code>
with properties that match the lifecycle event names, or as a class that exposes
methods with those names.</p>
<h3 id="lifecycle-events-example:-fallbackonerrorplugin">Lifecycle events example: FallbackOnErrorPlugin <a class="w-headline-link" href="#lifecycle-events-example:-fallbackonerrorplugin">#</a></h3>
<p>For instance, here's a custom plugin class that implements callback methods for
two events: <code>fetchDidSucceed</code>, and <code>handlerDidError</code>.</p>
<web-copy-code><pre class="language-javascript"><code class="language-javascript"><span class="token keyword">class</span> <span class="token class-name">FallbackOnErrorPlugin</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">fallbackURL</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// Pass in a URL that you know is cached.</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>fallbackURL <span class="token operator">=</span> fallbackURL<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token function">fetchDidSucceed</span><span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>response<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// If the network request returned a 2xx response,</span><br>    <span class="token comment">// just use it as-is.</span><br>    <span class="token keyword">if</span> <span class="token punctuation">(</span>response<span class="token punctuation">.</span>ok<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>      <span class="token keyword">return</span> response<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br><br>    <span class="token comment">// Otherwise, throw an error to trigger handlerDidError.</span><br>    <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">Error response (</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>response<span class="token punctuation">.</span>status<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">)</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">// Invoked whenever the strategy throws an error during handling.</span><br>  <span class="token function">handlerDidError</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token comment">// This will match the cached URL regardless of whether</span><br>    <span class="token comment">// there's any query parameters, i.e. those added</span><br>    <span class="token comment">// by Workbox precaching.</span><br>    <span class="token keyword">return</span> caches<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>fallbackURL<span class="token punctuation">,</span> <span class="token punctuation">{</span><br>      ignoreSearch<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span><br>    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>This plugin class provides a &quot;fallback&quot; whenever a strategy would otherwise
generate an error response. It can be added to any strategy class, and if
running that strategy does not result in a <code>2xx OK</code> response, it will use a
backup response from the cache instead.</p>
<h2 id="custom-strategy-or-custom-plugin">Custom strategy or custom plugin? <a class="w-headline-link" href="#custom-strategy-or-custom-plugin">#</a></h2>
<p>Now that you know more about custom strategies and plugins, you might be
wondering which one to write for a given use case.</p>
<p>A good rule of thumb is to sketch out a diagram of your desired request and
response flow, taking into account the network and cache interactions. Then,
compare that to the
<a href="https://developers.google.com/web/tools/workbox/modules/workbox-strategies" rel="noopener">diagrams</a>
of the built-in strategies. If your diagram has a set of connections then that's
fundamentally different, that's a sign that a custom strategy is the best
solution.</p>
<p>Conversely, if your diagram ends up looking mostly like a standard strategy but
with a few extra pieces of logic injected at keys points, then you should
probably write a custom plugin.</p>
<h2 id="takeaways">Takeaways <a class="w-headline-link" href="#takeaways">#</a></h2>
<p>Whichever approach to customizing Workbox you go with, I hope this article has
inspired you write your own strategies and plugins, and then release them on
<a href="https://www.npmjs.com/" rel="noopener">npm</a>, tagged with <code>workbox-strategy</code> or
<code>workbox-plugin</code>.</p>
<p>Using those tags, you can search npm for
<a href="https://www.npmjs.com/search?q=workbox-strategy" rel="noopener">strategies</a> and
<a href="https://www.npmjs.com/search?q=workbox-plugin" rel="noopener">plugins</a> that have already been
released.</p>
<p>Go out there and extend Workbox, and then share what you build!</p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/service-worker/">Service Worker</a>
          
        
          
            
            <a class="pill" href="/tags/offline/">Offline</a>
          
        
          
            
            <a class="pill" href="/tags/network/">Network</a>
          
        
          
            
            <a class="pill" href="/tags/progressive-web-apps/">Progressive Web Apps</a>
          
        
          
            
            <a class="pill" href="/tags/performance/">Performance</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Dec 10, 2020</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/extending-workbox/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@jeffposnick"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
