
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=3895575200bdb">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=cb0d73e631c3a">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>JavaScript: What is the meaning of this?</title>
<meta name="description" content="Figuring out the value of this can be tricky in JavaScript, here's how to do itâ€¦" />

<link rel="canonical" href="https://web.dev/javascript-this/" />

<meta itemprop="name" content="JavaScript: What is the meaning of this?" />
<meta itemprop="description" content="Figuring out the value of this can be tricky in JavaScript, here's how to do itâ€¦" />
<meta itemprop="image" content="https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/javascript-this/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="JavaScript: What is the meaning of this?" />
<meta property="og:description" content="Figuring out the value of this can be tricky in JavaScript, here's how to do itâ€¦" />
<meta property="og:image" content="https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="this ðŸ¤”" />
<meta property="tag" content="javascript" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="JavaScript: What is the meaning of this?" />
<meta name="twitter:description" content="Figuring out the value of this can be tricky in JavaScript, here's how to do itâ€¦" />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=b742de89b5078', 'module');




  loadScript('/js/content.js?v=9df333c379414', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="this ðŸ¤”"     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format"     srcset="https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/CZmpGM8Eo1dFe0KNhEO9SGO8Ok23/cePCOGeXNFT6WCy85gb4.png?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#arrow-functions">If the function is defined as an arrow function:</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#other-examples">Other examples</a></li><li class="toc__listitem"><a class="toc__anchor" href="#'bound'-instance-methods">'Bound' instance methods</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#new">Otherwise, if the function/class is called with new:</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#other-examples-2">Other examples</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#bound">Otherwise, if the function has a 'bound' this value:</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#other-examples-3">Other examples</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#call-apply">Otherwise, if this is set at call-time:</a></li><li class="toc__listitem"><a class="toc__anchor" href="#object-member">Otherwise, if the function is called via a parent object (parent.func()):</a></li><li class="toc__listitem"><a class="toc__anchor" href="#strict">Otherwise, if the function or parent scope is in strict mode:</a></li><li class="toc__listitem"><a class="toc__anchor" href="#otherwise">Otherwise:</a></li><li class="toc__listitem"><a class="toc__anchor" href="#phew!">Phew!</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="javascript:-what-is-the-meaning-of-this">JavaScript: What is the meaning of this?</h1>
        
          <p class="color-mid-text flow-space-base">
            Figuring out the value of <code>this</code> can be tricky in JavaScript, here's how to do itâ€¦
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Mar 8, 2021</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/jakearchibald/"> <img     alt="Jake Archibald"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/Cprm03kLbFXkxbzGLI6x.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/Cprm03kLbFXkxbzGLI6x.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/Cprm03kLbFXkxbzGLI6x.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/Cprm03kLbFXkxbzGLI6x.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/Cprm03kLbFXkxbzGLI6x.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/Cprm03kLbFXkxbzGLI6x.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/jakearchibald/">Jake Archibald</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/jaffathecake">Twitter</a>
               
               
               <a href="https://jakearchibald.com/">Homepage</a>
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#arrow-functions">If the function is defined as an arrow function:</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#other-examples">Other examples</a></li><li class="toc__listitem"><a class="toc__anchor" href="#'bound'-instance-methods">'Bound' instance methods</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#new">Otherwise, if the function/class is called with new:</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#other-examples-2">Other examples</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#bound">Otherwise, if the function has a 'bound' this value:</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#other-examples-3">Other examples</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#call-apply">Otherwise, if this is set at call-time:</a></li><li class="toc__listitem"><a class="toc__anchor" href="#object-member">Otherwise, if the function is called via a parent object (parent.func()):</a></li><li class="toc__listitem"><a class="toc__anchor" href="#strict">Otherwise, if the function or parent scope is in strict mode:</a></li><li class="toc__listitem"><a class="toc__anchor" href="#otherwise">Otherwise:</a></li><li class="toc__listitem"><a class="toc__anchor" href="#phew!">Phew!</a></li></ul></div>
    </details>
  </div>



      <p>JavaScript's <code>this</code> is the butt of many jokes, and that's because, well, it's pretty complicated.
However, I've seen developers do much-more-complicated and domain-specific things to avoid dealing
with this <code>this</code>. If you're unsure about <code>this</code>, hopefully this will help. This is my <code>this</code> guide.</p>
<p>I'm going to start with the most specific situation, and end with the least-specific. This article
is kinda like a big <code>if (â€¦) â€¦ else if () â€¦ else if (â€¦) â€¦</code>, so you can go straight to the first
section that matches the code you're looking at.</p>
<ol>
<li><a href="#arrow-functions">If the function is defined as an arrow function</a></li>
<li><a href="#new">Otherwise, if the function/class is called with <code>new</code></a></li>
<li><a href="#bound">Otherwise, if the function has a 'bound' <code>this</code> value</a></li>
<li><a href="#call-apply">Otherwise, if <code>this</code> is set at call-time</a></li>
<li><a href="#object-member">Otherwise, if the function is called via a parent object (<code>parent.func()</code>)</a></li>
<li><a href="#strict">Otherwise, if the function or parent scope is in strict mode</a></li>
<li><a href="#otherwise">Otherwise</a></li>
</ol>
<h2 id="arrow-functions">If the function is defined as an arrow function: <a class="w-headline-link" href="#arrow-functions">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">arrowFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>In this case, the value of <code>this</code> is <em>always</em> the same as <code>this</code> in the parent scope:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> outerThis <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> <span class="token function-variable function">arrowFunction</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Always logs `true`:</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> outerThis<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>Arrow functions are great because the inner value of <code>this</code> can't be changed, it's <em>always</em> the same
as the outer <code>this</code>.</p>
<h3 id="other-examples">Other examples <a class="w-headline-link" href="#other-examples">#</a></h3>
<p>With arrow functions, the value of <code>this</code> <em>can't</em> be changed with <a href="#bound"><code>bind</code></a>:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// Logs `true` - bound `this` value is ignored:</span><br><span class="token function">arrowFunction</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>With arrow functions, the value of <code>this</code> <em>can't</em> be changed with <a href="#call-apply"><code>call</code> or <code>apply</code></a>:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// Logs `true` - called `this` value is ignored:</span><br><span class="token function">arrowFunction</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true` - applied `this` value is ignored:</span><br><span class="token function">arrowFunction</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>With arrow functions, the value of <code>this</code> <em>can't</em> be changed by calling the function as a member of
another object:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>arrowFunction<span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true` - parent object is ignored:</span><br>obj<span class="token punctuation">.</span><span class="token function">arrowFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>With arrow functions, the value of <code>this</code> <em>can't</em> be changed by calling the function as a
constructor:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// TypeError: arrowFunction is not a constructor</span><br><span class="token keyword">new</span> <span class="token class-name">arrowFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="'bound'-instance-methods">'Bound' instance methods <a class="w-headline-link" href="#'bound'-instance-methods">#</a></h3>
<p>With instance methods, if you want to ensure <code>this</code> always refers to the class instance, the best
way is to use arrow functions and <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Classes/Public_class_fields" rel="noopener">class
fields</a>:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Whatever</span> <span class="token punctuation">{</span><br>  <span class="token function-variable function">someMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token comment">// Always the instance of Whatever:</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>This pattern is really useful when using instance methods as event listeners in components (such as
React components, or web components).</p>
<p>The above might feel like it's breaking the &quot;<code>this</code> will be the same as <code>this</code> in the parent scope&quot;
rule, but it starts to make sense if you think of class fields as syntactic sugar for setting things
in the constructor:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Whatever</span> <span class="token punctuation">{</span><br>  someMethod <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> outerThis <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>    <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token comment">// Always logs `true`:</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> outerThis<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// â€¦is roughly equivalent to:</span><br><br><span class="token keyword">class</span> <span class="token class-name">Whatever</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> outerThis <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">someMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token comment">// Always logs `true`:</span><br>      console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">===</span> outerThis<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>Alternative pattens involve binding an existing function in the constructor, or assigning the
function in the constructor. If you can't use class fields for some reason, assigning functions in
the constructor is a reasonable alternative:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">Whatever</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function-variable function">someMethod</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>      <span class="token comment">// â€¦</span><br>    <span class="token punctuation">}</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h2 id="new">Otherwise, if the function/class is called with <code>new</code>: <a class="w-headline-link" href="#new">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">new</span> <span class="token class-name">Whatever</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>The above will call <code>Whatever</code> (or its constructor function if it's a class) with <code>this</code> set to the
result of <code>Object.create(Whatever.prototype)</code>.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">class</span> <span class="token class-name">MyClass</span> <span class="token punctuation">{</span><br>  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><br>      <span class="token keyword">this</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">.</span>constructor<span class="token punctuation">,</span><br>    <span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Logs `true`:</span><br><span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>The same is true for older-style constructors:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><br>    <span class="token keyword">this</span><span class="token punctuation">.</span>constructor <span class="token operator">===</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">MyClass</span><span class="token punctuation">.</span>prototype<span class="token punctuation">)</span><span class="token punctuation">.</span>constructor<span class="token punctuation">,</span><br>  <span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Logs `true`:</span><br><span class="token keyword">new</span> <span class="token class-name">MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h3 id="other-examples-2">Other examples <a class="w-headline-link" href="#other-examples-2">#</a></h3>
<p>When called with <code>new</code>, the value of <code>this</code> <em>can't</em> be changed with <a href="#bound"><code>bind</code></a>:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> BoundMyClass <span class="token operator">=</span> <span class="token function">MyClass</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true` - bound `this` value is ignored:</span><br><span class="token keyword">new</span> <span class="token class-name">BoundMyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>When called with <code>new</code>, the value of <code>this</code> <em>can't</em> be changed by calling the function as a member
of another object:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>MyClass<span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true` - parent object is ignored:</span><br><span class="token keyword">new</span> <span class="token class-name">obj<span class="token punctuation">.</span>MyClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="bound">Otherwise, if the function has a 'bound' <code>this</code> value: <a class="w-headline-link" href="#bound">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> boundObject <span class="token operator">=</span> <span class="token punctuation">{</span>hello<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> boundFunction <span class="token operator">=</span> <span class="token function">someFunction</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>boundObject<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>Whenever <code>boundFunction</code> is called, its <code>this</code> value will be the object passed to <code>bind</code>
(<code>boundObject</code>).</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// Logs `false`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> boundObject<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">boundFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> boundObject<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><aside class="aside flow bg-state-warn-bg color-core-text">
<p class="cluster ">
<span class="aside__icon box-block color-state-warn-text"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" role="img" aria-label="Warning sign" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M23 21L12 2 1 21h22zm-12-3v-2h2v2h-2zm0-4h2v-4h-2v4z" />
</svg></span>
<strong>Warning</strong></p>
<div class=" flow">
<p>Avoid using <code>bind</code> to bind a function to its outer <code>this</code>. Instead, use <a href="#arrow-functions">arrow
functions</a>, as they make <code>this</code> clear from the function declaration, rather than
something that happens later in the code.</p>
<p>Don't use <code>bind</code> to set <code>this</code> to some value unrelated to the parent object; it's usually unexpected
and it's why <code>this</code> gets such a bad reputation. Consider passing the value as an argument instead;
it's more explicit, and works with arrow functions.</p>
</div></aside>
<h3 id="other-examples-3">Other examples <a class="w-headline-link" href="#other-examples-3">#</a></h3>
<p>When calling a bound function, the value of <code>this</code> <em>can't</em> be changed with <a href="#call-apply"><code>call</code> or
<code>apply</code></a>:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token comment">// Logs `true` - called `this` value is ignored:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">boundFunction</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">===</span> boundObject<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true` - applied `this` value is ignored:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">boundFunction</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">{</span>foo<span class="token operator">:</span> <span class="token string">'bar'</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">===</span> boundObject<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>When calling a bound function, the value of <code>this</code> <em>can't</em> be changed by calling the function as a
member of another object:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span>boundFunction<span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true` - parent object is ignored:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">boundFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> boundObject<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><h2 id="call-apply">Otherwise, if <code>this</code> is set at call-time: <a class="w-headline-link" href="#call-apply">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token keyword">const</span> someObject <span class="token operator">=</span> <span class="token punctuation">{</span>hello<span class="token operator">:</span> <span class="token string">'world'</span><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">someFunction</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>someObject<span class="token punctuation">)</span> <span class="token operator">===</span> someObject<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">someFunction</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>someObject<span class="token punctuation">)</span> <span class="token operator">===</span> someObject<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>The value of <code>this</code> is the object passed to <code>call</code>/<code>apply</code>.</p>
<aside class="aside flow bg-state-warn-bg color-core-text">
<p class="cluster ">
<span class="aside__icon box-block color-state-warn-text"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" role="img" aria-label="Warning sign" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M23 21L12 2 1 21h22zm-12-3v-2h2v2h-2zm0-4h2v-4h-2v4z" />
</svg></span>
<strong>Warning</strong></p>
<div class=" flow">
<p>Don't use <code>call</code>/<code>apply</code> to set <code>this</code> to some value unrelated to the parent
object; it's usually unexpected and it's why <code>this</code> gets such a bad reputation. Consider passing the
value as an argument instead; it's more explicit, and works with arrow functions.</p>
</div></aside>
<p>Unfortunately <code>this</code> is set to some other value by things like DOM event listeners, and using it can
result in difficult-to-understand code:</p>
<figure class="compare flow" data-type="worse"><p class="compare__label">Don't</p>
<web-copy-code><pre class="language-js"><code class="language-js">element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Logs `element`, since the DOM spec sets `this` to</span><br>  <span class="token comment">// the element the handler is attached to.</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code></figure>
<p>I avoid using <code>this</code> in cases like above, and instead:</p>
<figure class="compare flow" data-type="better"><p class="compare__label">Do</p>
<web-copy-code><pre class="language-js"><code class="language-js">element<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter">event</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token comment">// Ideally, grab it from a parent scope:</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>element<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token comment">// But if you can't do that, get it from the event object:</span><br>  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>event<span class="token punctuation">.</span>currentTarget<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code></figure>
<h2 id="object-member">Otherwise, if the function is called via a parent object (<code>parent.func()</code>): <a class="w-headline-link" href="#object-member">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> obj <span class="token operator">=</span> <span class="token punctuation">{</span><br>  <span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">;</span><br><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>In this case the function is called as a member of <code>obj</code>, so <code>this</code> will be <code>obj</code>. This happens at
call-time, so the link is broken if the function is called without its parent object, or with a
different parent object:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token punctuation">{</span>someMethod<span class="token punctuation">}</span> <span class="token operator">=</span> obj<span class="token punctuation">;</span><br><span class="token comment">// Logs `false`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> anotherObj <span class="token operator">=</span> <span class="token punctuation">{</span>someMethod<span class="token punctuation">}</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `false`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anotherObj<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>anotherObj<span class="token punctuation">.</span><span class="token function">someMethod</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> anotherObj<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p><code>someMethod() === obj</code> is false because <code>someMethod</code> <em>isn't</em> called as a member of <code>obj</code>. You might
have encountered this gotcha when trying something like this:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> $ <span class="token operator">=</span> document<span class="token punctuation">.</span>querySelector<span class="token punctuation">;</span><br><span class="token comment">// TypeError: Illegal invocation</span><br><span class="token keyword">const</span> el <span class="token operator">=</span> <span class="token function">$</span><span class="token punctuation">(</span><span class="token string">'.some-element'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>This breaks because the implementation of <code>querySelector</code> looks at its own <code>this</code> value and expects
it to be a DOM node of sorts, and the above breaks that connection. To achieve the above correctly:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> $ <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span>document<span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token comment">// Or:</span><br><span class="token keyword">const</span> <span class="token function-variable function">$</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token operator">=></span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token operator">...</span>args<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>Fun fact: Not all APIs use <code>this</code> internally. Console methods like <code>console.log</code> were changed to
avoid <code>this</code> references, so <code>log</code> doesn't need to be bound to <code>console</code>.</p>
<aside class="aside flow bg-state-warn-bg color-core-text">
<p class="cluster ">
<span class="aside__icon box-block color-state-warn-text"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" role="img" aria-label="Warning sign" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M23 21L12 2 1 21h22zm-12-3v-2h2v2h-2zm0-4h2v-4h-2v4z" />
</svg></span>
<strong>Warning</strong></p>
<div class=" flow">
<p>Don't transplant a function onto an object just to set <code>this</code> to some value
unrelated to the parent object; it's usually unexpected and it's why <code>this</code> gets such a bad
reputation. Consider passing the value as an argument instead; it's more explicit, and works with
arrow functions.</p>
</div></aside>
<h2 id="strict">Otherwise, if the function or parent scope is in strict mode: <a class="w-headline-link" href="#strict">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token string">'use strict'</span><span class="token punctuation">;</span><br>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>In this case, the value of <code>this</code> is undefined. <code>'use strict'</code> isn't needed in the function if the
parent scope is in <a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Strict_mode" rel="noopener">strict
mode</a> (and all
modules are in strict mode).</p>
<aside class="aside flow bg-state-warn-bg color-core-text">
<p class="cluster ">
<span class="aside__icon box-block color-state-warn-text"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" role="img" aria-label="Warning sign" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M23 21L12 2 1 21h22zm-12-3v-2h2v2h-2zm0-4h2v-4h-2v4z" />
</svg></span>
<strong>Warning</strong></p>
<div class=" flow">
<p>Don't rely on this. I mean, there are easier ways to get an <code>undefined</code> value ðŸ˜€.</p>
</div></aside>
<h2 id="otherwise">Otherwise: <a class="w-headline-link" href="#otherwise">#</a></h2>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">function</span> <span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span><br><span class="token punctuation">}</span><br><br><span class="token comment">// Logs `true`:</span><br>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token function">someFunction</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> globalThis<span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre>
</web-copy-code><p>In this case, the value of <code>this</code> is the same as <code>globalThis</code>.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>Most folks (including me) call <code>globalThis</code> the global object, but this isn't 100%
technically correct. Here's <a href="https://mathiasbynens.be/notes/globalthis#terminology" rel="noopener">Mathias Bynens with the
details</a>, including why it's called
<code>globalThis</code> rather than simply <code>global</code>.</p>
</div></aside>
<aside class="aside flow bg-state-warn-bg color-core-text">
<p class="cluster ">
<span class="aside__icon box-block color-state-warn-text"><svg width="24" height="24" viewBox="0 0 24 24" fill="currentColor" role="img" aria-label="Warning sign" xmlns="http://www.w3.org/2000/svg">
  <path fill-rule="evenodd" clip-rule="evenodd" d="M23 21L12 2 1 21h22zm-12-3v-2h2v2h-2zm0-4h2v-4h-2v4z" />
</svg></span>
<strong>Warning</strong></p>
<div class=" flow">
<p>Avoid using <code>this</code> to reference the global object (yes, I'm still calling it
that). Instead, use
<a href="https://developer.mozilla.org/docs/Web/JavaScript/Reference/Global_Objects/globalThis" rel="noopener"><code>globalThis</code></a>,
which is much more explicit.</p>
</div></aside>
<h2 id="phew!">Phew! <a class="w-headline-link" href="#phew!">#</a></h2>
<p>And that's it! That's everything I know about <code>this</code>. Any questions? Something I've missed? Feel
free to <a href="https://twitter.com/jaffathecake" rel="noopener">tweet at me</a>.</p>
<p>Thanks to <a href="https://twitter.com/mathias" rel="noopener">Mathias Bynens</a>, <a href="https://twitter.com/RReverser" rel="noopener">Ingvar
Stepanyan</a>, and <a href="https://twitter.com/tomayac" rel="noopener">Thomas Steiner</a> for
reviewing.</p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/javascript/">JavaScript</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Mar 8, 2021</time>
          
        </span>
        â€”
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/javascript-this/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@jaffathecake"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
