
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=4476ce71dd393">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=79c2ad26f90f8">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Building a 3D game menu component</title>
<meta name="description" content="A foundational overview of how to build a responsive, adaptive, and accessible 3D game menu." />

<link rel="canonical" href="https://web.dev/building-a-3d-game-menu-component/" />

<meta itemprop="name" content="Building a 3D game menu component" />
<meta itemprop="description" content="A foundational overview of how to build a responsive, adaptive, and accessible 3D game menu." />
<meta itemprop="image" content="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/1yLFCkKYvDtrJSepc7A0.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/building-a-3d-game-menu-component/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Building a 3D game menu component" />
<meta property="og:description" content="A foundational overview of how to build a responsive, adaptive, and accessible 3D game menu." />
<meta property="og:image" content="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/1yLFCkKYvDtrJSepc7A0.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="A screenshot of the vibrant 3D game menu component, rotated in space, with the continue button focused which demonstrates the z-space effect." />
<meta property="tag" content="css" />
<meta property="tag" content="dom" />
<meta property="tag" content="javascript" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Building a 3D game menu component" />
<meta name="twitter:description" content="A foundational overview of how to build a responsive, adaptive, and accessible 3D game menu." />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/1yLFCkKYvDtrJSepc7A0.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=e52117b12ad44', 'module');




  loadScript('/js/content.js?v=97cacc1652719', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="A screenshot of the vibrant 3D game menu component, rotated in space, with the continue button focused which demonstrates the z-space effect."     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format"     srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/IjOV7KRfEzEj7I1ZVJA5.png?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#overview">Overview</a></li><li class="toc__listitem"><a class="toc__anchor" href="#html">HTML</a></li><li class="toc__listitem"><a class="toc__anchor" href="#css">CSS</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#overview-of-custom-properties">Overview of custom properties</a></li><li class="toc__listitem"><a class="toc__anchor" href="#light-and-dark-theme-background-conic-backgrounds">Light and dark theme background conic backgrounds</a></li><li class="toc__listitem"><a class="toc__anchor" href="#enabling-3d-perspective">Enabling 3D perspective</a></li><li class="toc__listitem"><a class="toc__anchor" href="#styling-the-lessulgreater-button-list">Styling the &lt;ul&gt; button list</a></li><li class="toc__listitem"><a class="toc__anchor" href="#styling-the-lessligreater-elements">Styling the &lt;li&gt; elements</a></li><li class="toc__listitem"><a class="toc__anchor" href="#styling-the-lessbuttongreater-elements">Styling the &lt;button&gt; elements</a></li><li class="toc__listitem"><a class="toc__anchor" href="#small-enhancements-with-javascript">Small enhancements with JavaScript</a></li><li class="toc__listitem"><a class="toc__anchor" href="#mouse-parallax-interaction">Mouse parallax interaction</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#translations-and-directions">Translations and directions</a></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li><li class="toc__listitem"><a class="toc__anchor" href="#community-remixes">Community remixes</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="building-a-3d-game-menu-component">Building a 3D game menu component</h1>
        
          <p class="color-mid-text flow-space-base">
            A foundational overview of how to build a responsive, adaptive, and accessible 3D game menu.
          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>Nov 10, 2021</time>
            
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/adamargyle/"> <img     alt="Adam Argyle"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/jdQIxAJrGuFOtwmuDfIn.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/adamargyle/">Adam Argyle</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/argyleink">Twitter</a>
               <a href="https://github.com/argyleink">GitHub</a>
               <a href="https://glitch.com/@argyleink">Glitch</a>
               <a href="https://nerdy.dev">Homepage</a>
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#overview">Overview</a></li><li class="toc__listitem"><a class="toc__anchor" href="#html">HTML</a></li><li class="toc__listitem"><a class="toc__anchor" href="#css">CSS</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#overview-of-custom-properties">Overview of custom properties</a></li><li class="toc__listitem"><a class="toc__anchor" href="#light-and-dark-theme-background-conic-backgrounds">Light and dark theme background conic backgrounds</a></li><li class="toc__listitem"><a class="toc__anchor" href="#enabling-3d-perspective">Enabling 3D perspective</a></li><li class="toc__listitem"><a class="toc__anchor" href="#styling-the-lessulgreater-button-list">Styling the &lt;ul&gt; button list</a></li><li class="toc__listitem"><a class="toc__anchor" href="#styling-the-lessligreater-elements">Styling the &lt;li&gt; elements</a></li><li class="toc__listitem"><a class="toc__anchor" href="#styling-the-lessbuttongreater-elements">Styling the &lt;button&gt; elements</a></li><li class="toc__listitem"><a class="toc__anchor" href="#small-enhancements-with-javascript">Small enhancements with JavaScript</a></li><li class="toc__listitem"><a class="toc__anchor" href="#mouse-parallax-interaction">Mouse parallax interaction</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#translations-and-directions">Translations and directions</a></li><li class="toc__listitem"><a class="toc__anchor" href="#conclusion">Conclusion</a></li><li class="toc__listitem"><a class="toc__anchor" href="#community-remixes">Community remixes</a></li></ul></div>
    </details>
  </div>



      <p>In this post I want to share thinking on a way to build a 3D game menu component. Try the
<a href="https://gui-challenges.web.app/game-menu/dist/" rel="noopener">demo</a>.</p>
<figure class="w-figure w-figure--fullbleed">
  <video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/q9gIXMmP2CcfutwyaK5F.mp4" type="video/mp4" />    </video>
  <figcaption class="w-figure">
    <a href="https://gui-challenges.web.app/game-menu/dist/">Demo</a>
  </figcaption>
</figure>
<p>If you prefer video, here's a YouTube version of this post:</p>
<div class="youtube">  <lite-youtube    videoid="HCsV8u-KYUw"      >  </lite-youtube></div>
<h2 id="overview">Overview <a class="w-headline-link" href="#overview">#</a></h2>
<p>Video games often present users with a creative and unusual menu, animated
and in 3D space. It's popular in new AR/VR games to make the menu appear to be
floating in space. Today we'll be recreating the essentials of this effect but
with the added flair of an adaptive color scheme and accommodations for users
who prefer reduced motion.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>This guide uses experimental CSS
<a href="https://www.w3.org/TR/mediaqueries-5/#custom-mq" rel="noopener">@custom-media</a> and
<a href="https://www.w3.org/TR/css-nesting-1/" rel="noopener">@nest</a> to prevent repeating media queries
and to colocate media queries within component style blocks. The syntax proposed
in those specs is enabled with PostCSS and these two plugins:
<a href="https://github.com/postcss/postcss-custom-media" rel="noopener">postcss-custom-media</a> and
<a href="https://github.com/csstools/postcss-nesting" rel="noopener">postcss-nesting</a>.</p>
</div></aside>
<h2 id="html">HTML <a class="w-headline-link" href="#html">#</a></h2>
<p>A game menu is a list of buttons. The best way to represent this in HTML is as
follows:</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>threeD-button-set<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>New Game<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Continue<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Online<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Settings<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">></span></span>Quit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">></span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">></span></span><br><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">></span></span></code></pre>
</web-copy-code><p>A list of buttons will announce itself well to screen reader technologies and
works without JavaScript or CSS.</p>
<img     alt="a very generic looking bullet list with regular buttons as items."          decoding="async"     height="437"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format"     srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/jYu9ioALV3d9jalDWSY1.png?auto=format&w=1600 1600w"          width="800"   />
<h2 id="css">CSS <a class="w-headline-link" href="#css">#</a></h2>
<p>Styling the button list breaks down into the following high level steps:</p>
<ol>
<li>Setting up custom properties.</li>
<li>A flexbox layout.</li>
<li>A custom button with decorative pseudo-elements.</li>
<li>Placing elements into 3D space.</li>
</ol>
<h3 id="overview-of-custom-properties">Overview of custom properties <a class="w-headline-link" href="#overview-of-custom-properties">#</a></h3>
<p>Custom properties help disambiguate values by giving meaningful
names to otherwise random-looking values, avoiding repeated code and sharing
values amongst children.</p>
<p>Below are media queries saved as CSS variables, also known as <a href="https://www.w3.org/TR/mediaqueries-5/#custom-mq" rel="noopener">custom
media</a>. These are global and
will be used throughout various selectors to keep code concise and legible. The
game menu component uses <a href="https://developer.mozilla.org/docs/Web/CSS/@media/prefers-reduced-motion" rel="noopener">motion
preferences</a>,
system <a href="https://developer.mozilla.org/docs/Web/CSS/@media/prefers-color-scheme" rel="noopener">color
scheme</a>,
and <a href="https://www.w3.org/TR/mediaqueries-5/#dynamic-range" rel="noopener">color range
capabilities</a> of the
display.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@custom-media</span> --motionOK <span class="token punctuation">(</span><span class="token property">prefers-reduced-motion</span><span class="token punctuation">:</span> no-preference<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="token atrule"><span class="token rule">@custom-media</span> --dark <span class="token punctuation">(</span><span class="token property">prefers-color-scheme</span><span class="token punctuation">:</span> dark<span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="token atrule"><span class="token rule">@custom-media</span> --HDcolor <span class="token punctuation">(</span><span class="token property">dynamic-range</span><span class="token punctuation">:</span> high<span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
</web-copy-code><p>The following custom properties manage the color scheme and hold mouse
positional values for making the game menu interactive to hover. Naming custom
properties helps code legibility as it reveals the use case for the value or a
friendly name for the result of the value.</p>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>The following variable naming convention uses strategies described in
<a href="https://lea.verou.me/2021/10/custom-properties-with-defaults/" rel="noopener">this post</a> by
<a href="https://twitter.com/LeaVerou" rel="noopener">Lea Verou</a>.</p>
</div></aside>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set</span> <span class="token punctuation">{</span><br>  <span class="token property">--y</span><span class="token punctuation">:</span><span class="token punctuation">;</span><br>  <span class="token property">--x</span><span class="token punctuation">:</span><span class="token punctuation">;</span><br>  <span class="token property">--distance</span><span class="token punctuation">:</span> 1px<span class="token punctuation">;</span><br>  <span class="token property">--theme</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>180 100% 50%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--theme-bg</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>180 100% 50% / 25%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--theme-bg-hover</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>180 100% 50% / 40%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--theme-text</span><span class="token punctuation">:</span> white<span class="token punctuation">;</span><br>  <span class="token property">--theme-shadow</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>180 100% 10% / 25%<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token property">--_max-rotateY</span><span class="token punctuation">:</span> 10deg<span class="token punctuation">;</span><br>  <span class="token property">--_max-rotateX</span><span class="token punctuation">:</span> 15deg<span class="token punctuation">;</span><br>  <span class="token property">--_btn-bg</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--theme-bg<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--_btn-bg-hover</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--theme-bg-hover<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--_btn-text</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--theme-text<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--_btn-text-shadow</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--theme-shadow<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">--_bounce-ease</span><span class="token punctuation">:</span> <span class="token function">cubic-bezier</span><span class="token punctuation">(</span>.5<span class="token punctuation">,</span> 1.75<span class="token punctuation">,</span> .75<span class="token punctuation">,</span> 1.25<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token property">--theme</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>255 53% 50%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token property">--theme-bg</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>255 53% 71% / 25%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token property">--theme-bg-hover</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>255 53% 50% / 40%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token property">--theme-shadow</span><span class="token punctuation">:</span> <span class="token function">hsl</span><span class="token punctuation">(</span>255 53% 10% / 25%<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--HDcolor<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token atrule"><span class="token rule">@supports</span> <span class="token punctuation">(</span><span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>display-p3 0 0 0<span class="token punctuation">)</span><span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>      <span class="token property">--theme</span><span class="token punctuation">:</span> <span class="token function">color</span><span class="token punctuation">(</span>display-p3 .4 0 .9<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h3 id="light-and-dark-theme-background-conic-backgrounds">Light and dark theme background conic backgrounds <a class="w-headline-link" href="#light-and-dark-theme-background-conic-backgrounds">#</a></h3>
<p>The light theme has a vibrant <code>cyan</code> to <code>deeppink</code> <a href="https://developer.mozilla.org/docs/Web/CSS/gradient/conic-gradient()" rel="noopener">conic
gradient</a>
while the dark theme has a dark subtle conic gradient. To see more about what
can be done with conic gradients, see <a href="https://www.conic.style/" rel="noopener">conic.style</a>.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">html</span> <span class="token punctuation">{</span><br>  <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">conic-gradient</span><span class="token punctuation">(</span>at -10% 50%<span class="token punctuation">,</span> deeppink<span class="token punctuation">,</span> cyan<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token property">background</span><span class="token punctuation">:</span> <span class="token function">conic-gradient</span><span class="token punctuation">(</span>at -10% 50%<span class="token punctuation">,</span> #212529<span class="token punctuation">,</span> 50%<span class="token punctuation">,</span> #495057<span class="token punctuation">,</span> #212529<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><figure class="w-figure w-figure--fullbleed">
  <video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/7k1iwE7OaEKSpq4rDCBw.mp4" type="video/mp4" />    </video>
  <figcaption class="w-figure">
    Demonstration of background changing between light and dark color preferences.
  </figcaption>
</figure>
<h3 id="enabling-3d-perspective">Enabling 3D perspective <a class="w-headline-link" href="#enabling-3d-perspective">#</a></h3>
<p>For elements to exist in the 3D space of a web page, a viewport with
<a href="https://developer.mozilla.org/docs/Web/CSS/perspective" rel="noopener">perspective</a>
needs to be initialized. I chose to put the perspective on the <code>body</code> element
and used viewport units to create the style I liked.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">body</span> <span class="token punctuation">{</span><br>  <span class="token property">perspective</span><span class="token punctuation">:</span> 40vw<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>This is the type of impact perspective can have.</p>
<p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/qDDlbrxpp7vNBkwv5gI7.mp4" type="video/mp4" />    </video></p>
<h3 id="styling-the-lessulgreater-button-list">Styling the <code>&lt;ul&gt;</code> button list <a class="w-headline-link" href="#styling-the-lessulgreater-button-list">#</a></h3>
<p>This element is responsible for the overall button list macro layout as well as
being an interactive and 3D floating card. Here's a way to achieve that.</p>
<h4 id="button-group-layout">Button group layout <a class="w-headline-link" href="#button-group-layout">#</a></h4>
<p>Flexbox can manage the container layout. Change the default direction of flex
from rows to columns with <code>flex-direction</code> and ensure each item is the size of
its contents by changing from <code>stretch</code> to <code>start</code> for <code>align-items</code>.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* remove &lt;ul> margins */</span><br>  <span class="token property">margin</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br><br>  <span class="token comment">/* vertical rag-right layout */</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> flex<span class="token punctuation">;</span><br>  <span class="token property">flex-direction</span><span class="token punctuation">:</span> column<span class="token punctuation">;</span><br>  <span class="token property">align-items</span><span class="token punctuation">:</span> flex-start<span class="token punctuation">;</span><br>  <span class="token property">gap</span><span class="token punctuation">:</span> 2.5vh<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/Y63ZFy5AEA4VS4yVirgv.mp4" type="video/mp4" />    </video></p>
<p>Next, establish the container as a 3D space context and set up CSS <code>clamp()</code>
functions to ensure the card doesn't rotate beyond legible rotations. Notice
that the middle value for the clamp is a custom property, these <code>--x</code> and <code>--y</code>
values will be <a href="#mouse-parallax-interaction">set from JavaScript</a> upon mouse
interaction later.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set</span> <span class="token punctuation">{</span><br>  …<br><br>  <span class="token comment">/* create 3D space context */</span><br>  <span class="token property">transform-style</span><span class="token punctuation">:</span> preserve-3d<span class="token punctuation">;</span><br><br>  <span class="token comment">/* clamped menu rotation to not be too extreme */</span><br>  <span class="token property">transform</span><span class="token punctuation">:</span><br>    <span class="token function">rotateY</span><span class="token punctuation">(</span><br>      <span class="token function">clamp</span><span class="token punctuation">(</span><br>        <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--_max-rotateY<span class="token punctuation">)</span> * -1<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">var</span><span class="token punctuation">(</span>--y<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">var</span><span class="token punctuation">(</span>--_max-rotateY<span class="token punctuation">)</span><br>      <span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><br>    <span class="token function">rotateX</span><span class="token punctuation">(</span><br>      <span class="token function">clamp</span><span class="token punctuation">(</span><br>        <span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--_max-rotateX<span class="token punctuation">)</span> * -1<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">var</span><span class="token punctuation">(</span>--x<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        <span class="token function">var</span><span class="token punctuation">(</span>--_max-rotateX<span class="token punctuation">)</span><br>      <span class="token punctuation">)</span><br>    <span class="token punctuation">)</span><br>  <span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>Next, if motion is OK with the visiting user, add a hint to the browser that
this item's transform will be constantly changing with
<a href="https://developer.mozilla.org/docs/Web/CSS/will-change" rel="noopener"><code>will-change</code></a>.
Additionally, enable interpolation by setting a <code>transition</code> on transforms. This
transition will occur when the mouse interacts with the card, enabling smooth
transitions to rotation changes. The animation is a constant running animation
that demonstrates the 3D space the card is within, even if a mouse can't or
isn't interacting with the component.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--motionOK<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>  <span class="token selector">.threeD-button-set</span> <span class="token punctuation">{</span><br>    <span class="token comment">/* browser hint so it can be prepared and optimized */</span><br>    <span class="token property">will-change</span><span class="token punctuation">:</span> transform<span class="token punctuation">;</span><br><br>    <span class="token comment">/* transition transform style changes and run an infinite animation */</span><br>    <span class="token property">transition</span><span class="token punctuation">:</span> transform .1s ease<span class="token punctuation">;</span><br>    <span class="token property">animation</span><span class="token punctuation">:</span> rotate-y 5s ease-in-out infinite<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>The <code>rotate-y</code> animation only sets the middle keyframe at <code>50%</code> since the
browser will default <code>0%</code> and <code>100%</code> to the default style of the element. This
is shorthand for animations that alternate, needing to begin and end at the same
position. It's a great way to articulate infinite alternating animations.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token atrule"><span class="token rule">@keyframes</span> rotate-y</span> <span class="token punctuation">{</span><br>  <span class="token selector">50%</span> <span class="token punctuation">{</span><br>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>15deg<span class="token punctuation">)</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>-6deg<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/EYqJVUyybb3VV4AX9dNE.mp4" type="video/mp4" />    </video></p>
<h3 id="styling-the-lessligreater-elements">Styling the <code>&lt;li&gt;</code> elements <a class="w-headline-link" href="#styling-the-lessligreater-elements">#</a></h3>
<p>Each list item (<code>&lt;li&gt;</code>) contains the button and its border elements. The
<code>display</code> style is changed so the item doesn't show a
<a href="/css-marker-pseudo-element/"><code>::marker</code></a>. The <code>position</code> style
is set to <code>relative</code> so the upcoming button pseudo-elements can position
themselves within the full area the button consumes.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set > li</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* change display type from list-item */</span><br>  <span class="token property">display</span><span class="token punctuation">:</span> inline-flex<span class="token punctuation">;</span><br><br>  <span class="token comment">/* create context for button pseudos */</span><br>  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span><br><br>  <span class="token comment">/* create 3D space context */</span><br>  <span class="token property">transform-style</span><span class="token punctuation">:</span> preserve-3d<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><img     alt="Screenshot of the list rotated in 3D space to show the perspective, and each list item no longer has a bullet."          decoding="async"     height="691"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format"     srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/6KtslsfnZEhk4liXAlW7.png?auto=format&w=1600 1600w"          width="800"   />
<h3 id="styling-the-lessbuttongreater-elements">Styling the <code>&lt;button&gt;</code> elements <a class="w-headline-link" href="#styling-the-lessbuttongreater-elements">#</a></h3>
<p>Styling buttons can be tough work, there's a lot of states and interaction types
to account for. These buttons get complex quickly due to balancing
pseudo-elements, animations and interactions.</p>
<h4 id="initial-lessbuttongreater-styles">Initial <code>&lt;button&gt;</code> styles <a class="w-headline-link" href="#initial-lessbuttongreater-styles">#</a></h4>
<p>Below are the foundational styles that will support the other states.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set button</span> <span class="token punctuation">{</span><br>  <span class="token comment">/* strip out default button styles */</span><br>  <span class="token property">appearance</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>  <span class="token property">outline</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br>  <span class="token property">border</span><span class="token punctuation">:</span> none<span class="token punctuation">;</span><br><br>  <span class="token comment">/* bring in brand styles via props */</span><br>  <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--_btn-bg<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--_btn-text<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">text-shadow</span><span class="token punctuation">:</span> 0 1px 1px <span class="token function">var</span><span class="token punctuation">(</span>--_btn-text-shadow<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>  <span class="token comment">/* large text rounded corner and padded*/</span><br>  <span class="token property">font-size</span><span class="token punctuation">:</span> 5vmin<span class="token punctuation">;</span><br>  <span class="token property">font-family</span><span class="token punctuation">:</span> Audiowide<span class="token punctuation">;</span><br>  <span class="token property">padding-block</span><span class="token punctuation">:</span> .75ch<span class="token punctuation">;</span><br>  <span class="token property">padding-inline</span><span class="token punctuation">:</span> 2ch<span class="token punctuation">;</span><br>  <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px 20px<span class="token punctuation">;</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><img     alt="Screenshot of the button list in 3D perspective, this time with styled buttons."          decoding="async"     height="495"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format"     srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/mfv2DarGZ9woqmV2avMH.png?auto=format&w=1600 1600w"          width="800"   />
<h4 id="button-pseudo-elements">Button pseudo-elements <a class="w-headline-link" href="#button-pseudo-elements">#</a></h4>
<p>The borders of the button aren't traditional borders, they're absolute position
pseudo-elements with borders.</p>
<img     alt="Screenshot of Chrome Devtools Elements panel with a button shown having ::before and ::after elements."          decoding="async"     height="304"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format"     srcset="https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/vS06HQ1YTsbMKSFTIPl2iogUQP73/iNeDRVIv7UK1hRxx8r2z.png?auto=format&w=1600 1600w"          width="800"   />
<p>These elements are crucial in showcasing the 3D perspective that's been
established. One of these pseudo-elements will be pushed away from the button,
and one will be pulled closer to the user. The effect is most noticeable in the
top and bottom buttons.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button button</span> <span class="token punctuation">{</span><br>  <span class="token selector">…<br><br>  &amp;::after,<br>  &amp;::before</span> <span class="token punctuation">{</span><br>    <span class="token comment">/* create empty element */</span><br>    <span class="token property">content</span><span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">;</span><br>    <span class="token property">opacity</span><span class="token punctuation">:</span> .8<span class="token punctuation">;</span><br><br>    <span class="token comment">/* cover the parent (button) */</span><br>    <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span><br>    <span class="token property">inset</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span><br><br>    <span class="token comment">/* style the element for border accents */</span><br>    <span class="token property">border</span><span class="token punctuation">:</span> 1px solid <span class="token function">var</span><span class="token punctuation">(</span>--theme<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token property">border-radius</span><span class="token punctuation">:</span> 5px 20px<span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token comment">/* exceptions for one of the pseudo elements */</span><br>  <span class="token comment">/* this will be pushed back (3x) and have a thicker border */</span><br>  <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span><br>    <span class="token property">border-width</span><span class="token punctuation">:</span> 3px<span class="token punctuation">;</span><br><br>    <span class="token comment">/* in dark mode, it glows! */</span><br>    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--dark<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>      <span class="token property">box-shadow</span><span class="token punctuation">:</span><br>        0 0 25px <span class="token function">var</span><span class="token punctuation">(</span>--theme<span class="token punctuation">)</span><span class="token punctuation">,</span><br>        inset 0 0 25px <span class="token function">var</span><span class="token punctuation">(</span>--theme<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h4 id="3d-transform-styles">3D transform styles <a class="w-headline-link" href="#3d-transform-styles">#</a></h4>
<p>Below <code>transform-style</code> is set to <code>preserve-3d</code> so the children can space
themselves out on the <code>z</code> axis. The <code>transform</code> is set to the <code>--distance</code>
custom property, which will be increased on <a href="#hover-and-focus-interaction-styles">hover and
focus</a>.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set button</span> <span class="token punctuation">{</span><br>  …<br><br>  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--distance<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token property">transform-style</span><span class="token punctuation">:</span> preserve-3d<span class="token punctuation">;</span><br><br>  <span class="token selector">&amp;::after</span> <span class="token punctuation">{</span><br>    <span class="token comment">/* pull forward in Z space with a 3x multiplier */</span><br>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--distance<span class="token punctuation">)</span> / 3<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><br>  <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span><br>    <span class="token comment">/* push back in Z space with a 3x multiplier */</span><br>    <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">translateZ</span><span class="token punctuation">(</span><span class="token function">calc</span><span class="token punctuation">(</span><span class="token function">var</span><span class="token punctuation">(</span>--distance<span class="token punctuation">)</span> / 3 * -1<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/WQQvNTk8gy0dC7w54Q7w.mp4" type="video/mp4" />    </video></p>
<h4 id="conditional-animation-styles">Conditional animation styles <a class="w-headline-link" href="#conditional-animation-styles">#</a></h4>
<p>If the user is OK with motion, the button hints to the browser that the
transform property should be ready for change and a transition is set for
<code>transform</code> and <code>background-color</code> properties. Notice the difference in
duration, I felt it made for a nice subtle staggered effect.</p>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set button</span> <span class="token punctuation">{</span><br>  …<br><br>  <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--motionOK<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>    <span class="token property">will-change</span><span class="token punctuation">:</span> transform<span class="token punctuation">;</span><br>    <span class="token property">transition</span><span class="token punctuation">:</span><br>      transform .2s ease<span class="token punctuation">,</span><br>      background-color .5s ease<br>    <span class="token selector">;<br><br>    &amp;::before,<br>    &amp;::after</span> <span class="token punctuation">{</span><br>      <span class="token property">transition</span><span class="token punctuation">:</span> transform .1s ease-out<span class="token punctuation">;</span><br>    <span class="token punctuation">}</span><br><br>    <span class="token selector">&amp;::after</span>    <span class="token punctuation">{</span> <span class="token property">transition-duration</span><span class="token punctuation">:</span> .5s <span class="token punctuation">}</span><br>    <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span> <span class="token property">transition-duration</span><span class="token punctuation">:</span> .3s <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h4 id="hover-and-focus-interaction-styles">Hover and focus interaction styles <a class="w-headline-link" href="#hover-and-focus-interaction-styles">#</a></h4>
<p>The goal of the interaction animation is to spread the layers that made up the
flat appearing button. Accomplish this by setting the <code>--distance</code> variable,
initially to <code>1px</code>. The selector shown in the following code example checks to
see if the button is being hovered or focused by a device that should see a
focus indicator, and not being activated. If so it applies CSS to do the
following:</p>
<ul>
<li>Apply the hover background color.</li>
<li>Increase the distance .</li>
<li>Add a bounce ease effect.</li>
<li>Stagger the pseudo-element transitions.</li>
</ul>
<aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>The varying <code>transition-duration</code> values are only on hover,
staggering the animation only for hover. When hover or focus are removed, each
layer transitions in unison to the resting place.</p>
</div></aside>
<web-copy-code><pre class="language-css"><code class="language-css"><span class="token selector">.threeD-button-set button</span> <span class="token punctuation">{</span><br>  <span class="token selector">…<br><br>  &amp;:is(:hover, :focus-visible):not(:active)</span> <span class="token punctuation">{</span><br>    <span class="token comment">/* subtle distance plus bg color change on hover/focus */</span><br>    <span class="token property">--distance</span><span class="token punctuation">:</span> 15px<span class="token punctuation">;</span><br>    <span class="token property">background-color</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--_btn-bg-hover<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>    <span class="token comment">/* if motion is OK, setup transitions and increase distance */</span><br>    <span class="token atrule"><span class="token rule">@media</span> <span class="token punctuation">(</span>--motionOK<span class="token punctuation">)</span></span> <span class="token punctuation">{</span><br>      <span class="token property">--distance</span><span class="token punctuation">:</span> 3vmax<span class="token punctuation">;</span><br><br>      <span class="token property">transition-timing-function</span><span class="token punctuation">:</span> <span class="token function">var</span><span class="token punctuation">(</span>--_bounce-ease<span class="token punctuation">)</span><span class="token punctuation">;</span><br>      <span class="token property">transition-duration</span><span class="token punctuation">:</span> .4s<span class="token punctuation">;</span><br><br>      <span class="token selector">&amp;::after</span>  <span class="token punctuation">{</span> <span class="token property">transition-duration</span><span class="token punctuation">:</span> .5s <span class="token punctuation">}</span><br>      <span class="token selector">&amp;::before</span> <span class="token punctuation">{</span> <span class="token property">transition-duration</span><span class="token punctuation">:</span> .3s <span class="token punctuation">}</span><br>    <span class="token punctuation">}</span><br>  <span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/ZR3M0MTBzBU3m0RoHpxp.mp4" type="video/mp4" />    </video></p>
<p>The 3D perspective was still really neat for the <code>reduced</code> motion preference.
The top and bottom elements show the effect in a nice subtle way.</p>
<h3 id="small-enhancements-with-javascript">Small enhancements with JavaScript <a class="w-headline-link" href="#small-enhancements-with-javascript">#</a></h3>
<p>The interface is usable from keyboards, screen readers, gamepads, touch and a
mouse already, but we can add some light touches of JavaScript to ease a couple
of scenarios.</p>
<h4 id="supporting-arrow-keys">Supporting arrow keys <a class="w-headline-link" href="#supporting-arrow-keys">#</a></h4>
<p>The tab key is a fine way to navigate the menu but I'd expect the directional
pad or joysticks to move focus on a gamepad. The
<a href="https://github.com/argyleink/roving-ux" rel="noopener">roving-ux</a> library often used for GUI
Challenge interfaces will handle arrow keys for us. The below code tells the
library to trap focus within <code>.threeD-button-set</code> and forward the focus to the
button children.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">import</span> <span class="token punctuation">{</span>rovingIndex<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'roving-ux'</span><br><br><span class="token function">rovingIndex</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  element<span class="token operator">:</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.threeD-button-set'</span><span class="token punctuation">)</span><span class="token punctuation">,</span><br>  target<span class="token operator">:</span> <span class="token string">'button'</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span></code></pre>
</web-copy-code><p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/PSF8lpd2tcmj35WIQlKT.mp4" type="video/mp4" />    </video></p>
<h3 id="mouse-parallax-interaction">Mouse parallax interaction <a class="w-headline-link" href="#mouse-parallax-interaction">#</a></h3>
<p>Tracking the mouse and having it tilt the menu is intended to mimic AR and VR
video game interfaces, where instead of a mouse you may have a virtual pointer.
It can be fun when elements are hyper aware of the pointer.</p>
<p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/mNtHI14zZMoX250VIIZF.mp4" type="video/mp4" />    </video></p>
<p>Since this is a small extra feature, we'll put the interaction behind a query of
the user's motion preference. Also, as part of setup, store the button list
component into memory with <code>querySelector</code> and cache the element's bounds into
<code>menuRect</code>. Use these bounds to determine the rotate offset applied to the card
based on mouse position.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> menu <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">'.threeD-button-set'</span><span class="token punctuation">)</span><br><span class="token keyword">const</span> menuRect <span class="token operator">=</span> menu<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><br><br><span class="token keyword">const</span> <span class="token punctuation">{</span> matches<span class="token operator">:</span>motionOK <span class="token punctuation">}</span> <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">matchMedia</span><span class="token punctuation">(</span><br>  <span class="token string">'(prefers-reduced-motion: no-preference)'</span><br><span class="token punctuation">)</span></code></pre>
</web-copy-code><p>Next, we need a function that accepts the mouse <code>x</code> and <code>y</code> positions and return
a value we can use to rotate the card. The following function uses the mouse
position to detemine which side of the box it's inside of and by how much. The
delta is returned from the function.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">getAngles</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">clientX<span class="token punctuation">,</span> clientY</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>  <span class="token keyword">const</span> <span class="token punctuation">{</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> width<span class="token punctuation">,</span> height <span class="token punctuation">}</span> <span class="token operator">=</span> menuRect<br><br>  <span class="token keyword">const</span> dx <span class="token operator">=</span> clientX <span class="token operator">-</span> <span class="token punctuation">(</span>x <span class="token operator">+</span> <span class="token number">0.5</span> <span class="token operator">*</span> width<span class="token punctuation">)</span><br>  <span class="token keyword">const</span> dy <span class="token operator">=</span> clientY <span class="token operator">-</span> <span class="token punctuation">(</span>y <span class="token operator">+</span> <span class="token number">0.5</span> <span class="token operator">*</span> height<span class="token punctuation">)</span><br><br>  <span class="token keyword">return</span> <span class="token punctuation">{</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">}</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><p>Lastly, watch the mouse move, pass the position to our <code>getAngles()</code> function
and use the delta values as custom property styles. I divided by 20 to pad the
delta and make it less twitchy, there may be a better way to do that. If you
remember from the beginning, we put the <code>--x</code> and <code>--y</code> props in the middle of a
<code>clamp()</code> function, this prevents the mouse position from overly rotating the
card into an illegible position.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span>motionOK<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'mousemove'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token punctuation">{</span>target<span class="token punctuation">,</span> clientX<span class="token punctuation">,</span> clientY<span class="token punctuation">}</span></span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> <span class="token punctuation">{</span>dx<span class="token punctuation">,</span>dy<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">getAngles</span><span class="token punctuation">(</span>clientX<span class="token punctuation">,</span> clientY<span class="token punctuation">)</span><br><br>    menu<span class="token punctuation">.</span>attributeStyleMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'--x'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dy <span class="token operator">/</span> <span class="token number">20</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><br>    menu<span class="token punctuation">.</span>attributeStyleMap<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'--y'</span><span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dx <span class="token operator">/</span> <span class="token number">20</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">deg</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">)</span><br>  <span class="token punctuation">}</span><span class="token punctuation">)</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h2 id="translations-and-directions">Translations and directions <a class="w-headline-link" href="#translations-and-directions">#</a></h2>
<p>There was one gotcha when testing out the game menu in other writing modes and
languages.</p>
<p><video      autoplay            class="w-screenshot"                              loop      muted                            >      <source src="https://storage.googleapis.com/web-dev-uploads/video/vS06HQ1YTsbMKSFTIPl2iogUQP73/BtBRYNIILR1iirytTZP3.mp4" type="video/mp4" />    </video></p>
<p><code>&lt;button&gt;</code> elements have an <code>!important</code> style for <code>writing-mode</code> in the user
agent stylesheet. This meant the game menu HTML needed to change to accommodate
the desired design. Changing the button list to a list of links enables logical
properties to change the menu direction, as <code>&lt;a&gt;</code> elements don't have a browser
supplied <code>!important</code> style.</p>
<h2 id="conclusion">Conclusion <a class="w-headline-link" href="#conclusion">#</a></h2>
<p>Now that you know how I did it, how would you‽ 🙂 Can you add accelerometer
interaction to the menu, so tiling your phone rotates the menu? Can we improve
the no motion experience?</p>
<p>Let's diversify our approaches and learn all the ways to build on the web.
Create a demo, <a href="https://twitter.com/argyleink" rel="noopener">tweet me</a> links, and I'll add it
to the community remixes section below!</p>
<h2 id="community-remixes">Community remixes <a class="w-headline-link" href="#community-remixes">#</a></h2>
<p><em>Nothing to see here yet!</em></p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/css/">CSS</a>
          
        
          
            
            <a class="pill" href="/tags/dom/">DOM</a>
          
        
          
            
            <a class="pill" href="/tags/javascript/">JavaScript</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Nov 10, 2021</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/building-a-3d-game-menu-component/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@argyleink"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
