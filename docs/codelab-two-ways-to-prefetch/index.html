
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
    
    <link rel="stylesheet" href="/css/main.css?v=54a5d13c18e01">
  

  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Two ways to prefetch: <link> tags and HTTP headers</title>
<meta name="description" content="Learn how to speed up future navigations by prefetching resources. " />

<link rel="canonical" href="https://web.dev/codelab-two-ways-to-prefetch/" />

<meta itemprop="name" content="Two ways to prefetch: <link> tags and HTTP headers" />
<meta itemprop="description" content="Learn how to speed up future navigations by prefetching resources. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/codelab-two-ways-to-prefetch/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Two ways to prefetch: <link> tags and HTTP headers" />
<meta property="og:description" content="Learn how to speed up future navigations by prefetching resources. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="" />
<meta property="tag" content="performance" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Two ways to prefetch: &lsaquo;link&rsaquo; tags and HTTP headers" />
<meta name="twitter:description" content="Learn how to speed up future navigations by prefetching resources. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/tcFciHGuF3MxnTr1y5ue01OGLBn2/vU99HKzIf5EUPnzGVPf1.png?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=ace4fa3ab6f7d', 'module');




  loadScript('/js/content.js?v=8bf980e771afd', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    



<web-header class="header-default" role="navigation">
  <button data-open-drawer-button class="w-button--svg w-button--round" aria-label="Open menu">
    








  










  <svg class="icon " role="img" aria-label="menu" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>


    <span class="w-tooltip w-tooltip--left">Open menu</span>
  </button>

  <a
    href="/"
    class="header-default__logo-link gc-analytics-event"
    data-category="Site-Wide Custom Events"
    data-label="Site logo"
  >
    <img class="header-default__logo" width="125" height="23" src="/images/lockup.svg" alt="web.dev" />
  </a>

  <div class="header-default__middle">
    <div class="header-default__links">
      <a
        href="/learn/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
      >
        Learn
      </a>

      <a
        href="/measure/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
      >
        Measure
      </a>

      <a
        href="/blog/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
      >
        Blog
      </a>

      <a
        href="/about/"
        class="header-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About"
      >
        About
      </a>
    </div>
    <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
    <web-search-results id="search-main-results"></web-search-results>
  </div>

  <web-profile-switcher-container></web-profile-switcher-container>
</web-header>



<web-navigation-drawer class="drawer-default" type="modal">
  <nav data-drawer-container>
    <div class="drawer-default__contents">
      <div class="drawer-default__header">
        <button
          data-drawer-close-button
          class="drawer-default__hide w-button--svg w-button--round"
          aria-label="Close"
        >
          








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


          <span class="w-tooltip">Close</span>
        </button>
        <a
          href="/"
          class="gc-analytics-event"
          data-category="Site-Wide Custom Events"
          data-label="Site logo"
        >
          <img
            width="125"
            height="30"
            class="drawer-default__logo"
            src="/images/lockup.svg"
            alt="web.dev"
          />
        </a>
      </div>
      <a
        href="/learn/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Learn"
      >
        Learn
      </a>
      <a
        href="/measure/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Measure"
      >
        Measure
      </a>
      <a
        href="/blog/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: Blog"
      >
        Blog
      </a>
      <a
        href="/about/"
        class="drawer-default__link gc-analytics-event"
        data-category="Site-Wide Custom Events"
        data-label="SideNav: About"
      >
        About
      </a>
    </div>
  </nav>
</web-navigation-drawer>

<main>
  <div id="content">
    
    
<div class="codelab-landing-page">
  
    
    
    
  
  <web-codelab class="web-codelab" glitch="two-ways-to-prefetch"  >
    <div class="web-codelab__instructions">
      
      <article class="prose legacy-rollout">
        <header class="flow gap-bottom-size-3">

          <h1 id="two-ways-to-prefetch:-lesslinkgreater-tags-and-http-headers">Two ways to prefetch: `&lt;link&gt;` tags and HTTP headers</h1>
          

          
            <div class="flow-space-size-1 color-mid-text text-size-0">
              <time>Sep 12, 2019</time>
              
            </div>
          

          

          
            <div class="cluster flow-space-size-2">
              
                <div class="w-author">
  <a href="/authors/demianrenzulli/"><img     alt="Demian Renzulli"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/EuTrT82fyivFn16L0vD9.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/EuTrT82fyivFn16L0vD9.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/EuTrT82fyivFn16L0vD9.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/EuTrT82fyivFn16L0vD9.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/EuTrT82fyivFn16L0vD9.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/EuTrT82fyivFn16L0vD9.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /></a>
  <div
    class="w-author__info"
    style="display: flex; flex-direction: column; justify-content: center;"
  >
    <cite class="w-author__name">
      <a class="w-author__name-link" href="/authors/demianrenzulli/">Demian Renzulli</a>
    </cite>
    <ul class="w-author__link-list">
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://twitter.com/drenzulli"
          >Twitter</a
        >
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://github.com/demianrenzulli">GitHub</a>
      </li>
      <li class="w-author__link-listitem">
        <a class="w-author__link" href="https://glitch.com/@demianrenzulli"
          >Glitch</a
        >
      </li>
      
    </ul>
  </div>
</div>
              
            </div>
          
        </header>

        

        <div class="w-aside w-aside--note">
<p>This codelab uses Chrome DevTools.
<a href="https://www.google.com/chrome" rel="noopener">Download Chrome</a> if you don't already have it.</p>
</div>
<p>In this codelab, you'll implement prefetching in two ways: with <code>&lt;link rel=&quot;prefetch&quot;&gt;</code> and with HTTP <code>Link</code> header.</p>
<p>The sample app is a website that has a promotional landing page with a special discount for the shop's best selling t-shirt. Since the landing page links to a single product, it's safe to assume that a high percentage of users will navigate to the product details page. This makes the product page a great candidate to prefetch on the landing page.</p>
<h2 id="measure-performance">Measure performance <a class="w-headline-link" href="#measure-performance">#</a></h2>
<p>First establish the baseline performance:</p>
<ol>
<li>
<p>Click <strong>Remix to Edit</strong> to make the project editable.</p>
</li>
<li>
<p>To preview the site, press <strong>View App</strong>. Then press
<strong>Fullscreen</strong>
<img
src="/images/glitch/fullscreen.svg"
alt="fullscreen"
style="padding: 4px 8px; opacity: .5; border: 1px solid #c3c3c3; border-radius: 5px;"
/>.</p>
</li>
<li>
<p>Press `Control+Shift+J` (or `Command+Option+J` on Mac) to open DevTools.</p>
</li>
<li>
<p>Click the <strong>Network</strong> tab.</p>
</li>
<li>
<p>In the <strong>Throttling</strong> drop-down list, select <strong>Fast 3G</strong> to simulate a slow connection type.</p>
</li>
<li>
<p>To load the product page, click <strong>Buy now</strong> in the sample app.</p>
</li>
</ol>
<p>The <code>product-details.html</code> page takes about 600 ms to load:</p>
<img     alt="Network panel showing load times for product-details.html"     class="w-screenshot"     decoding="async"     height="186"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/MVpybZcY1aF8slLFgJ0n.png?auto=format&w=1600 1600w"          width="800"   />
<h2 id="prefetch-the-product-page-with-lesslink-rel&quot;prefetch&quot;greater">Prefetch the product page with <code>&lt;link rel=&quot;prefetch&quot;&gt;</code> <a class="w-headline-link" href="#prefetch-the-product-page-with-lesslink-rel&quot;prefetch&quot;greater">#</a></h2>
<p>To improve navigation, insert a <code>prefetch</code> tag in the landing page to prefetch the <code>product-details.html</code> page:</p>
<ul>
<li>Add the following <code>&lt;link&gt;</code> element to the head of the <code>views/index.html</code> file:</li>
</ul>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span><br><ins class="highlight-line highlight-line-add">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prefetch<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/product-details.html<span class="token punctuation">"</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>document<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></ins><br><span class="highlight-line">	  ...</span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span></code></pre>
</web-copy-code><p>The <code>as</code> attribute is optional but recommended; it helps the browser set the right headers and determine whether the resource is already in the cache.  Example values for this attribute include: <code>document</code>, <code>script</code>, <code>style</code>, <code>font</code>, <code>image</code>, and <a href="https://developer.mozilla.org/docs/Web/HTML/Element/link#Attributes" rel="noopener">others</a>.</p>
<p>To verify that prefetching is working:</p>
<ol>
<li>
<p>To preview the site, press <strong>View App</strong>. Then press
<strong>Fullscreen</strong>
<img
src="/images/glitch/fullscreen.svg"
alt="fullscreen"
style="padding: 4px 8px; opacity: .5; border: 1px solid #c3c3c3; border-radius: 5px;"
/>.</p>
</li>
<li>
<p>Press `Control+Shift+J` (or `Command+Option+J` on Mac) to open DevTools.</p>
</li>
<li>
<p>Click the <strong>Network</strong> tab.</p>
</li>
<li>
<p>In the <strong>Throttling</strong> drop-down list, select <strong>Fast 3G</strong> to simulate a slow connection type.</p>
</li>
<li>
<p>Clear the Disable cache checkbox.</p>
</li>
<li>
<p>Reload the app.</p>
</li>
</ol>
<p>Now when the landing page loads, the <code>product-details.html</code> page loads too, but at the lowest priority:</p>
<img     alt="Network panel showing product-details.html prefetched."     class="w-screenshot"     decoding="async"     height="172"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/LDkU6zNbFU7GhPuUcaCR.png?auto=format&w=1600 1600w"          width="800"   />
<p>The page is kept in the <a href="https://developer.mozilla.org/docs/Web/HTTP/Caching" rel="noopener">HTTP cache</a> for five minutes, after which the normal <a href="https://developer.mozilla.org/docs/Web/HTTP/Headers/Cache-Control" rel="noopener"><code>Cache-Control</code></a> rules for the document apply. In this case, <code>product-details.html</code> has  a <code>cache-control</code> header with a value of <code>public, max-age=0</code>, which means that the page is kept for a total of five minutes.</p>
<h3 id="reevaluate-performance">Reevaluate performance <a class="w-headline-link" href="#reevaluate-performance">#</a></h3>
<ol>
<li>Reload the app.</li>
<li>To load the product page, click <strong>Buy now</strong> in the sample app.</li>
</ol>
<p>Take a look at the <strong>Network</strong> panel. There are two differences compared to the initial network trace:</p>
<ul>
<li>The <strong>Size</strong> column shows &quot;prefetch cache&quot;, which means this resource was retrieved from the browser's cache rather than the network.</li>
<li>The <strong>Time</strong> column shows that the time it takes for the document to load is now about 10 ms.</li>
</ul>
<p>This is approximately a 98% reduction compared to the previous version, which took about 600 ms.</p>
<img     alt="Network panel showing product-details.html retrieved from prefetch cache."     class="w-screenshot"     decoding="async"     height="223"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/gJZPsifaqFPozkhnMznX.png?auto=format&w=1600 1600w"          width="800"   />
<h2 id="extra-credit:-use-prefetch-as-a-progressive-enhancement">Extra credit: Use <code>prefetch</code> as a progressive enhancement <a class="w-headline-link" href="#extra-credit:-use-prefetch-as-a-progressive-enhancement">#</a></h2>
<p>Prefetching is best implemented as a progressive enhancement for the users who are browsing on fast connections. You can use the <a href="https://developer.mozilla.org/docs/Web/API/Network_Information_API" rel="noopener">Network Information API</a> to check the network conditions and based on that dynamically inject prefetch tags. That way, you can minimize data consumption and save costs for users on slow or expensive data plans.</p>
<p>To implement adaptive prefetching, first remove the <code>&lt;link rel=&quot;prefetch&quot;&gt;</code> tag from <code>views/index.html</code>:</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">doctype</span> <span class="token name">html</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>html</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>UTF-8<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>viewport<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>width=device-width, initial-scale=1.0<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><span class="highlight-line">       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://fonts.googleapis.com/css?family=Montserrat&amp;display=swap<span class="token punctuation">"</span></span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>stylesheet<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></span><br><del class="highlight-line highlight-line-remove">	   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">rel</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>prefetch<span class="token punctuation">"</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/product-details.html<span class="token punctuation">"</span></span> <span class="token attr-name">as</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>document<span class="token punctuation">"</span></span><span class="token punctuation">></span></span></del><br><span class="highlight-line">	   ...</span><br><span class="highlight-line">	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span></span></code></pre>
</web-copy-code><p>Then add the following code to <code>public/script.js</code> to declare a function that dynamically injects the <code>prefetch</code> tag when the user is on a fast connection:</p>
<web-copy-code><pre class="language-js"><code class="language-js"><ins class="highlight-line highlight-line-add"><span class="token keyword">function</span> <span class="token function">injectLinkPrefetchIn4g</span><span class="token punctuation">(</span><span class="token parameter">url</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">	<span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>navigator<span class="token punctuation">.</span>connection<span class="token punctuation">.</span>effectiveType <span class="token operator">===</span> <span class="token string">'4g'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">		<span class="token comment">//generate link prefetch tag</span></ins><br><ins class="highlight-line highlight-line-add">		<span class="token keyword">const</span> linkTag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'link'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">		linkTag<span class="token punctuation">.</span>rel <span class="token operator">=</span> <span class="token string">'prefetch'</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">		linkTag<span class="token punctuation">.</span>href <span class="token operator">=</span> url<span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">		linkTag<span class="token punctuation">.</span>as <span class="token operator">=</span> <span class="token string">'document'</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add"></ins><br><ins class="highlight-line highlight-line-add">		<span class="token comment">//inject tag in the head of the document</span></ins><br><ins class="highlight-line highlight-line-add">		document<span class="token punctuation">.</span>head<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>linkTag<span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">	<span class="token punctuation">}</span></ins><br><ins class="highlight-line highlight-line-add"><span class="token punctuation">}</span></ins></code></pre>
</web-copy-code><p>The function works as follows:</p>
<ul>
<li>It checks the <a href="https://developer.mozilla.org/docs/Web/API/NetworkInformation/effectiveType" rel="noopener">effectiveType</a> property of the <a href="https://developer.mozilla.org/docs/Web/API/Network_Information_API" rel="noopener">Network Information API</a> to determine if the user is on a 4G (or faster) connection.</li>
<li>If that condition is fulfilled, it generates a <code>&lt;link&gt;</code> tag with <code>prefetch</code> as the type of hint, passes the URL that will be prefetched in the <code>href</code> attribute, and indicates that the resource is an HTML <code>document</code> in the <code>as</code> attribute.</li>
<li>Finally, it injects the script dynamically in the <code>head</code> of the page.</li>
</ul>
<p>Next add <code>script.js</code> to <code>views/index.html</code>, just before the closing <code>&lt;/body&gt;</code> tag:</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      ...</span><br><ins class="highlight-line highlight-line-add">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/script.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></ins><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span></code></pre>
</web-copy-code><p>Requesting <code>script.js</code> at the end of the page ensures that it will be loaded and executed after the page is parsed and loaded.</p>
<p>To make sure that the prefetching doesn't interfere with critical resources for the current page, add the following code snippet to call <code>injectLinkPrefetchIn4g()</code> on the <code>window.load</code> event:</p>
<web-copy-code><pre class="language-html"><code class="language-html"><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>body</span><span class="token punctuation">></span></span></span><br><span class="highlight-line">      ...</span><br><span class="highlight-line">      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>/script.js<span class="token punctuation">"</span></span><span class="token punctuation">></span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span></span><br>      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">></span></span><span class="token script"><span class="token language-javascript"><br><ins class="highlight-line highlight-line-add">           window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'load'</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span></ins><br><ins class="highlight-line highlight-line-add">                <span class="token function">injectLinkPrefetchIn4g</span><span class="token punctuation">(</span><span class="token string">'/product-details.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><ins class="highlight-line highlight-line-add">           <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br>      </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">></span></span><br><span class="highlight-line"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>body</span><span class="token punctuation">></span></span></span><br><span class="highlight-line"></span></code></pre>
</web-copy-code><p>The landing page now prefetches <code>product-details.html</code> only on fast connections. To verify that:</p>
<ol>
<li>To preview the site, press <strong>View App</strong>. Then press
<strong>Fullscreen</strong>
<img
src="/images/glitch/fullscreen.svg"
alt="fullscreen"
style="padding: 4px 8px; opacity: .5; border: 1px solid #c3c3c3; border-radius: 5px;"
/>.</li>
<li>Press `Control+Shift+J` (or `Command+Option+J` on Mac) to open DevTools.</li>
<li>Click the <strong>Network</strong> tab.</li>
<li>In the <strong>Throttling</strong> drop-down list, select <strong>Online</strong>.</li>
<li>Reload the app.</li>
</ol>
<p>You should see <code>product-details.html</code> in the Network panel:</p>
<img     alt="Network panel showing product-details.html prefetched."     class="w-screenshot"     decoding="async"     height="201"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/NCoFDNGs0iSfBkDjiwzd.png?auto=format&w=1600 1600w"          width="800"   />
<p>To verify that the product page isn't prefetched on slow connections:</p>
<ol>
<li>In the Throttling drop-down list, select <strong>Slow 3G</strong>.</li>
<li>Reload the app.</li>
</ol>
<p>The <strong>Network</strong> panel should include only the resources for the landing page without <code>product-details.html</code>:</p>
<img     alt="Network panel showing product-details.html not being prefetched."     class="w-screenshot"     decoding="async"     height="171"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/xpHuregNQIEKrVylhG3G.png?auto=format&w=1600 1600w"          width="800"   />
<h2 id="prefetch-the-stylesheet-for-the-product-page-with-the-http-link-header">Prefetch the stylesheet for the product page with the HTTP <code>Link</code> header <a class="w-headline-link" href="#prefetch-the-stylesheet-for-the-product-page-with-the-http-link-header">#</a></h2>
<p>The HTTP <code>Link</code> header can be used to prefetch the same type of resources as the <code>link</code> tag. Deciding when to use one or the other mostly depends on your preference, as the difference in performance is insignificant. In this case, you'll use it to prefetch the main CSS of the product page, to further improve its rendering.</p>
<p>Add an HTTP <code>Link</code> header for <code>style-product.css</code> in the server response for the landing page:</p>
<ol>
<li>Open the <code>server.js</code> file and look for the <code>get()</code> handler for the root url: <code>/</code>.</li>
<li>Add the following line at the beginning of the handler:</li>
</ol>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="highlight-line">app<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">request<span class="token punctuation">,</span> response</span><span class="token punctuation">)</span> <span class="token punctuation">{</span></span><br><ins class="highlight-line highlight-line-add">	response<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">'Link'</span><span class="token punctuation">,</span> <span class="token string">'&lt;/style-product.css>; rel=prefetch'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></ins><br><span class="highlight-line">	response<span class="token punctuation">.</span><span class="token function">sendFile</span><span class="token punctuation">(</span>__dirname <span class="token operator">+</span> <span class="token string">'/views/index.html'</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span><br><span class="highlight-line"><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span></span></code></pre>
</web-copy-code><ol>
<li>To preview the site, press <strong>View App</strong>. Then press
<strong>Fullscreen</strong>
<img
src="/images/glitch/fullscreen.svg"
alt="fullscreen"
style="padding: 4px 8px; opacity: .5; border: 1px solid #c3c3c3; border-radius: 5px;"
/>.</li>
<li>Press `Control+Shift+J` (or `Command+Option+J` on Mac) to open DevTools.</li>
<li>Click the <strong>Network</strong> tab.</li>
<li>Reload the app.</li>
</ol>
<p>The <code>style-product.css</code> is now prefetched at the lowest priority after the landing page loads:</p>
<img     alt="Network panel showing style-product.css prefetched."     class="w-screenshot"     decoding="async"     height="205"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/Memd8AIP4Yr5dhGGi240.png?auto=format&w=1600 1600w"          width="800"   />
<p>To navigate to the product page, click <strong>Buy now</strong>. Take a look at the <strong>Network</strong> panel:</p>
<img     alt="Network panel showing style-product.css retrieved from prefetch cache."     class="w-screenshot"     decoding="async"     height="223"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format"     srcset="https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/admin/12tQkKKPqx4JjaWofEYK.png?auto=format&w=1600 1600w"          width="800"   />
<p>The <code>style-product.css</code> file is retrieved from the &quot;prefetch cache&quot; and it took only 12 ms to load.</p>
<div class="w-aside w-aside--note">
<p>When using HTTP <code>Link</code> header, you can decide whether to prefetch depending on the network conditions based on the information available in <a href="https://developers.google.com/web/fundamentals/performance/optimizing-content-efficiency/client-hints/" rel="noopener">client hints</a>.</p>
</div>


        <div class="text-size-0 color-mid-text">
          <span>
            
            Last updated: <time>Sep 12, 2019</time>
            
          </span>
          —
          <a
            href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/fast/codelab-two-ways-to-prefetch/index.md"
          >
            Improve article
          </a>
        </div>

        
          
          
        

        
          <div class="flow-space-size-2">
            <a href="/link-prefetch" class="button" data-type="secondary">
              <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

              <span>Return to article</span>
            </a>
          </div>
        
      </article>
    </div>
  </web-codelab>
</div>

  </div>
</main>
<footer class="w-footer">
  <nav class="w-footer__linkboxes">
    <ul class="w-footer__linkboxes-list">
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Contribute</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
              class="w-footer__linkbox-link" data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              File a bug
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://github.com/googlechrome/web.dev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              View source
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Related content</h3>
        <ul class="w-footer__linkbox-list">
         <li class="w-footer__linkbox-item">
            <a href="https://developer.chrome.com/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              developer.chrome.com
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://blog.chromium.org/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Chrome updates
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/fundamentals" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              Web Fundamentals
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://developers.google.com/web/showcase/" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
              Case studies
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/podcasts/" class="w-footer__linkbox-link"
              data-category="Podcasts" data-label="Footer Link (index 5)">
              Podcasts
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="/shows/" class="w-footer__linkbox-link"
              data-category="Shows" data-label="Footer Link (index 6)">
              Shows
            </a>
          </li>
        </ul>
      </li>
      <li class="w-footer__linkbox">
        <h3 class="w-footer__linkbox-heading">Connect</h3>
        <ul class="w-footer__linkbox-list">
          <li class="w-footer__linkbox-item">
            <a href="https://www.twitter.com/ChromiumDev" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
              Twitter
            </a>
          </li>
          <li class="w-footer__linkbox-item">
            <a href="https://www.youtube.com/user/ChromeDevelopers" class="w-footer__linkbox-link"
              data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
              YouTube
            </a>
          </li>
        </ul>
      </li>
    </ul>
  </nav>

  <div class="w-footer__utility">
    <nav class="w-footer__utility-nav">
      <a href="https://developers.google.com/" class="w-footer__utility-logo-link"
        data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
        <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
          alt="Google Developers" />
      </a>
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
            Chrome
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Firebase Link">
            Firebase
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Google Cloud Platform Link">
            Google Cloud Platform
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://developers.google.com/products"
            data-category="Site-Wide Custom Events" data-label="Footer All products Link">
            All products
          </a>
        </li>
      </ul>
      <web-language-select current="en"></web-language-select>
    </nav>
    <nav class="w-footer__utility-nav">
      <ul class="w-footer__utility-list">
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="https://policies.google.com/" data-category="Site-Wide Custom Events"
            data-label="Footer Terms and Privacy link">
            Terms &amp; Privacy
          </a>
        </li>
        <li class="w-footer__utility-item">
          <a class="w-footer__utility-link" href="/community-guidelines/" data-category="Site-Wide Custom Events"
            data-label="Footer Community Guidelines link">
            Community Guidelines
          </a>
        </li>
      </ul>
      <div class="w-footer__license">
        <p>
          Except as otherwise noted, the content of this page is licensed
          under the
          <a href="https://creativecommons.org/licenses/by/4.0/">
          Creative Commons Attribution 4.0 License</a>,
          and code samples are licensed under the
          <a href="https://www.apache.org/licenses/LICENSE-2.0">
          Apache 2.0 License</a>. For details, see the
          <a href="https://developers.google.com/terms/site-policies">
          Google Developers Site Policies</a>.
        </p>
      </div>
    </nav>
  </div>
</footer>

  </body>
</html>
