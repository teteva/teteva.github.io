
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0">


  
<script>
  // A global function that the theme toggle can use to apply the current theme.
  window.applyThemeSetting = function(override) {
    const currentSetting = override || localStorage.getItem('user-color-scheme');
    const currentAttribute = document.documentElement.getAttribute('data-user-theme');

    if (currentSetting && currentSetting !== currentAttribute) {
      document.documentElement.setAttribute('data-user-theme', currentSetting);
    }
  };
window.applyThemeSetting();
</script>

  
  <link rel="stylesheet" href="/css/next.css?v=6a36a6b656665">
  <link rel="stylesheet" href="/css/legacy-rollout.css?v=c9581d6ee6437">
  <link rel="preload" as="font" crossorigin href="/fonts/material-icons/regular.woff2">


<link rel="preload" as="font" crossorigin href="/fonts/google-sans/regular/latin.woff2">
<link rel="preload" as="font" crossorigin href="/fonts/google-sans/bold/latin.woff2">

<meta name="theme-color" content="#fff"/>




<title>Insertable streams for MediaStreamTrack</title>
<meta name="description" content="Insertable streams for MediaStreamTrack is about exposing the content of a MediaStreamTrack as a stream that can be manipulated or used to generate new content. " />

<link rel="canonical" href="https://web.dev/mediastreamtrack-insertable-media-processing/" />

<meta itemprop="name" content="Insertable streams for MediaStreamTrack" />
<meta itemprop="description" content="Insertable streams for MediaStreamTrack is about exposing the content of a MediaStreamTrack as a stream that can be manipulated or used to generate new content. " />
<meta itemprop="image" content="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:locale" content="en_US" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://web.dev/mediastreamtrack-insertable-media-processing/" />
<meta property="og:site_name" content="web.dev" />
<meta property="og:title" content="Insertable streams for MediaStreamTrack" />
<meta property="og:description" content="Insertable streams for MediaStreamTrack is about exposing the content of a MediaStreamTrack as a stream that can be manipulated or used to generate new content. " />
<meta property="og:image" content="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&fit=max&w=1200&fm=auto" />
<meta property="og:image:alt" content="Cup of coffee and a laptop with a video conference showing many participants." />
<meta property="tag" content="media" />
<meta property="tag" content="capabilities" />
<meta name="twitter:card" content="summary_large_image" />
<meta name="twitter:title" content="Insertable streams for MediaStreamTrack" />
<meta name="twitter:description" content="Insertable streams for MediaStreamTrack is about exposing the content of a MediaStreamTrack as a stream that can be manipulated or used to generate new content. " />
<meta name="twitter:image" content="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&fit=max&w=1200&fm=auto" />
<link
  rel="alternate"
  href="/feed.xml"
  type="application/atom+xml"
  data-title="web.dev feed"
/>

<link rel="manifest" href="/manifest.webmanifest" />

<link rel="shortcut icon" href="/images/favicon.ico">
<link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png">
<link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png">
<link rel="mask-icon" color="#0054ff" href="/images/safari-pinned-tab.svg">



<script>
window.ga =
  window.ga ||
  function () {
    (ga.q = ga.q || []).push(arguments);
  };
ga.l = +new Date();
ga('create', 'UA-126406676-2');
ga('set', 'transport', 'beacon');
ga('set', 'anonymizeIp', true);
ga('set', 'page', window.location.pathname);
ga('set', 'dimension5', '4');
ga('send', 'pageview');
</script>







<script>
function loadScript(url, type) {
  const s = document.createElement('script');
  s.src = url;
  if (type) {
    s.type = type;
  }
  if (type === 'module') {
    s.async = false; // Preserve load order.
    const pre = document.createElement('link');
    pre.rel = 'modulepreload';
    pre.href = url;
    document.head.append(pre);
    // We use DOMContentLoaded as the loader script is running sync, and inserting a module script here doesn't defer. This brings back normal type="module" behavior.
    window.addEventListener('DOMContentLoaded', () => {
      document.head.append(s);
    });
  } else {
    document.head.append(s);
  }
}
loadScript('/js/app.js?v=a3da2c01698cb', 'module');




  loadScript('/js/content.js?v=96f967f8f6c7f', 'module');


  loadScript('https://www.google-analytics.com/analytics.js', null);

</script>

  </head>
  <body class="unresolved">
    
    <web-snackbar-container></web-snackbar-container>

    
<a href="#main" class="skip-link button" data-type="primary">Skip to content</a>


<web-header role="banner" class="site-header">
  <div class="cluster gutter-base">
    <button class="icon-button tooltip color-core-text md:hidden-yes" data-open-drawer-button data-alignment="right">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg>
      <span class="tooltip__content">Open menu</span>
    </button>
    <a href="/" class="site-header__brand brand">
      


  <svg role="img" aria-label="web.dev" xmlns="http://www.w3.org/2000/svg" width="119.79" height="22.32" viewBox="0 0 119.79 22.32"><path class="brand__text" d="M114.99 19.32h-2.2l-4.8-11.9h2.4l3.5 9.2 3.5-9.2h2.4Zm-16.8-7.3h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.56 3.56 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-14 0c-3.1 0-5.7-2.8-5.7-6.3s2.6-6.3 5.7-6.3a5 5 0 0 1 4.1 2h.1l-.1-1.6v-5.5h2.2v17.3h-2.1v-1.6h-.1a5.12 5.12 0 0 1-4.1 2Zm.3-2c2.2 0 3.8-1.7 3.8-4.3s-1.6-4.3-3.8-4.3a4 4 0 0 0-3.8 4.3 4 4 0 0 0 3.8 4.3Zm-6.8.1a1.61 1.61 0 0 1-1.7 1.6 1.74 1.74 0 0 1-1.7-1.6 1.67 1.67 0 0 1 1.7-1.6 1.61 1.61 0 0 1 1.7 1.6Zm-10.5-.1a4 4 0 0 0 3.8-4.3 4 4 0 0 0-3.8-4.3c-2.2 0-3.8 1.8-3.8 4.3s1.6 4.3 3.8 4.3Zm.4 2a5 5 0 0 1-4.1-2h-.1v1.6h-2.1V2.02h2.2v5.5l-.1 1.6h.1a4.84 4.84 0 0 1 4.1-2c3.1 0 5.7 2.8 5.7 6.3s-2.6 6.3-5.7 6.3Zm-17.4-7.7h6.8a3.17 3.17 0 0 0-3.4-2.9 3.42 3.42 0 0 0-3.4 2.9Zm3.6 7.7a6 6 0 0 1-6-6.3c0-3.6 2.5-6.3 5.9-6.3s5.8 2.4 5.8 6.5v.2h-9.3a3.88 3.88 0 0 0 3.8 3.9 3.67 3.67 0 0 0 3.3-2.1l2 1a6.22 6.22 0 0 1-5.5 3.1Zm-6.3-12.2-3.8 11.9h-2.3l-3-9.1-2.9 9.1h-2.3l-3.9-11.9h2.3l2.6 9 2.9-9h2.3l2.9 9 2.6-9Z" fill="#5f6368" fill-rule="evenodd"/><path d="M0 19.28a3 3 0 0 1 3-3h16.27a3.045 3.045 0 0 1 0 6.09H3.04A3 3 0 0 1 0 19.28Z" fill="#6cf"/><path d="M.89.9a3 3 0 0 1 4.3 0l8.12 8.11a3.05 3.05 0 0 1 0 4.3l-8.12 8.12a3.04 3.04 0 1 1-4.3-4.3l5.6-5.61a.51.51 0 0 0 0-.72L.89 5.22A3 3 0 0 1 .89.9Z" fill="#06f" fill-rule="evenodd"/><path d="m10.39 16.22-5.2 5.2a3.04 3.04 0 1 1-4.3-4.3l.89-.9Z" fill="#c6f"/><circle cx="19.27" cy="19.27" r="3.04" fill="#06f"/></svg>


    </a>
  </div>
  <web-navigation-drawer type="standard">
    <nav class="site-header__nav" aria-label="main navigation" data-drawer-container>
      <a
        class="site-header__link"
        href="/learn/" data-category="Site-Wide Custom Events"
        data-label="Tab: Learn"
        >
          Learn
      </a>
      <a
        class="site-header__link"
        href="/measure/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Measure"
        >
        Measure
      </a>
      <a
        class="site-header__link"
        href="/blog/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Blog"
        >
        Blog
      </a>
      <a
        class="site-header__link"
        href="/tags/case-study/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: Case Studies"
        >
        Case studies
      </a>
      <a
        class="site-header__link"
        href="/about/"
        data-category="Site-Wide Custom Events"
        data-label="Tab: About" >
        About
      </a>
      <button class="icon-button tooltip color-core-text md:hidden-yes" data-drawer-close-button>
        








  










  <svg class="icon " role="img" aria-label="close" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="24" width="24"><path d="M0 0h24v24H0z" fill="none"/><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>


        <span class="tooltip__content">Close</span>
      </button>
    </nav>
  </web-navigation-drawer>
  <div class="site-header__actions cluster">
    <div class="site-header__search">
      <web-search results-id="search-main-results" i18n="{&quot;search&quot;:{&quot;en&quot;:&quot;Search&quot;},&quot;open_search&quot;:{&quot;en&quot;:&quot;Open search&quot;},&quot;all_articles&quot;:{&quot;en&quot;:&quot;All articles&quot;},&quot;close_search&quot;:{&quot;en&quot;:&quot;Close search&quot;}}"></web-search>
      <web-search-results id="search-main-results"></web-search-results>
    </div>
  </div>
</web-header>

<main id="main">
  
    
  
  





  <img     alt="Cup of coffee and a laptop with a video conference showing many participants."     class="hero-image"     decoding="async"     height="480"               sizes="100vw"     src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format"     srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=200 200w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=228 228w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=260 260w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=296 296w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=338 338w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=385 385w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=439 439w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=500 500w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=571 571w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=650 650w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=741 741w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=845 845w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=964 964w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/Qu2wfQ3pxR8AeEfty88S.jpg?auto=format&w=1600 1600w"          width="1600"   />


<div class="post wrapper" data-flush>
  
    
    
    
  
  

  <div class="sidebar region flex-align-start flex-dir-rev flex-wrap-no">
    

  <nav class="course__toc toc over-scroll hidden-yes xl:hidden-no" data-type="side" aria-label="On this page">
    <div class="course-toc__heading font-google-sans weight-medium">On this page</div>
    <web-scroll-spy>
      <div class="toc__wrapper flow-recursive">
        <ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#background">Background</a></li><li class="toc__listitem"><a class="toc__anchor" href="#what-is-insertable-streams-for-mediastreamtrack">What is insertable streams for MediaStreamTrack?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#use-cases">Use cases</a></li><li class="toc__listitem"><a class="toc__anchor" href="#status">Current status</a></li><li class="toc__listitem"><a class="toc__anchor" href="#how-to-use-insertable-streams-for-mediastreamtrack">How to use insertable streams for MediaStreamTrack</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#feature-detection">Feature detection</a></li><li class="toc__listitem"><a class="toc__anchor" href="#core-concepts">Core concepts</a></li><li class="toc__listitem"><a class="toc__anchor" href="#bringing-it-all-together">Bringing it all together</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#demo">Demo</a></li><li class="toc__listitem"><a class="toc__anchor" href="#security-and-privacy-considerations">Security and Privacy considerations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#feedback">Feedback</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#tell-us-about-the-api-design">Tell us about the API design</a></li><li class="toc__listitem"><a class="toc__anchor" href="#report-a-problem-with-the-implementation">Report a problem with the implementation</a></li><li class="toc__listitem"><a class="toc__anchor" href="#show-support-for-the-api">Show support for the API</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#helpful-links">Helpful links</a></li><li class="toc__listitem"><a class="toc__anchor" href="#acknowledgements">Acknowledgements</a></li></ul>
      </div>
    </web-scroll-spy>
  </nav>


    
    <article class="prose legacy-rollout">
      <header class="flow gap-bottom-size-3">
        
          <nav class="breadcrumbs" aria-label="breadcrumbs">
            <ul class="breadcrumbs__list" role="list">
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, home breadcrumb"
                  data-action="click"
                  href="/"
                >
                  Home
                </a>
              </li>
              
              <li>
                <a
                  class="gc-analytics-event"
                  data-category="web.dev"
                  data-label="post, path breadcrumb"
                  data-action="click"
                  href="/blog"
                >
                  All articles
                </a>
              </li>
              
            </ul>
          </nav>
        

        <h1 id="insertable-streams-for-mediastreamtrack">Insertable streams for MediaStreamTrack</h1>
        
          <p class="color-mid-text flow-space-base">
            <p>The content of a <code>MediaStreamTrack</code> is exposed as a stream that can be manipulated or used to
generate new content.</p>

          </p>
        

        
          <div class="flow-space-size-1 color-mid-text text-size-0">
            <time>May 4, 2021</time>
             — Updated <time>Oct 18, 2021</time> 
          </div>
        

        
        

        

        
          <div class="cluster flow-space-size-2">
            
              <div class="author">
  <a class="avatar" href="/authors/thomassteiner/"> <img     alt="Thomas Steiner"     class="w-author__image"     decoding="async"     height="64"          loading="lazy"     sizes="(min-width: 64px) 64px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?auto=format&fit=crop&h=64&w=64"     srcset="https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=1&q=75 1x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=2&q=50 2x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=3&q=35 3x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=4&q=23 4x,     https://web-dev.imgix.net/image/admin/8PLpVmFef6mj72MVWeiN.jpg?fit=crop&h=64&w=64&auto=format&dpr=5&q=20 5x"          width="64"   /> </a>
  <div class="flow">
    <cite class="author__name">
      <a href="/authors/thomassteiner/">Thomas Steiner</a>
    </cite>
    <div class="author__links cluster">
               <a href="https://twitter.com/tomayac">Twitter</a>
               <a href="https://github.com/tomayac">GitHub</a>
               <a href="https://glitch.com/@tomayac">Glitch</a>
               <a href="https://blog.tomayac.com/">Homepage</a>
             </div>
  </div>
</div>
            
          </div>
        
      </header>

      

      

  

  <div class="xl:hidden-yes flow-space-size-1">
    <details data-type="inner" role="navigation" aria-label="On this page">
      <summary>
        On this page
      </summary>
      <div class="toc"><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#background">Background</a></li><li class="toc__listitem"><a class="toc__anchor" href="#what-is-insertable-streams-for-mediastreamtrack">What is insertable streams for MediaStreamTrack?</a></li><li class="toc__listitem"><a class="toc__anchor" href="#use-cases">Use cases</a></li><li class="toc__listitem"><a class="toc__anchor" href="#status">Current status</a></li><li class="toc__listitem"><a class="toc__anchor" href="#how-to-use-insertable-streams-for-mediastreamtrack">How to use insertable streams for MediaStreamTrack</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#feature-detection">Feature detection</a></li><li class="toc__listitem"><a class="toc__anchor" href="#core-concepts">Core concepts</a></li><li class="toc__listitem"><a class="toc__anchor" href="#bringing-it-all-together">Bringing it all together</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#demo">Demo</a></li><li class="toc__listitem"><a class="toc__anchor" href="#security-and-privacy-considerations">Security and Privacy considerations</a></li><li class="toc__listitem"><a class="toc__anchor" href="#feedback">Feedback</a><ul class="toc__list"><li class="toc__listitem"><a class="toc__anchor" href="#tell-us-about-the-api-design">Tell us about the API design</a></li><li class="toc__listitem"><a class="toc__anchor" href="#report-a-problem-with-the-implementation">Report a problem with the implementation</a></li><li class="toc__listitem"><a class="toc__anchor" href="#show-support-for-the-api">Show support for the API</a></li></ul></li><li class="toc__listitem"><a class="toc__anchor" href="#helpful-links">Helpful links</a></li><li class="toc__listitem"><a class="toc__anchor" href="#acknowledgements">Acknowledgements</a></li></ul></div>
    </details>
  </div>



      <h2 id="background">Background <a class="w-headline-link" href="#background">#</a></h2>
<p>In the context of the
<a href="https://developer.mozilla.org/docs/Web/API/Media_Streams_API" rel="noopener">Media Capture and Streams API</a>
the <a href="https://developer.mozilla.org/docs/Web/API/MediaStreamTrack" rel="noopener"><code>MediaStreamTrack</code></a>
interface represents a single media track within a stream; typically, these are audio or video
tracks, but other track types may exist.
<a href="https://developer.mozilla.org/docs/Web/API/MediaStream" rel="noopener"><code>MediaStream</code></a> objects consist of
zero or more <code>MediaStreamTrack</code> objects, representing various audio or video tracks. Each
<code>MediaStreamTrack</code> may have one or more channels. The channel represents the smallest unit of a
media stream, such as an audio signal associated with a given speaker, like left or right in a
stereo audio track.</p>
<h2 id="what-is-insertable-streams-for-mediastreamtrack">What is insertable streams for <code>MediaStreamTrack</code>? <a class="w-headline-link" href="#what-is-insertable-streams-for-mediastreamtrack">#</a></h2>
<p>The core idea behind insertable streams for <code>MediaStreamTrack</code> is to expose the content of a
<code>MediaStreamTrack</code> as a collection of <a href="/streams/">streams</a> (as defined by the WHATWG
<a href="https://streams.spec.whatwg.org/" rel="noopener">Streams API</a>). These streams can be manipulated to introduce new
components.</p>
<p>Granting developers access to the video (or audio) stream directly allows them to apply
modifications directly to the stream. In contrast, realizing the same video manipulation task with
traditional methods requires developers to use intermediaries such as <code>&lt;canvas&gt;</code> elements. (For
details of this type of process, see, for example,
<a href="https://html5doctor.com/video-canvas-magic/" rel="noopener">video + canvas = magic</a>.)</p>
<h2 id="use-cases">Use cases <a class="w-headline-link" href="#use-cases">#</a></h2>
<p>Use cases for insertable streams for <code>MediaStreamTrack</code> include, but are not limited to:</p>
<ul>
<li>Video conferencing gadgets like &quot;funny hats&quot; or virtual backgrounds.</li>
<li>Voice processing like software <a href="https://en.wikipedia.org/wiki/Vocoder" rel="noopener">vocoders</a>.</li>
</ul>
<h2 id="status">Current status <a class="w-headline-link" href="#status">#</a></h2>
<div>
<div class="w-table-wrapper">
<table>
<thead>
<tr>
<th>Step</th>
<th>Status</th>
</tr>
</thead>
<tbody>
<tr>
<td>1. Create explainer</td>
<td><a href="https://github.com/alvestrand/mediacapture-transform/blob/main/explainer.md" rel="noopener">Complete</a></td>
</tr>
<tr>
<td>2. Create initial draft of specification</td>
<td><a href="https://alvestrand.github.io/mediacapture-transform/" rel="noopener">In Progress</a></td>
</tr>
<tr>
<td>3. Gather feedback &amp; iterate on design</td>
<td><a href="#feedback">In progress</a></td>
</tr>
<tr>
<td>4. Origin trial</td>
<td>Completed</td>
</tr>
<tr>
<td>5. <strong>Launch</strong></td>
<td><strong>Completed</strong></td>
</tr>
</tbody>
</table>
</div></div>
<h2 id="how-to-use-insertable-streams-for-mediastreamtrack">How to use insertable streams for <code>MediaStreamTrack</code> <a class="w-headline-link" href="#how-to-use-insertable-streams-for-mediastreamtrack">#</a></h2>
<h3 id="feature-detection">Feature detection <a class="w-headline-link" href="#feature-detection">#</a></h3>
<p>You can feature-detect insertable streams for <code>MediaStreamTrack</code> support as follows.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token string">'MediaStreamTrackProcessor'</span> <span class="token keyword">in</span> window <span class="token operator">&amp;&amp;</span> <span class="token string">'MediaStreamTrackGenerator'</span> <span class="token keyword">in</span> window<span class="token punctuation">)</span> <span class="token punctuation">{</span><br>  <span class="token comment">// Insertable streams for `MediaStreamTrack` is supported.</span><br><span class="token punctuation">}</span></code></pre>
</web-copy-code><h3 id="core-concepts">Core concepts <a class="w-headline-link" href="#core-concepts">#</a></h3>
<p>Insertable streams for <code>MediaStreamTrack</code> builds on concepts previously proposed by
<a href="https://web.dev/webcodecs/">WebCodecs</a> and conceptually splits the <code>MediaStreamTrack</code> into two
components:</p>
<ul>
<li>The <code>MediaStreamTrackProcessor</code>, which consumes a <code>MediaStreamTrack</code> object's source and generates
a stream of media frames, specifically
<a href="https://w3c.github.io/webcodecs/#videoframe-interface" rel="noopener"><code>VideoFrame</code></a> or
<a href="https://w3c.github.io/webcodecs/#audioframe-interface" rel="noopener"><code>AudioFrame</code></a>) objects. You can think of
this as a track sink that is capable of exposing the unencoded frames from the track as a
<code>ReadableStream</code>.</li>
<li>The <code>MediaStreamTrackGenerator</code>, which consumes a stream of media frames and exposes a
<code>MediaStreamTrack</code> interface. It can be provided to any sink, just like a track from
<code>getUserMedia()</code>. It takes media frames as input.</li>
</ul>
<h4 id="the-mediastreamtrackprocessor">The <code>MediaStreamTrackProcessor</code> <a class="w-headline-link" href="#the-mediastreamtrackprocessor">#</a></h4>
<p>A <code>MediaStreamTrackProcessor</code> object exposes one property, <code>readable</code>. It allows for reading the
frames from the <code>MediaStreamTrack</code>. If the track is a video track,
chunks read from <code>readable</code> will be <code>VideoFrame</code> objects. If the track is an audio track, chunks
read from <code>readable</code> will be <code>AudioFrame</code> objects.</p>
<h4 id="the-mediastreamtrackgenerator">The <code>MediaStreamTrackGenerator</code> <a class="w-headline-link" href="#the-mediastreamtrackgenerator">#</a></h4>
<p>A <code>MediaStreamTrackGenerator</code> object likewise exposes one property, <code>writable</code>, which is a
<code>WritableStream</code> that allows writing media frames to the
<code>MediaStreamTrackGenerator</code>, which is itself a <code>MediaStreamTrack</code>. If the <code>kind</code> attribute is
<code>&quot;audio&quot;</code>, the stream accepts <code>AudioFrame</code> objects and fails with any other type. If kind is
<code>&quot;video&quot;</code>, the stream accepts <code>VideoFrame</code> objects and fails with any other type. When a frame is
written to <code>writable</code>, the frame's <code>close()</code> method is automatically invoked, so that its media
resources are no longer accessible from JavaScript.</p>
<p>A <code>MediaStreamTrackGenerator</code> is a track for which a custom
source can be implemented by writing media frames to its <code>writable</code> field.</p>
<h3 id="bringing-it-all-together">Bringing it all together <a class="w-headline-link" href="#bringing-it-all-together">#</a></h3>
<p>The core idea is to create a processing chain as follows:</p>
<p>Platform Track → Processor → Transform → Generator → Platform Sinks</p>
<p>The example below illustrates this chain for a barcode scanner application which highlights detected barcode in a live video stream.</p>
<web-copy-code><pre class="language-js"><code class="language-js"><span class="token keyword">const</span> stream <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">getUserMedia</span><span class="token punctuation">(</span><span class="token punctuation">{</span> video<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> videoTrack <span class="token operator">=</span> stream<span class="token punctuation">.</span><span class="token function">getVideoTracks</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> trackProcessor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaStreamTrackProcessor</span><span class="token punctuation">(</span><span class="token punctuation">{</span> track<span class="token operator">:</span> videoTrack <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> trackGenerator <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaStreamTrackGenerator</span><span class="token punctuation">(</span><span class="token punctuation">{</span> kind<span class="token operator">:</span> <span class="token string">'video'</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> transformer <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TransformStream</span><span class="token punctuation">(</span><span class="token punctuation">{</span><br>  <span class="token keyword">async</span> <span class="token function">transform</span><span class="token punctuation">(</span><span class="token parameter">videoFrame<span class="token punctuation">,</span> controller</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><br>    <span class="token keyword">const</span> barcodes <span class="token operator">=</span> <span class="token keyword">await</span> <span class="token function">detectBarcodes</span><span class="token punctuation">(</span>videoFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    <span class="token keyword">const</span> newFrame <span class="token operator">=</span> <span class="token function">highlightBarcodes</span><span class="token punctuation">(</span>videoFrame<span class="token punctuation">,</span> barcodes<span class="token punctuation">)</span><span class="token punctuation">;</span><br>    videoFrame<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>    controller<span class="token punctuation">.</span><span class="token function">enqueue</span><span class="token punctuation">(</span>newFrame<span class="token punctuation">)</span><span class="token punctuation">;</span><br>  <span class="token punctuation">}</span><span class="token punctuation">,</span><br><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><br>trackProcessor<span class="token punctuation">.</span>readable<span class="token punctuation">.</span><span class="token function">pipeThrough</span><span class="token punctuation">(</span>transformer<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">pipeTo</span><span class="token punctuation">(</span>trackGenerator<span class="token punctuation">.</span>writable<span class="token punctuation">)</span><span class="token punctuation">;</span><br><br><span class="token keyword">const</span> videoBefore <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'video-before'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br><span class="token keyword">const</span> videoAfter <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'video-after'</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>videoBefore<span class="token punctuation">.</span>srcObject <span class="token operator">=</span> stream<span class="token punctuation">;</span><br><span class="token keyword">const</span> streamAfter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MediaStream</span><span class="token punctuation">(</span><span class="token punctuation">[</span>generator<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span><br>videoAfter<span class="token punctuation">.</span>srcObject <span class="token operator">=</span> streamAfter<span class="token punctuation">;</span></code></pre>
</web-copy-code><aside class="aside flow bg-state-info-bg color-state-info-text">
<div class=" flow">
<p>This article barely scratches the surface of what is possible and going into the details
is way beyond the scope of this publication. For more examples, see the extended
<a href="https://webrtc.github.io/samples/src/content/insertable-streams/video-processing/" rel="noopener">video processing demo</a>
and the
<a href="https://webrtc.github.io/samples/src/content/insertable-streams/audio-processing/" rel="noopener">audio processing demo</a>
respectively. You can find the source code for both demos
<a href="https://github.com/webrtc/samples/tree/gh-pages/src/content/insertable-streams" rel="noopener">on GitHub</a>.</p>
</div></aside>
<h2 id="demo">Demo <a class="w-headline-link" href="#demo">#</a></h2>
<p>You can see the <a href="https://mediastreamtrack.glitch.me/" rel="noopener">QR code scanner demo</a> from the section above
in action on a desktop or mobile browser. Hold a QR code in front of the camera and the app will
detect it and highlight it. You can see the application's source code
<a href="https://glitch.com/edit/#!/mediastreamtrack?path=index.html%3A21%3A50" rel="noopener">on Glitch</a>.</p>
<img     alt="QR code scanner running in desktop browser tab showing a detected and highlighted QR code on the phone the user holds in front of the laptop&#x27;s camera."          decoding="async"     height="481"          loading="lazy"     sizes="(min-width: 800px) 800px, calc(100vw - 48px)"     src="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format"     srcset="https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=200 200w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=228 228w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=260 260w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=296 296w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=338 338w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=385 385w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=439 439w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=500 500w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=571 571w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=650 650w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=741 741w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=845 845w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=964 964w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=1098 1098w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=1252 1252w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=1428 1428w,     https://web-dev.imgix.net/image/8WbTDNrhLsU0El80frMBGE4eMCD3/VwysZHgnzswePs684xOJ.png?auto=format&w=1600 1600w"          width="800"   />
<h2 id="security-and-privacy-considerations">Security and Privacy considerations <a class="w-headline-link" href="#security-and-privacy-considerations">#</a></h2>
<p>The security of this API relies on existing mechanisms in the web platform. As data is exposed using
the <code>VideoFrame</code> and <code>AudioFrame</code> interfaces, the rules of those interfaces to deal with
origin-tainted data apply. For example, data from cross-origin resources cannot be accessed due to
existing restrictions on accessing such resources (e.g., it is not possible to access the pixels of
a cross-origin image or video element). In addition, access to media data from cameras, microphones,
or screens is subject to user authorization. The media data this API exposes is already available
through other APIs.</p>
<h2 id="feedback">Feedback <a class="w-headline-link" href="#feedback">#</a></h2>
<p>The Chromium team wants to hear about your experiences with insertable streams for
<code>MediaStreamTrack</code>.</p>
<h3 id="tell-us-about-the-api-design">Tell us about the API design <a class="w-headline-link" href="#tell-us-about-the-api-design">#</a></h3>
<p>Is there something about the API that does not work like you expected? Or are there missing methods
or properties that you need to implement your idea? Do you have a question or comment on the
security model? File a spec issue on the corresponding <a href="https://github.com/alvestrand/mediacapture-transform" rel="noopener">GitHub repo</a>, or add your thoughts
to an existing issue.</p>
<h3 id="report-a-problem-with-the-implementation">Report a problem with the implementation <a class="w-headline-link" href="#report-a-problem-with-the-implementation">#</a></h3>
<p>Did you find a bug with Chromium's implementation? Or is the implementation different from the spec?
File a bug at <a href="https://new.crbug.com" rel="noopener">new.crbug.com</a>. Be sure to include as much detail as you can,
simple instructions for reproducing, and enter <code>Blink&gt;MediaStream</code> in the <strong>Components</strong> box.
<a href="https://glitch.com/" rel="noopener">Glitch</a> works great for sharing quick and easy repros.</p>
<h3 id="show-support-for-the-api">Show support for the API <a class="w-headline-link" href="#show-support-for-the-api">#</a></h3>
<p>Are you planning to use insertable streams for <code>MediaStreamTrack</code>? Your public support helps the
Chromium team prioritize features and shows other browser vendors how critical it is to support
them.</p>
<p>Send a tweet to <a href="https://twitter.com/ChromiumDev" rel="noopener">@ChromiumDev</a> using the hashtag
<a href="https://twitter.com/search?q=%23InsertableStreams&amp;src=recent_search_click&amp;f=live" rel="noopener"><code>#InsertableStreams</code></a>
and let us know where and how you are using it.</p>
<h2 id="helpful-links">Helpful links <a class="w-headline-link" href="#helpful-links">#</a></h2>
<ul>
<li><a href="https://alvestrand.github.io/mediacapture-transform/" rel="noopener">Spec draft</a></li>
<li><a href="https://github.com/alvestrand/mediacapture-transform/blob/main/explainer.md" rel="noopener">Explainer</a></li>
<li><a href="https://chromestatus.com/feature/5499415634640896" rel="noopener">ChromeStatus</a></li>
<li><a href="https://crbug.com/1142955" rel="noopener">Chromium bug</a></li>
<li><a href="https://github.com/w3ctag/design-reviews/issues/603" rel="noopener">TAG review</a></li>
<li><a href="https://github.com/alvestrand/mediacapture-transform" rel="noopener">GitHub repo</a></li>
</ul>
<h2 id="acknowledgements">Acknowledgements <a class="w-headline-link" href="#acknowledgements">#</a></h2>
<p>The insertable streams for <code>MediaStreamTrack</code> spec was written by
<a href="https://github.com/alvestrand" rel="noopener">Harald Alvestrand</a> and <a href="https://github.com/guidou" rel="noopener">Guido Urdaneta</a>.
This article was reviewed by Harald Alvestrand, <a href="https://github.com/jpmedley" rel="noopener">Joe Medley</a>,
<a href="https://github.com/dogben" rel="noopener">Ben Wagner</a>, <a href="https://github.com/huibk" rel="noopener">Huib Kleinhout</a>, and
<a href="https://github.com/beaufortfrancois" rel="noopener">François Beaufort</a>. Hero image by
<a href="https://unsplash.com/@cwmonty" rel="noopener">Chris Montgomery</a> on
<a href="https://unsplash.com/photos/smgTvepind4" rel="noopener">Unsplash</a>.</p>


      

      <div class="cluster gutter-base flow-space-size-2" role="list" aria-label="tags">
        
          
        
          
        
          
            
            <a class="pill" href="/tags/media/">Media</a>
          
        
          
            
            <a class="pill" href="/tags/capabilities/">Capabilities</a>
          
        
      </div>

      <div class="text-size-0 color-mid-text">
        <span>
          
          Last updated: <time>Oct 18, 2021</time>
          
        </span>
        —
        <a
          href="https://github.com/GoogleChrome/web.dev/blob/main/src/site/content/en/blog/mediastreamtrack-insertable-media-processing/index.md"
        >
          Improve article
        </a>
      </div>

      

      
        
        
      

      
        <div class="flow-space-size-2">
          <a href="/blog" class="button" data-type="secondary">
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0z" fill="none"/><path d="M20 11H7.83l5.59-5.59L12 4l-8 8 8 8 1.41-1.41L7.83 13H20v-2z"/></svg>

            <span>Return to all articles</span>
          </a>
        </div>
      
      <div class="docked-actions flow flow-space-base">    
        <div>
          <share-action class="gc-analytics-event fab"
            authors="@tomayac"
            data-category="web.dev"
            data-label="share"
            data-action="click"
            data-type="primary"
            data-icon="share"
            tabindex="0"
            role="button"
          >
            <svg xmlns="http://www.w3.org/2000/svg" height="24" width="24" viewBox="0 0 24 24"><path d="M0 0h24v24H0V0z" fill="none"/><path d="M18 16.1c-.8 0-1.4.3-2 .8l-7.1-4.2c.1-.2.1-.5.1-.7s0-.5-.1-.7L16 7.2c.5.5 1.2.8 2 .8 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3c0 .2 0 .5.1.7L8 9.8C7.5 9.3 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.1 4.2c-.1.2-.1.4-.1.6 0 1.6 1.3 2.9 2.9 2.9s2.9-1.3 2.9-2.9-1.2-2.9-2.8-2.9z" fill="currentColor"/></svg>
 
            <span class="fab__label">Share</span>
          </share-action>
        </div>
        
      </div>
    </article>
  </div>
</div>


</main>
<footer class="site-footer" role="contentinfo">
  <nav class="site-footer__primary-nav auto-grid" aria-label="footer navigation">
    <div>
      <h3 class="text-size-2 color-mid-text">Contribute</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://github.com/GoogleChrome/web.dev/issues/new?assignees=&labels=bug&template=bug_report.md&title="
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            File a bug
          </a>
        </li>
        <li>
          <a href="https://github.com/googlechrome/web.dev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            View source
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Related content</h3>
      <ul class="w-footer__linkbox-list" role="list">
          <li>
          <a href="https://developer.chrome.com/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            developer.chrome.com
          </a>
        </li>
        <li>
          <a href="https://blog.chromium.org/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Chrome updates
          </a>
        </li>
        <li>
          <a href="https://developers.google.com/web/fundamentals"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            Web Fundamentals
          </a>
        </li>
        <li>
          <a href="/tags/case-study/"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 3)">
            Case studies
          </a>
        </li>
        <li>
          <a href="/podcasts/"
            data-category="Podcasts" data-label="Footer Link (index 5)">
            Podcasts
          </a>
        </li>
        <li>
          <a href="/shows/"
            data-category="Shows" data-label="Footer Link (index 6)">
            Shows
          </a>
        </li>
      </ul>
    </div>
    <div>
      <h3 class="text-size-2 color-mid-text">Connect</h3>
      <ul class="w-footer__linkbox-list" role="list">
        <li>
          <a href="https://www.twitter.com/ChromiumDev"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 1)">
            Twitter
          </a>
        </li>
        <li>
          <a href="https://www.youtube.com/user/ChromeDevelopers"
            data-category="Site-Wide Custom Events" data-label="Footer Link (index 2)">
            YouTube
          </a>
        </li>
      </ul>
    </div>
  </nav>
  <nav class="site-footer__brand-nav repel" aria-label="Google developers">
    <ul class="cluster" role="list">
      <li>
        <a href="https://developers.google.com/" data-category="Site-Wide Custom Events" data-label="Footer Google Developers Link">
          <img loading="lazy" width="185" height="33" class="w-footer__utility-logo" src="/images/lockup-color.png"
            alt="Google Developers" />
        </a>
      </li>
      <li>
        <a href="https://developer.chrome.com/"
          data-category="Site-Wide Custom Events" data-label="Footer Chrome Link">
          Chrome
        </a>
      </li>
      <li>
        <a href="https://firebase.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Firebase Link">
          Firebase
        </a>
      </li>
      <li>
        <a href="https://cloud.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Google Cloud Platform Link">
          Google Cloud Platform
        </a>
      </li>
      <li>
        <a href="https://developers.google.com/products"
          data-category="Site-Wide Custom Events" data-label="Footer All products Link">
          All products
        </a>
      </li>
    </ul>
    <web-language-select current="en"></web-language-select>
  </nav>
  <nav class="site-footer__misc-links" aria-label="terms and policies">
    <ul class="cluster" role="list">
      <li>
        <a href="https://policies.google.com/" data-category="Site-Wide Custom Events"
          data-label="Footer Terms and Privacy link">
          Terms &amp; Privacy
        </a>
      </li>
      <li>
        <a href="/community-guidelines/" data-category="Site-Wide Custom Events"
          data-label="Footer Community Guidelines link">
          Community Guidelines
        </a>
      </li>
    </ul>
  </nav>
  <p class="gap-top-size-2 text-size-0">
    Except as otherwise noted, the content of this page is licensed
    under the
    <a href="https://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 License</a>,
    and code samples are licensed under the
    <a href="https://www.apache.org/licenses/LICENSE-2.0">
    Apache 2.0 License</a>. For details, see the
    <a href="https://developers.google.com/terms/site-policies">
    Google Developers Site Policies</a>.
  </p>
</footer>


  </body>
</html>
